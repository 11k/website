function chat(e){var t="https:"===location.protocol?"wss://":"ws://";this.server=t+e.options.host+"/ws",this.connected=!1,this.debug=!1,this.users={},this.ignorelist={},this.errorstrings={unknown:"Unknown error, this usually indicates an internal problem :(",nopermission:"You do not have the required permissions to use that",protocolerror:"Invalid or badly formatted",needlogin:"You have to be logged in to use that",invalidmsg:"The message was invalid",throttled:"Throttled! You were trying to send messages too fast",duplicate:"The message is identical to the last one you sent",muted:"You are muted (subscribing auto-removes mutes)",submode:"The channel is currently in subscriber only mode",needbanreason:"Providing a reason for the ban is mandatory",banned:"You have been banned (subscribing auto-removes non-permanent bans), disconnecting",requiresocket:"This chat requires WebSockets",toomanyconnections:"Only 5 concurrent connections allowed",socketerror:"Error contacting server",privmsgbanned:"Cannot send private messages while banned",privmsgaccounttooyoung:"Your account is too recent to send private messages",notfound:"The user was not found"},this.hints={hint:"Type in /hint for more hints",slashhelp:"Type in /help for more advanced features, like modifying the scrollback size",tabcompletion:"Use the tab key to auto-complete usernames and emotes (for user only completion prepend a @ or press shift)",hoveremotes:"Hovering your mouse over an emote will show you the emote code",highlight:"Chat messages containing your username will be highlighted",notify:"Use /msg <username> to send a private message to someone",ignoreuser:"Use /ignore <username> to hide messages from pesky chatters",emotewiki:"For the list of available emotes type /emotes or https://destiny.gg/emotes",mutespermanent:"Mutes are never persistent, don't worry it will pass!"},this.hintindex=[];for(var s in this.hints)this.hints.hasOwnProperty(s)&&this.hintindex.push(s);return this.user=new ChatUser(e.user),this.gui=new ChatGui(this,e.options),this.previousemote=null,this.originemote=null,this.showstarthint=!0,this}!function(e){var t=function(t,s){var i=this;if(!t||0==t.length||!t[0].setSelectionRange)return this;this.minWordLength=1,this.maxResults=10,this.buckets={},this.origVal=null,this.searchResults=[],this.searchIndex=-1,this.searchWord=null,this.input=e(t),this.expireUsers=e.proxy(this.expireUsers,this);for(var u=s.length-1;u>=0;u--)this.addEmote(s[u]);return setInterval(this.expireUsers,1e5),this.input.on({mousedown:function(){i.resetSearch()},keydown:function(e){if(9==e.keyCode){var t=e.shiftKey;return i.searchResults.length<=0&&(i.resetSearch(),i.searchSelectWord(t)),i.showAutoComplete(),!1}return i.resetSearch(),!0}}),this};t.prototype.getBucketId=function(e){return 0==e.length?"":e[0].toLowerCase()},t.prototype.addToBucket=function(e,t,s,i){if(this.input){var u=this.getBucketId(e);return this.buckets[u]||(this.buckets[u]={}),this.buckets[u][e]||(this.buckets[u][e]={data:e,weight:t,isemote:!!s,promoted:i}),this.buckets[u][e]}},t.prototype.addEmote=function(e){return this.addToBucket(e,1,!0,0),this},t.prototype.addNick=function(e){return this.addToBucket(e,1,!1,0),this},t.prototype.updateNick=function(e){if(this.input){var t=Date.now(),s=this.addToBucket(e,t,!1,0);return s.weight=t,this}},t.prototype.promoteNick=function(e){var t=Date.now(),s=this.addToBucket(e,1,!1,t);return s.isemote?this:(s.promoted=t,this)},t.prototype.getSearchWord=function(e,t){var s=e.substring(0,t),i=e.substring(t),u=s.lastIndexOf(" ")+1,n=i.indexOf(" "),r=!1;return u>0&&(s=s.substring(u)),n>-1&&(i=i.substring(0,n)),0===s.lastIndexOf("@")&&(u++,s=s.substring(1),r=!0),{word:s+i,startCaret:u,isUserSearch:r}},t.prototype.sortResults=function(e,t){return e&&t?e.promoted!=t.promoted?e.promoted>t.promoted?-1:1:e.isemote!=t.isemote?e.isemote&&!t.isemote?-1:1:e.weight!=t.weight?e.weight>t.weight?-1:1:(e=e.data.toLowerCase(),t=t.data.toLowerCase(),e==t?0:e>t?1:-1):0},t.prototype.searchBuckets=function(e,t,s){e=e.trim().replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var i=[],u=new RegExp("^"+e,"i"),n=this.buckets[this.getBucketId(e)]||{};for(var r in n)!n.hasOwnProperty(r)||s&&n[r].isemote||u.test(r)&&i.push(n[r]);return i.sort(this.sortResults),i.slice(0,t)},t.prototype.expireUsers=function(){var e=Date.now()-6e5;for(var t in this.buckets)if(this.buckets.hasOwnProperty(t))for(var s in this.buckets[t])if(this.buckets[t].hasOwnProperty(s)){var i=this.buckets[t][s];!i.isemote&&i.promoted<=e&&(i.promoted=0),!i.isemote&&i.weight<=e&&(i.weight=1)}},t.prototype.markLastComplete=function(){if(this.lastComplete){var e=this.buckets[this.getBucketId(this.lastComplete)]||{};if(!e[this.lastComplete])return this.lastComplete=null;if(e[this.lastComplete].isemote){for(var t in e)e.hasOwnProperty(t)&&(e[t].promoted=0);return this.lastComplete=null}this.promoteNick(this.lastComplete),this.lastComplete=null}},t.prototype.resetSearch=function(){this.origVal=null,this.searchResults=[],this.searchIndex=-1,this.searchWord=null},t.prototype.searchSelectWord=function(e){var t=this.getSearchWord(this.input.val(),this.input[0].selectionStart);if(t.word.length>=this.minWordLength){this.searchWord=t;var s=!!e||this.searchWord.isUserSearch;this.searchResults=this.searchBuckets(this.searchWord.word,this.maxResults,s),this.origVal=this.input.val()}},t.prototype.showAutoComplete=function(){this.searchIndex>=this.searchResults.length-1?this.searchIndex=0:this.searchIndex=this.searchIndex+1;var e=this.searchResults[this.searchIndex];if(e&&e.data!=this.searchWord.word){this.lastComplete=e.data;var t=this.origVal.substr(0,this.searchWord.startCaret),s=this.origVal.substr(this.searchWord.startCaret+this.searchWord.word.length);return" "==s[0]&&0!=s.length||(s=" "+s),this.input.focus().val(t+e.data+s),this.input[0].setSelectionRange(t.length+e.data.length+1,t.length+e.data.length+1),!0}},window.ChatAutoComplete=t}(jQuery),function(e){destiny.fn.GreenTextFormatter=function(e){return this},destiny.fn.GreenTextFormatter.prototype.format=function(e,t){return t&&0===e.indexOf("&gt;")&&t.hasAnyFeatures(destiny.UserFeatures.SUBSCRIBERT3,destiny.UserFeatures.SUBSCRIBERT4,destiny.UserFeatures.SUBSCRIBERT2,destiny.UserFeatures.ADMIN,destiny.UserFeatures.MODERATOR)&&(e='<span class="greentext">'+e+"</span>"),e},destiny.fn.EmoteFormatter=function(e){return this.emoteregex=new RegExp("(^|\\s)("+e.emoticons.join("|")+")(?=$|\\s)"),this.gemoteregex=new RegExp("(^|\\s)("+e.emoticons.join("|")+")(?=$|\\s)","gm"),this.twitchemoteregex=new RegExp("(^|\\s)("+e.emoticons.join("|")+"|"+e.twitchemotes.join("|")+")(?=$|\\s)","gm"),this},destiny.fn.EmoteFormatter.prototype.format=function(e,t){var s=this.emoteregex;return t&&t.features.length>0&&(s=t.hasFeature(destiny.UserFeatures.SUBSCRIBERT0)?this.twitchemoteregex:this.gemoteregex),e.replace(s,'$1<div title="$2" class="chat-emote chat-emote-$2">$2 </div>')},destiny.fn.MentionedUserFormatter=function(e){return this.users=e.engine.users,this.userregex=/((?:^|\s)@?)([a-zA-Z0-9_]{3,20})(?=$|\s|[\.\?!,])/g,this},destiny.fn.MentionedUserFormatter.prototype.format=function(e,t){var s=this.users;return e.replace(this.userregex,function(e,t,i){return s.propertyIsEnumerable(i)?t+'<span class="chat-user">'+i+"</span>":e})}}(jQuery),function(e){destiny.fn.UrlFormatter=function(t){var s={"p{L}":"\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC","p{N}":"\\u0030-\\u0039\\u00B2\\u00B3\\u00B9\\u00BC-\\u00BE\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u09F4-\\u09F9\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0B72-\\u0B77\\u0BE6-\\u0BF2\\u0C66-\\u0C6F\\u0C78-\\u0C7E\\u0CE6-\\u0CEF\\u0D66-\\u0D75\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F33\\u1040-\\u1049\\u1090-\\u1099\\u1369-\\u137C\\u16EE-\\u16F0\\u17E0-\\u17E9\\u17F0-\\u17F9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19DA\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\u2070\\u2074-\\u2079\\u2080-\\u2089\\u2150-\\u2182\\u2185-\\u2189\\u2460-\\u249B\\u24EA-\\u24FF\\u2776-\\u2793\\u2CFD\\u3007\\u3021-\\u3029\\u3038-\\u303A\\u3192-\\u3195\\u3220-\\u3229\\u3248-\\u324F\\u3251-\\u325F\\u3280-\\u3289\\u32B1-\\u32BF\\uA620-\\uA629\\uA6E6-\\uA6EF\\uA830-\\uA835\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19","p{Sc}":"\\u0024\\u00A2-\\u00A5\\u058F\\u060B\\u09F2\\u09F3\\u09FB\\u0AF1\\u0BF9\\u0E3F\\u17DB\\u20A0-\\u20B9\\uA838\\uFDFC\\uFE69\\uFF04\\uFFE0\\uFFE1\\uFFE5\\uFFE6","p{Sk}":"\\u005E\\u0060\\u00A8\\u00AF\\u00B4\\u00B8\\u02C2-\\u02C5\\u02D2-\\u02DF\\u02E5-\\u02EB\\u02ED\\u02EF-\\u02FF\\u0375\\u0384\\u0385\\u1FBD\\u1FBF-\\u1FC1\\u1FCD-\\u1FCF\\u1FDD-\\u1FDF\\u1FED-\\u1FEF\\u1FFD\\u1FFE\\u309B\\u309C\\uA700-\\uA716\\uA720\\uA721\\uA789\\uA78A\\uFBB2-\\uFBC1\\uFF3E\\uFF40\\uFFE3","p{So}":"\\u00A6\\u00A9\\u00AE\\u00B0\\u0482\\u060E\\u060F\\u06DE\\u06E9\\u06FD\\u06FE\\u07F6\\u09FA\\u0B70\\u0BF3-\\u0BF8\\u0BFA\\u0C7F\\u0D79\\u0F01-\\u0F03\\u0F13\\u0F15-\\u0F17\\u0F1A-\\u0F1F\\u0F34\\u0F36\\u0F38\\u0FBE-\\u0FC5\\u0FC7-\\u0FCC\\u0FCE\\u0FCF\\u0FD5-\\u0FD8\\u109E\\u109F\\u1390-\\u1399\\u1940\\u19DE-\\u19FF\\u1B61-\\u1B6A\\u1B74-\\u1B7C\\u2100\\u2101\\u2103-\\u2106\\u2108\\u2109\\u2114\\u2116\\u2117\\u211E-\\u2123\\u2125\\u2127\\u2129\\u212E\\u213A\\u213B\\u214A\\u214C\\u214D\\u214F\\u2195-\\u2199\\u219C-\\u219F\\u21A1\\u21A2\\u21A4\\u21A5\\u21A7-\\u21AD\\u21AF-\\u21CD\\u21D0\\u21D1\\u21D3\\u21D5-\\u21F3\\u2300-\\u2307\\u230C-\\u231F\\u2322-\\u2328\\u232B-\\u237B\\u237D-\\u239A\\u23B4-\\u23DB\\u23E2-\\u23F3\\u2400-\\u2426\\u2440-\\u244A\\u249C-\\u24E9\\u2500-\\u25B6\\u25B8-\\u25C0\\u25C2-\\u25F7\\u2600-\\u266E\\u2670-\\u26FF\\u2701-\\u2767\\u2794-\\u27BF\\u2800-\\u28FF\\u2B00-\\u2B2F\\u2B45\\u2B46\\u2B50-\\u2B59\\u2CE5-\\u2CEA\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3004\\u3012\\u3013\\u3020\\u3036\\u3037\\u303E\\u303F\\u3190\\u3191\\u3196-\\u319F\\u31C0-\\u31E3\\u3200-\\u321E\\u322A-\\u3247\\u3250\\u3260-\\u327F\\u328A-\\u32B0\\u32C0-\\u32FE\\u3300-\\u33FF\\u4DC0-\\u4DFF\\uA490-\\uA4C6\\uA828-\\uA82B\\uA836\\uA837\\uA839\\uAA77-\\uAA79\\uFDFD\\uFFE4\\uFFE8\\uFFED\\uFFEE\\uFFFC\\uFFFD"},i=s["p{L}"],u=s["p{N}"],n=i+u,r=n+"/\\-+=_&~*%@|#.,:;'?!"+s["p{Sc}"]+s["p{Sk}"]+s["p{So}"],o=n+"/\\-+=_&~*%;"+s["p{Sc}"],a="(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])",h="(?:\\b"+a+"\\."+a+"\\."+a+"\\."+a+"\\b)",c="["+n+"](?:["+n+"\\-]*["+n+"])?",A="(?:"+c+"\\.)+",l="(?:NORTHWESTERNMUTUAL|TRAVELERSINSURANCE|AMERICANEXPRESS|KERRYPROPERTIES|SANDVIKCOROMANT|AFAMILYCOMPANY|AMERICANFAMILY|BANANAREPUBLIC|CANCERRESEARCH|COOKINGCHANNEL|KERRYLOGISTICS|WEATHERCHANNEL|INTERNATIONAL|LIFEINSURANCE|ORIENTEXPRESS|SPREADBETTING|TRAVELCHANNEL|WOLTERSKLUWER|CONSTRUCTION|LPLFINANCIAL|PAMPEREDCHEF|SCHOLARSHIPS|VERSICHERUNG|ACCOUNTANTS|BARCLAYCARD|BLACKFRIDAY|BLOCKBUSTER|BRIDGESTONE|CALVINKLEIN|CONTRACTORS|CREDITUNION|ENGINEERING|ENTERPRISES|FOODNETWORK|INVESTMENTS|KERRYHOTELS|LAMBORGHINI|MOTORCYCLES|OLAYANGROUP|PHOTOGRAPHY|PLAYSTATION|PRODUCTIONS|PROGRESSIVE|REDUMBRELLA|RIGHTATHOME|WILLIAMHILL|ACCOUNTANT|APARTMENTS|ASSOCIATES|BNPPARIBAS|BOEHRINGER|CAPITALONE|CONSULTING|CREDITCARD|CUISINELLA|EUROVISION|EXTRASPACE|FOUNDATION|HEALTHCARE|IMMOBILIEN|INDUSTRIES|MANAGEMENT|MITSUBISHI|NATIONWIDE|NEXTDIRECT|ONYOURSIDE|PROPERTIES|PROTECTION|PRUDENTIAL|REALESTATE|REPUBLICAN|RESTAURANT|SCHAEFFLER|SWIFTCOVER|TATAMOTORS|TECHNOLOGY|TELEFONICA|UNIVERSITY|VISTAPRINT|VLAANDEREN|VOLKSWAGEN|ACCENTURE|ALFAROMEO|ALLFINANZ|AMSTERDAM|ANALYTICS|AQUARELLE|BARCELONA|BLOOMBERG|CHRISTMAS|COMMUNITY|DIRECTORY|EDUCATION|EQUIPMENT|FAIRWINDS|FINANCIAL|FIRESTONE|FRESENIUS|FRONTDOOR|FUJIXEROX|FURNITURE|GOLDPOINT|GOODHANDS|HISAMITSU|HOMEDEPOT|HOMEGOODS|HOMESENSE|HONEYWELL|INSTITUTE|INSURANCE|KUOKGROUP|LADBROKES|LANCASTER|LANDROVER|LIFESTYLE|MARKETING|MARSHALLS|MCDONALDS|MELBOURNE|MICROSOFT|MONTBLANC|PANASONIC|PASSAGENS|PRAMERICA|RICHARDLI|SCJOHNSON|SHANGRILA|SOLUTIONS|STATEBANK|STATEFARM|STOCKHOLM|TRAVELERS|VACATIONS|YODOBASHI|ABUDHABI|AIRFORCE|ALLSTATE|ATTORNEY|BARCLAYS|BAREFOOT|BARGAINS|BOUTIQUE|BRADESCO|BROADWAY|BRUSSELS|BUDAPEST|BUILDERS|BUSINESS|CAPETOWN|CATERING|CHRYSLER|CIPRIANI|CITYEATS|CLEANING|CLINIQUE|CLOTHING|COMMBANK|COMPUTER|DELIVERY|DELOITTE|DEMOCRAT|DIAMONDS|DISCOUNT|DISCOVER|DOWNLOAD|ENGINEER|ERICSSON|ESURANCE|EVERBANK|EXCHANGE|FEEDBACK|FIDELITY|FIRMDALE|FOOTBALL|FRONTIER|GOODYEAR|GRAINGER|GRAPHICS|GUARDIAN|HDFCBANK|HELSINKI|HOLDINGS|INFINITI|IPIRANGA|ISTANBUL|JPMORGAN|LIGHTING|LUNDBECK|MARRIOTT|MASERATI|MCKINSEY|MEMORIAL|MORTGAGE|MOVISTAR|MUTUELLE|OBSERVER|PARTNERS|PHARMACY|PICTURES|PLUMBING|PROPERTY|REDSTONE|SAARLAND|SAMSCLUB|SECURITY|SERVICES|SHOPPING|SHOWTIME|SOFTBANK|SOFTWARE|STCGROUP|SUPPLIES|SYMANTEC|TELECITY|TRAINING|UCONNECT|VANGUARD|VENTURES|VERISIGN|WOODSIDE|YOKOHAMA|ABOGADO|ACADEMY|AGAKHAN|ALIBABA|ANDROID|ATHLETA|AUCTION|AUDIBLE|AUSPOST|AVIANCA|BANAMEX|BAUHAUS|BENTLEY|BESTBUY|BOOKING|BROTHER|BUGATTI|CAPITAL|CARAVAN|CAREERS|CARTIER|CHANNEL|CHINTAI|CITADEL|CLUBMED|COLLEGE|COLOGNE|COMCAST|COMPANY|COMPARE|CONTACT|COOKING|CORSICA|COUNTRY|COUPONS|COURSES|CRICKET|CRUISES|DENTIST|DIGITAL|DOMAINS|EXPOSED|EXPRESS|FARMERS|FASHION|FERRARI|FERRERO|FINANCE|FISHING|FITNESS|FLIGHTS|FLORIST|FLOWERS|FORSALE|FROGANS|FUJITSU|GALLERY|GENTING|GODADDY|GUITARS|HAMBURG|HANGOUT|HITACHI|HOLIDAY|HOSTING|HOTELES|HOTMAIL|HYUNDAI|ISELECT|ISMAILI|JEWELRY|JUNIPER|KITCHEN|KOMATSU|LACAIXA|LANCOME|LANXESS|LASALLE|LATROBE|LECLERC|LIAISON|LIMITED|LINCOLN|MARKETS|METLIFE|MONSTER|NETBANK|NETFLIX|NETWORK|NEUSTAR|OKINAWA|OLDNAVY|ORGANIC|ORIGINS|PANERAI|PHILIPS|PIONEER|POLITIE|REALTOR|RECIPES|RENTALS|REVIEWS|REXROTH|SAMSUNG|SANDVIK|SCHMIDT|SCHWARZ|SCIENCE|SHIKSHA|SHRIRAM|SINGLES|SPIEGEL|STAPLES|STARHUB|STATOIL|STORAGE|SUPPORT|SURGERY|SYSTEMS|TEMASEK|THEATER|THEATRE|TICKETS|TIFFANY|TOSHIBA|TRADING|WALMART|WANGGOU|WATCHES|WEATHER|WEBSITE|WEDDING|WHOSWHO|WINDOWS|WINNERS|XFINITY|YAMAXUN|YOUTUBE|ZUERICH|ABARTH|ABBOTT|ABBVIE|ACTIVE|AGENCY|AIRBUS|AIRTEL|ALIPAY|ALSACE|ALSTOM|ANQUAN|ARAMCO|AUTHOR|BAYERN|BEAUTY|BERLIN|BHARTI|BLANCO|BOSTIK|BROKER|CAMERA|CAREER|CASINO|CENTER|CHANEL|CHROME|CHURCH|CIRCLE|CLAIMS|CLINIC|COFFEE|COMSEC|CONDOS|COUPON|CREDIT|DATING|DATSUN|DEALER|DEGREE|DENTAL|DESIGN|DIRECT|DOCTOR|DUNLOP|DUPONT|DURBAN|EMERCK|ENERGY|ESTATE|EVENTS|EXPERT|FAMILY|FLICKR|FUTBOL|GALLUP|GARDEN|GEORGE|GIVING|GLOBAL|GOOGLE|GRATIS|HEALTH|HERMES|HIPHOP|HOCKEY|HUGHES|IMAMAT|INSURE|INTUIT|JAGUAR|JOBURG|JUEGOS|KAUFEN|KINDER|KINDLE|KOSHER|LANCIA|LATINO|LAWYER|LEFRAK|LIVING|LOCKER|LONDON|LUXURY|MADRID|MAISON|MAKEUP|MARKET|MATTEL|MOBILY|MONASH|MORMON|MOSCOW|MUSEUM|MUTUAL|NAGOYA|NATURA|NISSAN|NISSAY|NORTON|NOWRUZ|OFFICE|OLAYAN|ONLINE|ORACLE|ORANGE|OTSUKA|PFIZER|PHOTOS|PHYSIO|PIAGET|PICTET|QUEBEC|RACING|REALTY|REISEN|REPAIR|REPORT|REVIEW|ROCHER|ROGERS|RYUKYU|SAFETY|SAKURA|SANOFI|SCHOOL|SCHULE|SECURE|SELECT|SHOUJI|SOCCER|SOCIAL|STREAM|STUDIO|SUPPLY|SUZUKI|SWATCH|SYDNEY|TAIPEI|TAOBAO|TARGET|TATTOO|TENNIS|TIENDA|TJMAXX|TKMAXX|TOYOTA|TRAVEL|UNICOM|VIAJES|VIKING|VILLAS|VIRGIN|VISION|VOTING|VOYAGE|VUELOS|WALTER|WARMAN|WEBCAM|XIHUAN|XPERIA|YACHTS|YANDEX|ZAPPOS|ACTOR|ADULT|AETNA|AMFAM|AMICA|APPLE|ARCHI|AUDIO|AUTOS|AZURE|BAIDU|BEATS|BIBLE|BINGO|BLACK|BOATS|BOOTS|BOSCH|BUILD|CANON|CARDS|CHASE|CHEAP|CHLOE|CISCO|CITIC|CLICK|CLOUD|COACH|CODES|CROWN|CYMRU|DABUR|DANCE|DEALS|DELTA|DODGE|DRIVE|DUBAI|EARTH|EDEKA|EMAIL|EPOST|EPSON|FAITH|FEDEX|FINAL|FOREX|FORUM|GALLO|GAMES|GIFTS|GIVES|GLADE|GLASS|GLOBO|GMAIL|GREEN|GRIPE|GROUP|GUCCI|GUIDE|HOMES|HONDA|HORSE|HOUSE|HYATT|IINET|IKANO|INTEL|IRISH|JETZT|KOELN|KYOTO|LAMER|LEASE|LEGAL|LEXUS|LILLY|LINDE|LIPSY|LIXIL|LOANS|LOCUS|LOTTE|LOTTO|LUPIN|MACYS|MANGO|MEDIA|MIAMI|MONEY|MOPAR|MOVIE|NADEX|NEXUS|NIKON|NINJA|NOKIA|NOWTV|OMEGA|OSAKA|PARIS|PARTS|PARTY|PHOTO|PIZZA|PLACE|POKER|PRAXI|PRESS|PRIME|PROMO|QUEST|RADIO|REHAB|REISE|RICOH|ROCKS|RODEO|SALON|SENER|SEVEN|SHARP|SHELL|SHOES|SKYPE|SLING|SMART|SMILE|SOLAR|SPACE|STADA|STORE|STUDY|STYLE|SUCKS|SWISS|TATAR|TIRES|TIROL|TMALL|TODAY|TOKYO|TOOLS|TORAY|TOTAL|TOURS|TRADE|TRUST|TUNES|TUSHU|UBANK|VEGAS|VIDEO|VISTA|VODKA|WALES|WATCH|WEBER|WEIBO|WORKS|WORLD|XEROX|YAHOO|ZIPPO|local|onion|AARP|ABLE|ADAC|AERO|AIGO|AKDN|ALLY|AMEX|ARMY|ARPA|ARTE|ASDA|ASIA|AUDI|AUTO|BABY|BAND|BANK|BBVA|BEER|BEST|BIKE|BING|BLOG|BLUE|BOFA|BOND|BOOK|BUZZ|CAFE|CALL|CAMP|CARE|CARS|CASA|CASH|CBRE|CERN|CHAT|CITI|CITY|CLUB|COOL|COOP|CYOU|DATE|DCLK|DEAL|DELL|DESI|DIET|DISH|DOCS|DOHA|DUCK|DUNS|DVAG|ERNI|FAGE|FAIL|FANS|FARM|FAST|FIAT|FIDO|FILM|FIRE|FISH|FLIR|FORD|FUND|GAME|GBIZ|GENT|GGEE|GIFT|GMBH|GOLD|GOLF|GOOG|GUGE|GURU|HAUS|HDFC|HELP|HERE|HGTV|HOST|HSBC|ICBC|IEEE|IMDB|IMMO|INFO|ITAU|JAVA|JEEP|JOBS|JPRS|KDDI|KIWI|KPMG|KRED|LAND|LEGO|LGBT|LIDL|LIFE|LIKE|LIMO|LINK|LIVE|LOAN|LOFT|LOVE|LTDA|LUXE|MAIF|MEET|MEME|MENU|MINI|MINT|MOBI|MODA|MTPC|NAME|NAVY|NEWS|NEXT|NICO|NIKE|OLLO|OPEN|PAGE|PARS|PCCW|PICS|PING|PINK|PLAY|PLUS|POHL|PORN|POST|PROD|PROF|QPON|RAID|READ|REIT|RENT|REST|RICH|ROOM|RSVP|RUHR|SAFE|SALE|SAPO|SARL|SAVE|SAXO|SCOR|SCOT|SEAT|SEEK|SEXY|SHAW|SHIA|SHOP|SHOW|SILK|SINA|SITE|SKIN|SNCF|SOHU|SONG|SONY|SPOT|STAR|SURF|TALK|TAXI|TEAM|TECH|TEVA|TIAA|TIPS|TOWN|TOYS|TUBE|VANA|VISA|VIVA|VIVO|VOTE|VOTO|WANG|WEIR|WIEN|WIKI|WINE|WORK|XBOX|YOGA|ZARA|ZERO|ZONE|exit|zkey|AAA|ABB|ABC|ACO|ADS|AEG|AFL|AIG|ANZ|APP|ART|AWS|AXA|BAR|BBC|BBT|BCG|BCN|BET|BID|BIO|BIZ|BMS|BMW|BNL|BOM|BOO|BOT|BUY|BZH|CAB|CAL|CAM|CAR|CAT|CBA|CBN|CBS|CEB|CEO|CFA|CFD|COM|CRS|CSC|DAD|DAY|DDS|DEV|DHL|DIY|DNP|DOG|DOT|DTV|DVR|EAT|ECO|EDU|ESQ|EUS|FAN|FIT|FLY|FOO|FOX|FRL|FTR|FYI|GAL|GAP|GDN|GEA|GLE|GMO|GMX|GOO|GOP|GOT|GOV|HBO|HIV|HKT|HOT|HOW|HTC|IBM|ICE|ICU|IFM|ING|INK|INT|IST|ITV|IWC|JCB|JCP|JLC|JLL|JMP|JNJ|JOT|JOY|KFH|KIA|KIM|KPN|KRD|LAT|LAW|LDS|LOL|LPL|LTD|MAN|MBA|MCD|MED|MEN|MEO|MIL|MIT|MLB|MLS|MMA|MOE|MOI|MOM|MOV|MSD|MTN|MTR|NAB|NBA|NEC|NET|NEW|NFL|NGO|NHK|NOW|NRA|NRW|NTT|NYC|OBI|OFF|ONE|ONG|ONL|OOO|ORG|OTT|OVH|PAY|PET|PID|PIN|PNC|PRO|PRU|PUB|PWC|QVC|RED|REN|RIO|RIP|RUN|RWE|SAP|SAS|SBI|SBS|SCA|SCB|SES|SEW|SEX|SFR|SKI|SKY|SOY|SRL|SRT|STC|TAB|TAX|TCI|TDK|TEL|THD|TJX|TOP|TRV|TUI|TVS|UBS|UNO|UOL|UPS|VET|VIG|VIN|VIP|WED|WIN|WME|WOW|WTC|WTF|XIN|XXX|XYZ|YOU|YUN|ZIP|bit|gnu|i2p|AC|AD|AE|AF|AG|AI|AL|AM|AO|AQ|AR|AS|AT|AU|AW|AX|AZ|BA|BB|BD|BE|BF|BG|BH|BI|BJ|BM|BN|BO|BR|BS|BT|BV|BW|BY|BZ|CA|CC|CD|CF|CG|CH|CI|CK|CL|CM|CN|CO|CR|CU|CV|CW|CX|CY|CZ|DE|DJ|DK|DM|DO|DZ|EC|EE|EG|ER|ES|ET|EU|FI|FJ|FK|FM|FO|FR|GA|GB|GD|GE|GF|GG|GH|GI|GL|GM|GN|GP|GQ|GR|GS|GT|GU|GW|GY|HK|HM|HN|HR|HT|HU|ID|IE|IL|IM|IN|IO|IQ|IR|IS|IT|JE|JM|JO|JP|KE|KG|KH|KI|KM|KN|KP|KR|KW|KY|KZ|LA|LB|LC|LI|LK|LR|LS|LT|LU|LV|LY|MA|MC|MD|ME|MG|MH|MK|ML|MM|MN|MO|MP|MQ|MR|MS|MT|MU|MV|MW|MX|MY|MZ|NA|NC|NE|NF|NG|NI|NL|NO|NP|NR|NU|NZ|OM|PA|PE|PF|PG|PH|PK|PL|PM|PN|PR|PS|PT|PW|PY|QA|RE|RO|RS|RU|RW|SA|SB|SC|SD|SE|SG|SH|SI|SJ|SK|SL|SM|SN|SO|SR|ST|SU|SV|SX|SY|SZ|TC|TD|TF|TG|TH|TJ|TK|TL|TM|TN|TO|TR|TT|TV|TW|TZ|UA|UG|UK|US|UY|UZ|VA|VC|VE|VG|VI|VN|VU|WF|WS|YE|YT|ZA|ZM|ZW)",E="(?:"+A+l+"|"+h+")",g="\\[["+r+"]*(?:\\[["+r+"]*\\]["+r+"]*)*\\]",C="\\(["+r+"]*(?:\\(["+r+"]*\\)["+r+"]*)*\\)",p=C+"|"+g,d="(?:["+r+"]*(?:"+p+"|["+o+"])+)+",m="(?:"+d+"|/|\\b|$)",S="(?::[0-9]+)?",f="(?:"+E+S+"/"+m+")|(?:"+E+S+"(?:\\b|$))",I="(https?|ftp)://",F="\\b"+I+d,T=F+"|"+f;return this.linkregex=new RegExp(T,"gi"),this._elem=e("<div/>"),this},destiny.fn.UrlFormatter.prototype.encodeUrl=function(e){return e.replace(/&/g,"&amp;").replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,function(e){var t=e.charCodeAt(0),s=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(s-56320)+65536)+";"}).replace(/([^\#-~| |!])/g,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")},destiny.fn.UrlFormatter.prototype.format=function(e){if(e){var t=this,s="";return/\b(?:NSFL)\b/i.test(e)?s=" nsfl-link":/\b(?:NSFW|SPOILER)\b/i.test(e)&&(s=" nsfw-link"),e.replace(t.linkregex,function(e,i){i=i?"":"http://";var u=t._elem.html(e).text(),n=u.match(t.linkregex);if(!n)return e;e=t.encodeUrl(n[0]);var r=t.encodeUrl(u.substring(n[0].length));return'<a target="_blank" class="externallink'+s+'" href="'+i+e+'" rel="nofollow">'+e+"</a>"+r})}}}(jQuery),ChatMenu=function(){function e(e,s){var i=null;this.ui=e,this.chat=s,this.btn=null,this.visible=!1,this.shown=!1,this.on=function(e,t){$(this).on(e,t)},this.show=function(e){this.visible||(this.shown||$(this).triggerHandler("init"),this.visible=!0,this.shown=!0,this.btn=e,$(this.btn).addClass("active"),$(this.ui).addClass("active"),$(this).triggerHandler("show"),$(this.ui).find(".scrollable").each(function(){i?i.reset():i=$(this).nanoScroller({disableResize:!0,preventPageScrolling:!0})[0].nanoscroller}))},this.hide=function(){this.visible&&(this.visible=!1,$(this.btn).removeClass("active"),$(this.ui).removeClass("active"),$(this).triggerHandler("hide"))},this.toggle=function(e){var t=this.visible;ChatMenu.closeMenus(null),t||this.show(e)},this.redraw=function(){i&&i.reset()},this.ui.on("click",".close",this.hide.bind(this)),t.push(this)}var t=[];return e.closeMenus=function(){for(var e=0;e<t.length;++e)t[e].hide()},e}(),function(e){ChatGui=function(t,s){return this.ui=e("#destinychat"),this.engine=t,e.extend(this,s),this.init()},e.extend(ChatGui.prototype,{loaded:!1,maxlines:500,scrollPlugin:null,autoCompletePlugin:null,ui:null,lines:null,output:null,input:null,userMessages:[],focusedUsers:[],inputhistory:[],currenthistoryline:-1,storedinputline:null,backlog:[],backlogLoading:!1,highlightregex:{},lastMessage:null,emoticons:[],twitchemotes:[],formatters:[],pmcountnum:0,pmcount:null,stylesheet:null,preferences:{showtime:{value:!1,default:!1},hideflairicons:{value:!1,default:!1},timestampformat:{value:"HH:mm",default:"HH:mm"},maxlines:{value:500,default:500},allowNotifications:{value:!1,default:!1},highlight:{value:!0,default:!0},customhighlight:{value:[],default:[]},highlightnicks:{value:{},default:{}}},trigger:function(t,s){e(this).trigger(t,s)},on:function(t,s){e(this).on(t,s)},init:function(){var t=this;this.pmcount=this.ui.find("#chat-pm-count:first").eq(0),this.lines=this.ui.find("#chat-lines:first").eq(0),this.output=this.ui.find("#chat-output:first").eq(0),this.input=this.ui.find("#chat-input .input:first").eq(0),this.stylesheet=e("#chat-styles")[0].sheet,this.formatters.push(new destiny.fn.UrlFormatter(this)),this.formatters.push(new destiny.fn.EmoteFormatter(this)),this.formatters.push(new destiny.fn.MentionedUserFormatter(this)),this.formatters.push(new destiny.fn.GreenTextFormatter(this)),this.preferences.maxlines.value=this.maxlines,this.preferences.maxlines.default=this.maxlines,this.scrollPlugin=this.output.nanoScroller({disableResize:!0,preventPageScrolling:!0,sliderMinHeight:40,tabIndex:1})[0].nanoscroller,this.scrollPlugin.isScrolledToBottom=function(){return this.contentScrollTop>=this.maxScrollTop-30},this.scrollPlugin.updateAndScroll=function(e){this.isActive&&(this.reset(),e&&this.scrollBottom(0))},this.loadPreferences(),this.loadHighlighters(),this.loadInputHistory(),this.autoCompletePlugin=new ChatAutoComplete(this.input,this.emoticons.concat(this.twitchemotes));var s=this.ui.find("#chat-settings:first").eq(0),i=new ChatMenu(s,t),u=this.ui.find("#chat-settings-notification-permissions"),n=function(){u.text("(Permission "+("default"===Notification.permission?"required":Notification.permission)+")")};s.on("keypress blur","input[name=customhighlight]",function(s){var i=s.keyCode?s.keyCode:s.which;if(!i||13==i){for(var u=e(this).val().trim().split(","),n=u.length-1;n>=0;n--)u[n]=u[n].trim(),u[n]||u.splice(n,1);return t.setPreference("customhighlight",u),t.loadHighlighters(),!1}}),s.on("change",'input[type="checkbox"]',function(){var s=e(this).attr("name"),i=e(this).is(":checked");switch(s){case"showtime":t.setPreference(s,i),t.scrollPlugin.updateAndScroll(t.scrollPlugin.isScrolledToBottom());break;case"hideflairicons":t.setPreference(s,i),t.scrollPlugin.updateAndScroll(t.scrollPlugin.isScrolledToBottom());break;case"highlight":t.setPreference(s,i);break;case"allowNotifications":i?t.notificationPermission().then(function(){n(),t.setPreference(s,!0)},function(){n(),t.setPreference(s,!1)}):t.setPreference(s,!1)}}),i.on("show",function(){s.find("input[name=customhighlight]").val(t.getPreference("customhighlight").join(", ")),s.find('input[type="checkbox"]').each(function(){var s=e(this).attr("name");e(this).prop("checked",t.getPreference(s))}),"granted"!==Notification.permission&&s.find('input[name="allowNotifications"]').prop("checked",!1),n()});var r=this.ui.find("#chat-emote-list:first").eq(0),o=new ChatMenu(r,t);o.on("init",function(){for(var s=r.find("#destiny-emotes"),i=r.find("#twitch-emotes"),u=0;u<t.emoticons.length;u++)s.append('<div class="emote"><span title="'+t.emoticons[u]+'" class="chat-emote chat-emote-'+t.emoticons[u]+'">'+t.emoticons[u]+"</span></div>");for(var n=0;n<t.twitchemotes.length;n++)i.append('<div class="emote"><span title="'+t.twitchemotes[n]+'" class="chat-emote chat-emote-'+t.twitchemotes[n]+'">'+t.twitchemotes[n]+"</span></div>");r.on("click",".chat-emote",function(s){var i=t.input.val().trim();return t.input.val(i+(""==i?"":" ")+e(this).text()+" "),t.input.focus(),!1})});var a=this.ui.find("#chat-pm-notification:first").eq(0),h=new ChatMenu(a,t);a.on("click",".user-list-link",function(e){return ChatMenu.closeMenus(t),A.show(h.btn),!1}),a.on("click","#markread-privmsg",function(s){return t.setUnreadMessageCount(0),ChatMenu.closeMenus(t),e.ajax({type:"POST",url:"/profile/messages/openall"}),!1}),a.on("click","#inbox-privmsg",function(e){t.setUnreadMessageCount(0),ChatMenu.closeMenus(t)});var c=this.ui.find("#chat-user-list:first").eq(0),A=new ChatMenu(c,t);A.groups=c.find("#chat-groups"),A.clearAll=function(){A.groups.find("li").remove()},A.sortByName=function(e,t){try{return e.firstChild.getAttribute("data-username").localeCompare(t.firstChild.getAttribute("data-username"))}catch(e){}},A.sortUsers=function(){A.groups.children().each(function(){var t=e(this).find("li").get();t.sort(A.sortByName);for(var s=0;s<t.length;s++)t[s].parentNode.appendChild(t[s])})},c.on("click",".user",function(){t.toggleUserFocus(this.textContent)}),c.each(function(){var s=c.find("h5 span"),i=A.groups,u=e('<ul id="chat-group1">').appendTo(i),n=e('<ul id="chat-group2">').appendTo(i),r=e('<ul id="chat-group3">').appendTo(i),o=e('<ul id="chat-group4">').appendTo(i),a=e('<ul id="chat-group5">').appendTo(i),h=function(){var e=Object.keys(t.engine.users).length;return s.text(e),e},l=function(e){return c.find('a[data-username="'+e+'"]').length>0},E=function(e){return c.find('a[data-username="'+e+'"]').closest("li").remove()},g=function(e){var s=t.engine.users[e],i='<li><a data-username="'+s.username+'" class="user '+s.features.join(" ")+'">'+s.username+"</a></li>";s.hasFeature(destiny.UserFeatures.BOT)||s.hasFeature(destiny.UserFeatures.BOT2)?a.append(i):s.hasFeature(destiny.UserFeatures.ADMIN)||s.hasFeature(destiny.UserFeatures.VIP)?u.append(i):s.hasFeature(destiny.UserFeatures.BROADCASTER)?n.append(i):s.hasFeature(destiny.UserFeatures.SUBSCRIBER)?r.append(i):o.append(i)};t.on("join",function(e,t){A.visible&&!l(t.nick)&&(g(t.nick),h(),A.sortUsers(),A.redraw())}),t.on("quit",function(e,t){A.visible&&l(t.nick)&&(E(t.nick),h(),A.redraw())}),A.on("show",function(){A.clearAll(),h();for(var e in t.engine.users)t.engine.users.hasOwnProperty(e)&&g(e);A.sortUsers(),A.redraw()})}),this.ui.find("#chat-users-btn").on("click",function(e){return t.pmcountnum>0?h.toggle(this):A.toggle(this),
!1}),this.ui.find("#chat-settings-btn").on("click",function(e){return i.toggle(this),!1}),this.ui.find("#emoticon-btn").on("click",function(e){return o.toggle(this),!1}),this.lines.on("mousedown",".user-msg a.user",function(s){var i=e(this).closest(".user-msg").data("username");return t.toggleUserFocus(i),!1}),this.lines.on("mousedown",".user-msg .chat-user",function(s){var i=e(this).closest(".user-msg").data("username"),u=this.textContent.toLowerCase();return t.addUserFocus(i),t.toggleUserFocus(u),!1}),this.ui.on("submit","form#chat-input",function(e){return t.send(),!1}),this.input.on("keydown mousedown",e.proxy(function(){ChatMenu.closeMenus(this)},this)),this.output.on("mousedown",e.proxy(function(){ChatMenu.closeMenus(this),t.clearUserFocus()},this));var l=t.ui.find("#chat-scroll-notify");l.on("click",function(){t.scrollPlugin.updateAndScroll(!0)}),t.output.debounce("scrolled",function(){l.toggle(!t.scrollPlugin.isScrolledToBottom())},100),t.output.debounce("scrollend",function(){l.hide()},100);var E=t.scrollPlugin.updateScrollValues;t.scrollPlugin.updateScrollValues=function(){E.call(this,arguments),t.output.trigger("scrolled")},this.ui.find('#chat-login-msg a[href="/login"]').on("click",function(t){try{window.self!==window.top?window.parent.location.href=e(this).attr("href")+"?follow="+encodeURIComponent(window.parent.location.pathname):window.location.href=e(this).attr("href")+"?follow="+encodeURIComponent(window.location.pathname)}catch(e){}return!1});var g,C;return this.lines.on("click mousedown keydown",function(e){var s=e.clientX+"-"+e.clientY;switch(e.type){case"click":if(g!==s)return;C=setTimeout(function(){t.input.focus()},500);break;case"mousedown":g=s;break;case"keydown":C&&(clearTimeout(C),C=0)}}),this.lines.on("click",".mark-as-read",function(s){var i=e(this).closest(".private-message"),u=i.data("message"),n=u.ui.find(".icon-mail-send"),r=u.ui.find(".message-actions");return e.ajax({type:"POST",url:"/profile/messages/"+encodeURIComponent(u.messageid)+"/open",complete:function(e){n.attr("class","icon-mail-open-document"),r.remove(),t.setUnreadMessageCount(e.unread)}}),!1}),e(window).on({"resize.chat":function(){t.resize()},"focus.chat":function(){t.input.focus()},"load.chat":function(){t.input.focus(),t.loaded=!0}}),this},addUserFocusRule:function(e){this.stylesheet.insertRule('.user-msg[data-username="'+e+'"]{opacity:1 !important;}',this.focusedUsers.length),this.focusedUsers.push(e),this.ui.toggleClass("focus-user",this.focusedUsers.length>0)},removeUserFocusRule:function(e,t){this.stylesheet.deleteRule(t),this.focusedUsers.splice(t,1),this.ui.toggleClass("focus-user",this.focusedUsers.length>0)},clearUserFocus:function(){for(var e=this.focusedUsers.length-1;e>=0;--e)this.removeUserFocusRule(this.focusedUsers[e],e);this.ui.toggleClass("focus-user",!1)},addUserFocus:function(e){e&&this.focusedUsers.indexOf(e)===-1&&this.addUserFocusRule(e)},removeUserFocus:function(e){if(e){e=e.toLowerCase();var t=this.focusedUsers.indexOf(e);t!==-1&&this.removeUserFocusRule(e,t)}},toggleUserFocus:function(e){if(e){e=e.toLowerCase();var t=this.focusedUsers.indexOf(e);t===-1?this.addUserFocus(e):this.removeUserFocus(e,t)}},loadBacklog:function(){if(this.backlogLoading=!0,0==this.backlog.length)return void(this.backlogLoading=!1);for(var e=0,t=this.backlog.length;e<t;e++)this.engine.dispatchBacklog(this.backlog[e]);this.put(new ChatUIMessage("<hr/>")),this.scrollPlugin.updateAndScroll(!0),this.backlogLoading=!1},put:function(t,s){return t instanceof ChatUserMessage?(this.lastMessage&&this.lastMessage.user&&t.user&&this.lastMessage.user.username==t.user.username?t.ui=e(t.addonHtml()):t.ui=e(t.html()),t.user&&this.engine.user&&this.engine.user.username==t.user.username&&t.ui.addClass("own-msg")):t.ui=e(t.html()),t.ui.data("message",t),t.ui.appendTo(this.lines),void 0!=s&&t.status(s),this.lastMessage=t,t},push:function(t,s){var i=this.scrollPlugin.isScrolledToBottom(),u=this.lines.children(),n=this.getPreference("maxlines"),r=u.length;if(i&&r>=n)for(var o=u.slice(0,r-n),a=o.length-1;a>=0;a--)e(o[a]).remove();return this.userMessages.push(t),this.put(t,s),this.scrollPlugin.content.scrollHeight>this.scrollPlugin.el.clientHeight&&!this.scrollPlugin.isActive&&this.scrollPlugin.reset(),this.scrollPlugin.updateAndScroll(i),this.handleHighlight(t),t},send:function(){var e=this.input.val().trim();if(""!=e){if(this.input.val("").focus(),null==this.engine.user||!this.engine.user.username)return this.push(new ChatErrorMessage(this.engine.errorstrings.needlogin));var t="/me "===e.substring(0,4)?e.substring(4):e;if(this.emoticons.indexOf(t)!==-1&&this.engine.previousemote&&this.engine.previousemote.message==t)return this.engine.emit("MSG",{data:e});if("/"===e.substring(0,1))return this.engine.handleCommand(e.substring(1));this.push(new ChatUserMessage(e,this.engine.user),this.engine.connected?"pending":"unsent"),this.engine.emit("MSG",{data:e}),this.insertInputHistory(e),this.currenthistoryline=-1,this.autoCompletePlugin.markLastComplete()}return e=null,this},resize:function(){return this.scrollPlugin.updateAndScroll(this.scrollPlugin.isScrolledToBottom()),this},setupInputHistory:function(){var t=!1,s=this;e(this.input).on("keyup",function(e){if((e.shiftKey||e.metaKey||e.ctrlKey)&&(t=!0),38!=e.keyCode&&40!=e.keyCode||t)return void(t=!1);var i=38==e.keyCode?-1:1;if(s.currenthistoryline<0&&38==e.keyCode){if(s.currenthistoryline=s.inputhistory.length,s.storedinputline=s.input.val(),s.currenthistoryline<=0)return}else if(s.currenthistoryline<0&&40==e.keyCode)return;var u=s.currenthistoryline+i;return u>=s.inputhistory.length||u<0?void(u>=s.inputhistory.length&&(s.input.val(s.storedinputline),s.currenthistoryline=-1)):(s.currenthistoryline=u,void s.input.val(s.inputhistory[u]))})},loadInputHistory:function(){try{this.inputhistory=JSON.parse(localStorage.inputhistory||"[]"),this.setupInputHistory()}catch(e){}},insertInputHistory:function(e){this.inputhistory.push(e),this.inputhistory.length>20&&this.inputhistory.shift(),localStorage.inputhistory=JSON.stringify(this.inputhistory)},resolveMessage:function(e){for(var t=0;t<this.userMessages.length;++t)if(this.userMessages[t].message==e.data){var s=this.userMessages.splice(t,1)[0];return s.status(),s}return null},notificationPermission:function(){var t=e.Deferred();switch(Notification.permission){case"default":Notification.requestPermission(function(e){switch(e){case"granted":t.resolve(e);break;default:t.reject(e)}});break;case"granted":t.resolve(Notification.permission);break;case"denied":default:t.reject(Notification.permission)}return t.promise()},showNotification:function(e){if("granted"===Notification.permission){var t=new Notification(e.user.username+" said ...",{body:e.message,tag:e.timestamp.unix(),icon:destiny.cdn+"/chat/img/notifyicon.png",dir:"auto"});setTimeout(t.close.bind(t),5e3),t.onclick=function(){}}},loadHighlighters:function(){this.engine.user&&this.engine.user.username&&(this.highlightregex.user=new RegExp("\\b@?(?:"+this.engine.user.username+")\\b","i"));var e=this.getPreference("customhighlight");if(e.length>0){for(var t=e.length-1;t>=0;t--)e[t]=e[t].replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");this.highlightregex.custom=new RegExp("\\b(?:"+e.join("|")+")\\b","i")}},renewHighlight:function(e,t){t?this.lines.children('div[data-username="'+e.toLowerCase()+'"]').addClass("highlight"):this.lines.children('div[data-username="'+e.toLowerCase()+'"]').removeClass("highlight")},handleHighlight:function(e){if(!e.user||!e.user.username||e.user.username==this.engine.user.username||!this.getPreference("highlight"))return!1;if(e.user.hasFeature(destiny.UserFeatures.BOT))return!1;var t=this.getPreference("highlightnicks");return(t[e.user.username.toLowerCase()]||t[e.user.username]||this.highlightregex.user&&this.highlightregex.user.test(e.message)||this.highlightregex.custom&&this.highlightregex.custom.test(e.message))&&(e.ui.addClass("highlight"),!this.getPreference("allowNotifications")||this.hasFocus()||this.backlogLoading||this.showNotification(e)),!1},setPreference:function(e,t){this.preferences[e].value=t,this.applyPreferencesCss(),this.savePreferences()},getPreference:function(e){return this.preferences[e].value||null},loadPreferences:function(){try{var e=JSON.parse(localStorage.chatoptions||"{}");for(var t in e)e.hasOwnProperty(t)&&this.preferences.hasOwnProperty(t)&&(this.preferences[t].value=e[t]);this.applyPreferencesCss()}catch(e){}},savePreferences:function(){try{var e={};for(var t in this.preferences)this.preferences.hasOwnProperty(t)&&(e[t]=this.preferences[t].value);localStorage.chatoptions=JSON.stringify(e)}catch(e){}},applyPreferencesCss:function(){for(var e in this.preferences)this.preferences.hasOwnProperty(e)&&"boolean"==typeof this.preferences[e].value&&this.ui.toggleClass("pref-"+e,this.preferences[e].value)},removeUserMessages:function(e){this.lines.children('div[data-username="'+e.toLowerCase()+'"]').remove(),this.scrollPlugin.reset()},setUnreadMessageCount:function(e){this.pmcountnum=Math.max(0,e),this.pmcount.toggleClass("hidden",!this.pmcountnum).text(this.pmcountnum)},hasFocus:function(){return this.input.is(":focus")}}),ChatUser=function(e){return e=e||{},this.nick=e.nick||"",this.username=e.nick||"",this.features=e.features||[],this},ChatUser.prototype.hasAnyFeatures=function(){for(var e=0;e<arguments.length;e++)if(this.features.indexOf(arguments[e])!==-1)return!0;return!1},ChatUser.prototype.hasFeature=function(e){return this.hasAnyFeatures(e)},ChatUIMessage=function(e){return this.init(e)},ChatUIMessage.prototype.init=function(e){return this.message=e,this},ChatUIMessage.prototype.html=function(){return this.wrap(this.wrapMessage())},ChatUIMessage.prototype.wrap=function(e){return'<div class="ui-msg">'+e+"</div>"},ChatUIMessage.prototype.wrapMessage=function(){return this.message},ChatMessage=function(e,t){return this.init(e,t)},ChatMessage.prototype.init=function(e,t){return this.message=e,this.timestamp=moment.utc(t).local(),this.state=null,this.type="chat",this.timestampformat=destiny.chat.gui.getPreference("timestampformat"),this},ChatMessage.prototype.status=function(e){return this.ui&&(e?this.ui.addClass(e):this.ui.removeClass(this.state)),this.state=e,this},ChatMessage.prototype.wrapTime=function(){return'<time title="'+this.timestamp.format("MMMM Do YYYY, h:mm:ss a")+'" datetime="'+this.timestamp.format("MMMM Do YYYY, h:mm:ss a")+'">'+this.timestamp.format(this.timestampformat)+"</time>"},ChatMessage.prototype.wrapMessage=function(){return e('<span class="msg"/>').text(this.message).get(0).outerHTML},ChatMessage.prototype.html=function(){return this.wrap(this.wrapTime()+" "+this.wrapMessage())},ChatMessage.prototype.wrap=function(e){return'<div class="'+this.type+'-msg">'+e+"</div>"},ChatErrorMessage=function(e,t){return this.init(e,t),this.type="error",this},e.extend(ChatErrorMessage.prototype,ChatMessage.prototype),ChatErrorMessage.prototype.html=function(){return this.wrap(this.wrapTime()+' <i class="icon-error"></i> '+this.wrapMessage())},ChatInfoMessage=function(e,t){return this.init(e,t),this.type="info",this},e.extend(ChatInfoMessage.prototype,ChatMessage.prototype),ChatInfoMessage.prototype.html=function(){return this.wrap(this.wrapTime()+' <i class="icon-info"></i> '+this.wrapMessage())},ChatInfoMessage.prototype.wrapMessage=function(){for(var t=e('<span class="msg"/>').text(this.message),s=t.html(),i=0;i<destiny.chat.gui.formatters.length;++i)s=destiny.chat.gui.formatters[i].format(s,null,this.message);return t.html(s),t.get(0).outerHTML},ChatCommandMessage=function(e,t){return this.init(e,t),this.type="command",this},e.extend(ChatCommandMessage.prototype,ChatMessage.prototype),ChatCommandMessage.prototype.html=function(){return this.wrap(this.wrapTime()+' <i class="icon-command"></i> '+this.wrapMessage())},ChatStatusMessage=function(e,t){return this.init(e,t),this.type="status",this},e.extend(ChatStatusMessage.prototype,ChatMessage.prototype),ChatStatusMessage.prototype.html=function(){return this.wrap(this.wrapTime()+' <i class="icon-status"></i> '+this.wrapMessage())},ChatBroadcastMessage=function(e,t){return this.init(e,t),this.type="broadcast",this.user={features:[null]},this},e.extend(ChatBroadcastMessage.prototype,ChatMessage.prototype),ChatBroadcastMessage.prototype.html=function(){return this.wrap(this.wrapTime()+" "+this.wrapMessage())},ChatBroadcastMessage.prototype.wrapMessage=function(){for(var t=e('<span class="msg"/>').text(this.message),s=t.html(),i=0;i<destiny.chat.gui.formatters.length;++i)s=destiny.chat.gui.formatters[i].format(s,null,this.message);return t.html(s),t.get(0).outerHTML},ChatUserMessage=function(e,t,s){return this.init(e,s),this.type="user",this.user=t,this.prepareMessage(),this},e.extend(ChatUserMessage.prototype,ChatMessage.prototype),ChatUserMessage.prototype.prepareMessage=function(){this.isSlashMe=!1,"/me "===this.message.substring(0,4)?(this.isSlashMe=!0,this.message=this.message.substring(4)):"//"===this.message.substring(0,2)&&(this.message=this.message.substring(1))},ChatUserMessage.prototype.wrap=function(e,t){return this.user&&this.user.username?'<div class="'+this.type+"-msg"+(t?" "+t:"")+'" data-username="'+this.user.username.toLowerCase()+'">'+e+"</div>":'<div class="'+this.type+"-msg"+(t?" "+t:"")+'">'+e+"</div>"},ChatUserMessage.prototype.getFeatureHTML=function(e){var t="";e.hasFeature(destiny.UserFeatures.SUBSCRIBERT4)?t+='<i class="icon-subscribert4" title="Subscriber (T4)"/>':e.hasFeature(destiny.UserFeatures.SUBSCRIBERT3)?t+='<i class="icon-subscribert3" title="Subscriber (T3)"/>':e.hasFeature(destiny.UserFeatures.SUBSCRIBERT2)?t+='<i class="icon-subscribert2" title="Subscriber (T2)"/>':e.hasFeature(destiny.UserFeatures.SUBSCRIBERT1)?t+='<i class="icon-subscriber" title="Subscriber (T1)"/>':!e.hasFeature(destiny.UserFeatures.SUBSCRIBERT0)&&e.hasFeature(destiny.UserFeatures.SUBSCRIBER)&&(t+='<i class="icon-subscriber" title="Subscriber (T1)"/>');for(var s=0;s<e.features.length;s++)switch(e.features[s]){case destiny.UserFeatures.SUBSCRIBERT0:t+='<i class="icon-minitwitch" title="Twitch subscriber"/>';break;case destiny.UserFeatures.BOT:t+='<i class="icon-bot" title="Bot"/>';break;case destiny.UserFeatures.BOT2:t+='<i class="icon-bot2" title="Bot"/>';break;case destiny.UserFeatures.NOTABLE:t+='<i class="icon-notable" title="Notable"/>';break;case destiny.UserFeatures.TRUSTED:t+='<i class="icon-trusted" title="Trusted"/>';break;case destiny.UserFeatures.CONTRIBUTOR:t+='<i class="icon-contributor" title="Contributor"/>';break;case destiny.UserFeatures.COMPCHALLENGE:t+='<i class="icon-compchallenge" title="Composition Winner"/>';break;case destiny.UserFeatures.EVE:t+='<i class="icon-eve" title="Eve"/>';break;case destiny.UserFeatures.SC2:t+='<i class="icon-sc2" title="Starcraft 2"/>';break;case destiny.UserFeatures.BROADCASTER:t+='<i class="icon-broadcaster" title="Broadcaster"/>'}return t},ChatUserMessage.prototype.wrapUser=function(e){return(this.isSlashMe?"":this.getFeatureHTML(e))+' <a class="user '+e.features.join(" ")+'">'+e.username+"</a>"},ChatUserMessage.prototype.wrapMessage=function(){var t=e('<span class="msg"/>').text(this.message),s=t.html();this.isSlashMe&&t.addClass("emote");for(var i=0;i<destiny.chat.gui.formatters.length;++i)s=destiny.chat.gui.formatters[i].format(s,this.user,this.message);return t.html(s),t.get(0).outerHTML},ChatUserMessage.prototype.html=function(){return this.wrap(this.wrapTime()+" "+(this.isSlashMe?"*":"")+this.wrapUser(this.user)+(this.isSlashMe?" ":": ")+this.wrapMessage())},ChatUserMessage.prototype.addonHtml=function(){return this.isSlashMe?this.wrap(this.wrapTime()+" *"+this.wrapUser(this.user)+" "+this.wrapMessage()):this.wrap(this.wrapTime()+' <span class="continue">&gt;</span> '+this.wrapMessage(),"continue")},ChatUserPrivateMessage=function(e,t,s,i){return this.init(e,i),this.type="user",this.user=t,this.messageid=s,this.prepareMessage(),this.isSlashMe=!1,this},e.extend(ChatUserPrivateMessage.prototype,ChatUserMessage.prototype),ChatUserPrivateMessage.prototype.wrap=function(e,t){return'<div class="'+this.type+"-msg"+(t?" "+t:"")+' private-message" data-messageid="'+this.messageid+'" data-username="'+this.user.username.toLowerCase()+'">'+e+'<span class="message-actions"><a href="#" class="mark-as-read">Mark as read <i class="fa fa-check-square-o"></i></a></span><i class="speech-arrow"></i></div>'},ChatUserPrivateMessage.prototype.wrapUser=function(e){return' <i class="icon-mail-send" title="Received Message"></i> <a class="user">'+e.username+"</a>"},ChatEmoteMessage=function(e,t){return this.init(e,t),this.emotecount=1,this.emotecountui=null,this},e.extend(ChatEmoteMessage.prototype,ChatMessage.prototype),ChatEmoteMessage.prototype.getEmoteCountLabel=function(){return"<i class='count'>"+this.emotecount+"</i><i class='x'>X</i> C-C-C-COMBO"},ChatEmoteMessage.prototype.html=function(){return this.wrap(this.wrapTime()+" "+this.wrapMessage()+'<span class="emotecount">'+this.getEmoteCountLabel()+"<span>")},ChatEmoteMessage.prototype.wrapMessage=function(){for(var t=e('<span class="msg"/>').text(this.message),s=t.html(),i=0;i<destiny.chat.gui.formatters.length;++i)s=destiny.chat.gui.formatters[i].format(s,null,this.message);return t.html(s),t.get(0).outerHTML},ChatEmoteMessage.prototype.incEmoteCount=function(){++this.emotecount;var e="";this.emotecount>=50?e=" x50":this.emotecount>=30?e=" x30":this.emotecount>=20?e=" x20":this.emotecount>=10?e=" x10":this.emotecount>=5&&(e=" x5"),null==this.emotecountui&&(this.emotecountui=this.ui.find(".emotecount")),this.emotecountui.detach().attr("class","emotecount"+e).html(this.getEmoteCountLabel()).appendTo(this.ui)}}(jQuery),destiny.UserFeatures={PROTECTED:"protected",SUBSCRIBER:"subscriber",SUBSCRIBERT0:"flair9",SUBSCRIBERT1:"flair13",SUBSCRIBERT2:"flair1",SUBSCRIBERT3:"flair3",SUBSCRIBERT4:"flair8",VIP:"vip",MODERATOR:"moderator",ADMIN:"admin",BROADCASTER:"flair12",BOT:"bot",BOT2:"flair11",NOTABLE:"flair2",TRUSTED:"flair4",CONTRIBUTOR:"flair5",COMPCHALLENGE:"flair6",EVE:"flair7",SC2:"flair10"},chat.prototype.start=function(){return window.MozWebSocket&&(window.WebSocket=MozWebSocket),window.WebSocket?(this.dispatchBacklog=$.proxy(this.dispatchBacklog,this),this.gui.loadBacklog(),this.loadIgnoreList(),this.gui.push(new ChatStatusMessage("Connecting...")),this.init(),this):this.gui.push(new ChatErrorMessage(this.errorstrings.requiresocket))},chat.prototype.l=function(){if(this.debug){var e=Function.prototype.bind.call(console.log,console);e.apply(console,arguments)}},chat.prototype.init=function(){this.sock=new WebSocket(this.server),this.sock.onopen=$.proxy(function(){var e={data:'OPEN ""'};this.parseAndDispatch(e)},this),this.sock.onerror=$.proxy(function(){var e={data:'ERR "socketerror"'};this.parseAndDispatch(e)},this),this.sock.onmessage=$.proxy(this.parseAndDispatch,this),this.sock.onclose=$.proxy(function(){var e={data:'CLOSE ""'};this.parseAndDispatch(e)},this),this.l=$.proxy(this.l,this),this.emit=$.proxy(this.emit,this)},chat.prototype.loadIgnoreList=function(){try{this.ignorelist=JSON.parse(localStorage.chatignorelist||"{}")}catch(e){}this.ignoreregex=null},chat.prototype.parseAndDispatch=function(e){var t=e.data.split(" ",1)[0],s="on"+t,i=JSON.parse(e.data.substring(t.length+1));return this.l(s,i),"PING"==t?this.sock.send("PONG "+e.data.substring(t.length+1)):void(this[s]&&this[s](i))},chat.prototype.dispatchBacklog=function(e){var t=e.split(" ",1)[0],s="on"+t,i=JSON.parse(e.substring(t.length+1));this.users[i.nick]||(this.users[i.nick]=new ChatUser(i)),this[s]&&this[s](i)},chat.prototype.emit=function(e,t){this.sock.send(e+" "+JSON.stringify(t))},chat.prototype.onOPEN=function(){this.connected=!0},chat.prototype.onCLOSE=function(){if(!this.dontconnect){var e=this.connected?getRandomInt(501,3e3):getRandomInt(5e3,3e4);setTimeout($.proxy(this.onRECONNECT,this),e),this.connected=!1,this.gui.push(new ChatStatusMessage("Disconnected... reconnecting in "+Math.round(e/1e3)+" seconds"))}},chat.prototype.onNAMES=function(e){if(e.users){for(var t=e.users.length-1;t>=0;t--){var s=e.users[t];this.users[s.nick]=new ChatUser(s),this.shouldIgnore(s.nick,"")||this.gui.autoCompletePlugin.addNick(s.nick)}this.gui.trigger("names",e)}this.gui.push(new ChatStatusMessage("Connected. Server connections: "+e.connectioncount)),this.showstarthint&&(this.showstarthint=!1,this.handleCommand("hint"))},chat.prototype.onJOIN=function(e){this.users[e.nick]=new ChatUser(e),this.shouldIgnore(e.nick,"")||this.gui.autoCompletePlugin.addNick(e.nick),this.gui.trigger("join",e)},chat.prototype.onQUIT=function(e){this.users[e.nick]&&(delete this.users[e.nick],this.gui.trigger("quit",e))},chat.prototype.shouldIgnore=function(e,t){if(!this.ignorelist)return!1;if(!this.ignoreregex){var s=[];if($.each(this.ignorelist,function(e){s.push(e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"))}),0==s.length)return!1;this.ignoreregex=new RegExp(s.join("|"),"i")}return e=e.toLowerCase(),this.ignorelist[e]||this.ignoreregex.test(t)},chat.prototype.onPRIVMSG=function(e){var t=this.users[e.nick];t||(t=new ChatUser(e)),this.shouldIgnore(e.nick,e.data)||(this.gui.autoCompletePlugin.updateNick(t.username),this.gui.setUnreadMessageCount(this.gui.pmcountnum+1),this.gui.push(new ChatUserPrivateMessage(e.data,t,e.messageid,e.timestamp)))},chat.prototype.onMSG=function(e){this.user.username==e.nick&&Array.isArray(e.features)&&(this.user.features=e.features);var t="/me "===e.data.substring(0,4)?e.data.substring(4):e.data;if(this.gui.emoticons.indexOf(t)!==-1||this.gui.twitchemotes.indexOf(t)!==-1){if(this.previousemote&&this.previousemote.message==t)return 1===this.previousemote.emotecount?(this.previousemote.emotecount=2,this.originemote&&(this.originemote.ui.remove(),this.originemote=null),void this.gui.push(this.previousemote)):void this.previousemote.incEmoteCount();this.previousemote=new ChatEmoteMessage(t,e.timestamp)}else this.previousemote=null;var s=this.gui.resolveMessage(e);if(s&&this.previousemote&&(this.originemote=s),this.user.username!=e.nick||!s){if(this.shouldIgnore(e.nick,e.data))return;var i=this.users[e.nick];i?this.gui.autoCompletePlugin.updateNick(e.nick):(i=new ChatUser(e),""!=i.nick&&i.nick==this.user.nick&&(this.user=i)),i&&i.features.length!=e.features.length&&(this.users[e.nick]=i);var u=new ChatUserMessage(e.data,i,e.timestamp);this.previousemote&&(this.originemote=u),this.gui.push(u)}},chat.prototype.onMUTE=function(e){var t=e.data;this.user.username.toLowerCase()==e.data.toLowerCase()?t="You have been":this.user.hasAnyFeatures(destiny.UserFeatures.SUBSCRIBERT3,destiny.UserFeatures.SUBSCRIBERT4,destiny.UserFeatures.SUBSCRIBERT2,destiny.UserFeatures.ADMIN,destiny.UserFeatures.MODERATOR)||this.gui.removeUserMessages(e.data),this.gui.push(new ChatCommandMessage(t+" muted by "+e.nick,e.timestamp))},chat.prototype.onUNMUTE=function(e){var t=e.data;this.user.username.toLowerCase()==e.data.toLowerCase()&&(t="You have been"),this.gui.push(new ChatCommandMessage(t+" unmuted by "+e.nick,e.timestamp))},chat.prototype.onBAN=function(e){var t=e.data;this.user.username.toLowerCase()==e.data.toLowerCase()?(t="You have been",this.gui.backlogLoading||setTimeout(function(){window.location.href="/banned"},1500)):this.user.hasAnyFeatures(destiny.UserFeatures.SUBSCRIBERT3,destiny.UserFeatures.SUBSCRIBERT4,destiny.UserFeatures.SUBSCRIBERT2,destiny.UserFeatures.ADMIN,destiny.UserFeatures.MODERATOR)||this.gui.removeUserMessages(e.data),this.gui.push(new ChatCommandMessage(t+" banned by "+e.nick,e.timestamp))},chat.prototype.onUNBAN=function(e){var t=e.data;this.user.username.toLowerCase()==e.data.toLowerCase()&&(t="You have been"),this.gui.push(new ChatCommandMessage(t+" unbanned by "+e.nick,e.timestamp))},chat.prototype.onERR=function(e){"toomanyconnections"!=e&&"banned"!=e||(this.dontconnect=!0),"banned"!=e||this.gui.backlogLoading||(window.location.href="/banned"),this.gui.push(new ChatErrorMessage(this.errorstrings[e]))},chat.prototype.onREFRESH=function(){window.location.href=window.location.href},chat.prototype.onRECONNECT=function(){this.init()},chat.prototype.onSUBONLY=function(e){var t="on"==e.data?"enabled":"disabled";this.gui.push(new ChatCommandMessage("Subscriber only mode "+t+" by "+e.nick,e.timestamp))},chat.prototype.onBROADCAST=function(e){if(!this.gui.backlogLoading)if("redirect:"==e.data.substring(0,9)){var t=e.data.substring(9);_gaq.push(["_trackEvent","outbound","chat-redirect",t]),_gaq.push(function(){setTimeout(function(){window.parent&&(window.parent.location.href=t),window.location.href=t},5e3)}),this.gui.push(new ChatBroadcastMessage("Redirecting in 5 seconds to "+t,e.timestamp))}else this.gui.push(new ChatBroadcastMessage(e.data,e.timestamp))},chat.prototype.onPRIVMSGSENT=function(e){this.gui.push(new ChatInfoMessage("Your message has been sent!"))},chat.prototype.handleCommand=function(e){if(!e.length)return void this.gui.push(new ChatErrorMessage("Empty command"));var t=e.match(/([^ ]+)/g),s=t[0].toLowerCase(),i=/^[a-zA-Z0-9_]{3,20}$/,u={},n=[],r="";if("/"===e.substring(0,1))return u.data="/"+e,void this.emit("MSG",u);switch(this.l(s,t),s){default:this.gui.push(new ChatErrorMessage("Unknown command"));break;case"emotes":this.gui.push(new ChatInfoMessage("Available emoticons: "+this.gui.emoticons.join(", ")+" (www.destiny.gg/emotes)"));break;case"help":this.gui.push(new ChatInfoMessage("Available commands: /emotes /me /msg /ignore (without arguments to list the nicks ignored) /unignore /highlight (highlights target nicks messages for easier visibility) /unhighlight /maxlines /mute /unmute /subonly /ban /ipban /unban (also unbans ip bans) /timestampformat"));break;case"me":u.data="/"+e,this.emit("MSG",u);break;case"message":case"msg":case"whisper":case"w":case"tell":case"t":case"notify":if(!t[1]||!i.test(t[1].toLowerCase()))return void this.gui.push(new ChatErrorMessage("Invalid nick - /msg nick message"));if(t[1].toLowerCase()==this.user.username.toLowerCase())return void this.gui.push(new ChatErrorMessage("Cannot send a message to yourself"));u.nick=t[1],t.shift(),t.shift(),u.data=t.join(" "),this.emit("PRIVMSG",u),this.gui.autoCompletePlugin.markLastComplete();break;case"ignore":if(!localStorage)return void this.gui.push(new ChatErrorMessage("Ignore is unavailable, no localStorage"));if(!t[1])return n=[],$.each(this.ignorelist,function(e){n.push(e)}),0==n.length?void this.gui.push(new ChatInfoMessage("Your ignore list is empty")):void this.gui.push(new ChatInfoMessage("Ignoring the following people: "+n.join(", ")));if(r=t[1].toLowerCase(),!i.test(r))return void this.gui.push(new ChatErrorMessage("Invalid nick - /ignore nick"));this.ignorelist[r]=!0,this.gui.removeUserMessages(r),this.gui.push(new ChatStatusMessage("Ignoring "+r)),localStorage.chatignorelist=JSON.stringify(this.ignorelist),this.loadIgnoreList();break;case"unignore":if(!localStorage)return void this.gui.push(new ChatErrorMessage("Ignore is unavailable, no localStorage"));if(!t[1]||!i.test(t[1].toLowerCase()))return void this.gui.push(new ChatErrorMessage("Invalid nick - /ignore nick"));r=t[1].toLowerCase(),delete this.ignorelist[r],this.gui.push(new ChatStatusMessage(""+r+" has been removed from your ignore list")),localStorage.chatignorelist=JSON.stringify(this.ignorelist),this.loadIgnoreList();break;case"mute":if(1==t.length)return void this.gui.push(new ChatInfoMessage("Usage: /"+s+" nick[ time]"));if(!i.test(t[1]))return void this.gui.push(new ChatErrorMessage("Invalid nick - /"+s+" nick[ time]"));var o=null;t[2]&&(o=this.parseTimeInterval(t[2])),u.data=t[1],o&&o>0&&(u.duration=o),this.emit(s.toUpperCase(),u);break;case"ban":case"ipban":if(t.length<4)return void this.gui.push(new ChatInfoMessage("Usage: /"+s+" nick time reason (time can be 'permanent')"));if(!i.test(t[1]))return void this.gui.push(new ChatErrorMessage("Invalid nick"));if(u.nick=t[1],"ipban"==s&&(u.banip=!0),/^perm/i.test(t[2])?u.ispermanent=!0:u.duration=this.parseTimeInterval(t[2]),u.reason=t.slice(3,t.length).join(" "),!u.reason)return void this.gui.push(new ChatErrorMessage("Providing a reason is mandatory"));this.emit("BAN",u);break;case"unmute":case"unban":if(1==t.length)return void this.gui.push(new ChatInfoMessage("Usage: /"+s+" nick"));if(!i.test(t[1]))return void this.gui.push(new ChatErrorMessage("Invalid nick - /"+s+" nick"));u.data=t[1],this.emit(s.toUpperCase(),u);break;case"subonly":if("on"!=t[1]&&"off"!=t[1])return void this.gui.push(new ChatErrorMessage("Invalid argument - /"+s+" on/off"));u.data=t[1],this.emit(s.toUpperCase(),u);break;case"maxlines":if(!t[1])return void this.gui.push(new ChatInfoMessage("Current number of lines shown: "+this.gui.getPreference("maxlines")));var a=Math.abs(parseInt(t[1],10));if(!a)return void this.gui.push(new ChatErrorMessage("Invalid argument - /maxlines is expecting a number"));this.gui.setPreference("maxlines",a),this.gui.push(new ChatInfoMessage("Current number of lines shown: "+this.gui.getPreference("maxlines")));break;case"unhighlight":case"highlight":var h=this.gui.getPreference("highlightnicks");if(!t[1])return n=[],$.each(h,function(e){n.push(e)}),void this.gui.push(new ChatInfoMessage("Currently highlighted users: "+n.join(", ")));if(!i.test(t[1]))return void this.gui.push(new ChatErrorMessage("Invalid nick - /"+s+" nick"));r=t[1].toLowerCase();var c="highlight"==s;c?(h[r]=!0,this.gui.push(new ChatInfoMessage("Now highlighting: "+r))):(delete h[r],this.gui.push(new ChatInfoMessage("No longer highlighting: "+r))),this.gui.renewHighlight(r,c),this.gui.setPreference("highlightnicks",h);break;case"timestampformat":if(!t[1])return void this.gui.push(new ChatInfoMessage("Current format: "+this.gui.getPreference("timestampformat")+" (the default is 'HH:mm', for more info: http://momentjs.com/docs/#/displaying/format/)"));var A=e.substring(s.length);if(!/^[a-z :.,-\\*]+$/i.test(A))return void this.gui.push(new ChatErrorMessage("Invalid format, see: http://momentjs.com/docs/#/displaying/format/"));this.gui.setPreference("timestampformat",A),this.gui.push(new ChatInfoMessage("New format: "+this.gui.getPreference("timestampformat")));break;case"broadcast":u.data=e.substring(s.length+1),this.emit(s.toUpperCase(),u);break;case"hint":for(var l="",E=null,g=JSON.parse(localStorage.hiddenhints||"[]"),C=0;++C;){if(C>=this.hintindex.length){l=this.hintindex[0],E=this.hints[l],g=[l];break}if(g.indexOf(this.hintindex[C])===-1){l=this.hintindex[C],E=this.hints[l],g.push(l);break}}localStorage.hiddenhints=JSON.stringify(g),this.gui.push(new ChatInfoMessage(E))}},chat.prototype.parseTimeInterval=function(e){var t=0,s={s:1e9,sec:1e9,secs:1e9,second:1e9,seconds:1e9,m:6e10,min:6e10,mins:6e10,minute:6e10,minutes:6e10,h:36e11,hr:36e11,hrs:36e11,hour:36e11,hours:36e11,d:864e11,day:864e11,days:864e11};return e.replace(/(\d+(?:\.\d*)?)([a-z]+)?/gi,function(e,i,u){i*=u?s[u.toLowerCase()]||s.s:s.s,t+=+i}),t};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoYXQuanMiLCJhdXRvY29tcGxldGUuanMiLCJmb3JtYXR0ZXJzLmpzIiwiVXJsRm9ybWF0dGVyLmpzIiwibWVudS5qcyIsImd1aS5qcyJdLCJuYW1lcyI6WyJjaGF0IiwiYXJncyIsInByb3RvY29sIiwibG9jYXRpb24iLCJ0aGlzIiwic2VydmVyIiwib3B0aW9ucyIsImhvc3QiLCJjb25uZWN0ZWQiLCJkZWJ1ZyIsInVzZXJzIiwiaWdub3JlbGlzdCIsImVycm9yc3RyaW5ncyIsInVua25vd24iLCJub3Blcm1pc3Npb24iLCJwcm90b2NvbGVycm9yIiwibmVlZGxvZ2luIiwiaW52YWxpZG1zZyIsInRocm90dGxlZCIsImR1cGxpY2F0ZSIsIm11dGVkIiwic3VibW9kZSIsIm5lZWRiYW5yZWFzb24iLCJiYW5uZWQiLCJyZXF1aXJlc29ja2V0IiwidG9vbWFueWNvbm5lY3Rpb25zIiwic29ja2V0ZXJyb3IiLCJwcml2bXNnYmFubmVkIiwicHJpdm1zZ2FjY291bnR0b295b3VuZyIsIm5vdGZvdW5kIiwiaGludHMiLCJoaW50Iiwic2xhc2hoZWxwIiwidGFiY29tcGxldGlvbiIsImhvdmVyZW1vdGVzIiwiaGlnaGxpZ2h0Iiwibm90aWZ5IiwiaWdub3JldXNlciIsImVtb3Rld2lraSIsIm11dGVzcGVybWFuZW50IiwiaGludGluZGV4IiwiaWQiLCJoYXNPd25Qcm9wZXJ0eSIsInB1c2giLCJ1c2VyIiwiQ2hhdFVzZXIiLCJndWkiLCJDaGF0R3VpIiwicHJldmlvdXNlbW90ZSIsIm9yaWdpbmVtb3RlIiwic2hvd3N0YXJ0aGludCIsIiQiLCJDaGF0QXV0b0NvbXBsZXRlIiwiaW5wdXQiLCJlbW90aWNvbnMiLCJzZWxmIiwibGVuZ3RoIiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJtaW5Xb3JkTGVuZ3RoIiwibWF4UmVzdWx0cyIsImJ1Y2tldHMiLCJvcmlnVmFsIiwic2VhcmNoUmVzdWx0cyIsInNlYXJjaEluZGV4Iiwic2VhcmNoV29yZCIsImV4cGlyZVVzZXJzIiwicHJveHkiLCJpIiwiYWRkRW1vdGUiLCJzZXRJbnRlcnZhbCIsIm9uIiwibW91c2Vkb3duIiwicmVzZXRTZWFyY2giLCJrZXlkb3duIiwiZSIsImtleUNvZGUiLCJmb3JjZVVzZXJTZWFyY2giLCJzaGlmdEtleSIsInNlYXJjaFNlbGVjdFdvcmQiLCJzaG93QXV0b0NvbXBsZXRlIiwicHJvdG90eXBlIiwiZ2V0QnVja2V0SWQiLCJzdHIiLCJ0b0xvd2VyQ2FzZSIsImFkZFRvQnVja2V0IiwiZGF0YSIsIndlaWdodCIsImlzZW1vdGUiLCJwcm9tb3RlVGltZXN0YW1wIiwicHJvbW90ZWQiLCJlbW90ZSIsImFkZE5pY2siLCJuaWNrIiwidXBkYXRlTmljayIsIkRhdGUiLCJub3ciLCJwcm9tb3RlTmljayIsImdldFNlYXJjaFdvcmQiLCJvZmZzZXQiLCJwcmUiLCJzdWJzdHJpbmciLCJwb3N0Iiwic3RhcnRDYXJldCIsImxhc3RJbmRleE9mIiwiZW5kQ2FyZXQiLCJpbmRleE9mIiwiaXNVc2VyU2VhcmNoIiwid29yZCIsInNvcnRSZXN1bHRzIiwiYSIsImIiLCJzZWFyY2hCdWNrZXRzIiwibGltaXQiLCJ1c2VybmFtZXNPbmx5IiwidHJpbSIsInJlcGxhY2UiLCJyZXMiLCJmIiwiUmVnRXhwIiwidGVzdCIsInNvcnQiLCJzbGljZSIsInRlbm1pbnV0ZXNhZ28iLCJqIiwibWFya0xhc3RDb21wbGV0ZSIsImxhc3RDb21wbGV0ZSIsInZhbCIsInNlbGVjdGlvblN0YXJ0IiwicmVzdWx0Iiwic3Vic3RyIiwiZm9jdXMiLCJ3aW5kb3ciLCJqUXVlcnkiLCJkZXN0aW55IiwiZm4iLCJHcmVlblRleHRGb3JtYXR0ZXIiLCJmb3JtYXQiLCJoYXNBbnlGZWF0dXJlcyIsIlVzZXJGZWF0dXJlcyIsIlNVQlNDUklCRVJUMyIsIlNVQlNDUklCRVJUNCIsIlNVQlNDUklCRVJUMiIsIkFETUlOIiwiTU9ERVJBVE9SIiwiRW1vdGVGb3JtYXR0ZXIiLCJlbW90ZXJlZ2V4Iiwiam9pbiIsImdlbW90ZXJlZ2V4IiwidHdpdGNoZW1vdGVyZWdleCIsInR3aXRjaGVtb3RlcyIsImZlYXR1cmVzIiwiaGFzRmVhdHVyZSIsIlNVQlNDUklCRVJUMCIsIk1lbnRpb25lZFVzZXJGb3JtYXR0ZXIiLCJlbmdpbmUiLCJ1c2VycmVnZXgiLCJtYXRjaCIsInByZWZpeCIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiVXJsRm9ybWF0dGVyIiwidW5pY29kZVNob3J0Y3V0cyIsInB7TH0iLCJwe059IiwicHtTY30iLCJwe1NrfSIsInB7U299IiwibGV0dGVyIiwibnVtYmVyIiwiaXJpQ2hhciIsInBhdGhDaGFyIiwiZW5kQ2hhciIsIm9jdGV0IiwiaXBBZGRyIiwiaXJpIiwiZG9tYWluIiwiZ3RsZCIsImhvc3ROYW1lIiwid2VsbEJyYWNrIiwid2VsbFBhcmVuIiwid2VsbEFsbCIsInBhdGhDb250IiwicGF0aCIsInBvcnQiLCJ3ZWJVUkwiLCJzY2hlbWUiLCJzdHJpY3QiLCJyZWxheGVkIiwibGlua3JlZ2V4IiwiX2VsZW0iLCJlbmNvZGVVcmwiLCJ2YWx1ZSIsImhpIiwiY2hhckNvZGVBdCIsImxvdyIsImV4dHJhY2xhc3MiLCJ1cmwiLCJkZWNvZGVkVXJsIiwiaHRtbCIsInRleHQiLCJtIiwiZXh0cmEiLCJDaGF0TWVudSIsImNscyIsInVpIiwic2Nyb2xsUGx1Z2luIiwiYnRuIiwidmlzaWJsZSIsInNob3duIiwibmFtZSIsInNob3ciLCJ0cmlnZ2VySGFuZGxlciIsImFkZENsYXNzIiwiZmluZCIsImVhY2giLCJyZXNldCIsIm5hbm9TY3JvbGxlciIsImRpc2FibGVSZXNpemUiLCJwcmV2ZW50UGFnZVNjcm9sbGluZyIsIm5hbm9zY3JvbGxlciIsImhpZGUiLCJyZW1vdmVDbGFzcyIsInRvZ2dsZSIsIndhc1Zpc2libGUiLCJjbG9zZU1lbnVzIiwicmVkcmF3IiwiYmluZCIsIm1lbnVzIiwiZXh0ZW5kIiwiaW5pdCIsImxvYWRlZCIsIm1heGxpbmVzIiwiYXV0b0NvbXBsZXRlUGx1Z2luIiwibGluZXMiLCJvdXRwdXQiLCJ1c2VyTWVzc2FnZXMiLCJmb2N1c2VkVXNlcnMiLCJpbnB1dGhpc3RvcnkiLCJjdXJyZW50aGlzdG9yeWxpbmUiLCJzdG9yZWRpbnB1dGxpbmUiLCJiYWNrbG9nIiwiYmFja2xvZ0xvYWRpbmciLCJoaWdobGlnaHRyZWdleCIsImxhc3RNZXNzYWdlIiwiZm9ybWF0dGVycyIsInBtY291bnRudW0iLCJwbWNvdW50Iiwic3R5bGVzaGVldCIsInByZWZlcmVuY2VzIiwic2hvd3RpbWUiLCJkZWZhdWx0IiwiaGlkZWZsYWlyaWNvbnMiLCJ0aW1lc3RhbXBmb3JtYXQiLCJhbGxvd05vdGlmaWNhdGlvbnMiLCJjdXN0b21oaWdobGlnaHQiLCJoaWdobGlnaHRuaWNrcyIsInRyaWdnZXIiLCJlcSIsInNsaWRlck1pbkhlaWdodCIsInRhYkluZGV4IiwiaXNTY3JvbGxlZFRvQm90dG9tIiwiY29udGVudFNjcm9sbFRvcCIsIm1heFNjcm9sbFRvcCIsInVwZGF0ZUFuZFNjcm9sbCIsInNjcm9sbEJvdHRvbSIsImlzQWN0aXZlIiwibG9hZFByZWZlcmVuY2VzIiwibG9hZEhpZ2hsaWdodGVycyIsImxvYWRJbnB1dEhpc3RvcnkiLCJjb25jYXQiLCJjaGF0U2V0dGluZ3NVaSIsImNoYXRTZXR0aW5nc01lbnUiLCJjaGF0U2V0dGluZ3NOb3RpZmljYXRpb25UZXh0IiwidXBkYXRlQ2hhdFNldHRpbmdzTm90aWZpY2F0aW9uVGV4dCIsIk5vdGlmaWNhdGlvbiIsInBlcm1pc3Npb24iLCJrZXljb2RlIiwid2hpY2giLCJzcGxpdCIsInNwbGljZSIsInNldFByZWZlcmVuY2UiLCJhdHRyIiwiY2hlY2tlZCIsImlzIiwibm90aWZpY2F0aW9uUGVybWlzc2lvbiIsInRoZW4iLCJnZXRQcmVmZXJlbmNlIiwicHJvcCIsImNoYXRFbW90ZXNVaSIsImNoYXRFbW90ZXNVaU1lbnUiLCJkZW1vdGVzIiwidGVtb3RlcyIsImFwcGVuZCIsIngiLCJwbVBvcHVwVWkiLCJwbVBvcHVwVWlNZW51IiwidXNlckxpc3RVaU1lbnUiLCJzZXRVbnJlYWRNZXNzYWdlQ291bnQiLCJhamF4IiwidHlwZSIsInVzZXJMaXN0VWkiLCJncm91cHMiLCJjbGVhckFsbCIsInJlbW92ZSIsInNvcnRCeU5hbWUiLCJmaXJzdENoaWxkIiwiZ2V0QXR0cmlidXRlIiwibG9jYWxlQ29tcGFyZSIsInNvcnRVc2VycyIsImNoaWxkcmVuIiwiZ2V0IiwicGFyZW50Tm9kZSIsImFwcGVuZENoaWxkIiwidG9nZ2xlVXNlckZvY3VzIiwidGV4dENvbnRlbnQiLCJoZWFkZXIiLCJncm91cDEiLCJhcHBlbmRUbyIsImdyb3VwMiIsImdyb3VwMyIsImdyb3VwNCIsImdyb3VwNSIsInVwZGF0ZUNvdW50IiwibiIsIk9iamVjdCIsImtleXMiLCJoYXNVc2VyIiwidXNlcm5hbWUiLCJyZW1vdmVVc2VyIiwiY2xvc2VzdCIsImFkZFVzZXIiLCJ1IiwiZWxlbSIsIkJPVCIsIkJPVDIiLCJWSVAiLCJCUk9BRENBU1RFUiIsIlNVQlNDUklCRVIiLCJ1c2VybmFtZTEiLCJ1c2VybmFtZTIiLCJhZGRVc2VyRm9jdXMiLCJzZW5kIiwiY2xlYXJVc2VyRm9jdXMiLCJzY3JvbGxOb3RpZnkiLCJkZWJvdW5jZSIsImZuVXBkYXRlU2Nyb2xsVmFsdWVzIiwidXBkYXRlU2Nyb2xsVmFsdWVzIiwiY2FsbCIsImFyZ3VtZW50cyIsInRvcCIsInBhcmVudCIsImhyZWYiLCJlbmNvZGVVUklDb21wb25lbnQiLCJwYXRobmFtZSIsIm1vdXNlRG93bkNvb3JkcyIsImZvY3VzVGltZXIiLCJjb29yZHMiLCJjbGllbnRYIiwiY2xpZW50WSIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJtZXNzYWdlRWwiLCJtZXNzYWdlIiwibWVzc2FnZUljblNlbmQiLCJtZXNzYWdlQWN0aW9ucyIsIm1lc3NhZ2VpZCIsImNvbXBsZXRlIiwidW5yZWFkIiwicmVzaXplLmNoYXQiLCJyZXNpemUiLCJmb2N1cy5jaGF0IiwibG9hZC5jaGF0IiwiYWRkVXNlckZvY3VzUnVsZSIsImluc2VydFJ1bGUiLCJ0b2dnbGVDbGFzcyIsInJlbW92ZVVzZXJGb2N1c1J1bGUiLCJpbmRleCIsImRlbGV0ZVJ1bGUiLCJyZW1vdmVVc2VyRm9jdXMiLCJsb2FkQmFja2xvZyIsImRpc3BhdGNoQmFja2xvZyIsInB1dCIsIkNoYXRVSU1lc3NhZ2UiLCJzdGF0ZSIsIkNoYXRVc2VyTWVzc2FnZSIsImFkZG9uSHRtbCIsInVuZGVmaW5lZCIsInN0YXR1cyIsIndhc1Njcm9sbGVkQm90dG9tIiwibGluZUNvdW50IiwidW53YW50ZWRsaW5lcyIsImNvbnRlbnQiLCJzY3JvbGxIZWlnaHQiLCJlbCIsImNsaWVudEhlaWdodCIsImhhbmRsZUhpZ2hsaWdodCIsIkNoYXRFcnJvck1lc3NhZ2UiLCJlbWl0IiwiaGFuZGxlQ29tbWFuZCIsImluc2VydElucHV0SGlzdG9yeSIsInNldHVwSW5wdXRIaXN0b3J5IiwibW9kaWZpZXJwcmVzc2VkIiwibWV0YUtleSIsImN0cmxLZXkiLCJudW0iLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJzaGlmdCIsInN0cmluZ2lmeSIsInJlc29sdmVNZXNzYWdlIiwiZGVmZXJyZWQiLCJEZWZlcnJlZCIsInJlcXVlc3RQZXJtaXNzaW9uIiwicmVzb2x2ZSIsInJlamVjdCIsInByb21pc2UiLCJzaG93Tm90aWZpY2F0aW9uIiwiYm9keSIsInRhZyIsInRpbWVzdGFtcCIsInVuaXgiLCJpY29uIiwiY2RuIiwiZGlyIiwiY2xvc2UiLCJvbmNsaWNrIiwiaGlnaGxpZ2h0cyIsImN1c3RvbSIsInJlbmV3SGlnaGxpZ2h0IiwiZG9oaWdobGlnaHQiLCJuaWNrcyIsImhhc0ZvY3VzIiwia2V5IiwiYXBwbHlQcmVmZXJlbmNlc0NzcyIsInNhdmVQcmVmZXJlbmNlcyIsImlnbm9yZWQiLCJyZW1vdmVVc2VyTWVzc2FnZXMiLCJNYXRoIiwibWF4IiwiZmVhdHVyZSIsIndyYXAiLCJ3cmFwTWVzc2FnZSIsIkNoYXRNZXNzYWdlIiwibW9tZW50IiwidXRjIiwibG9jYWwiLCJ3cmFwVGltZSIsIm91dGVySFRNTCIsImVycm9yIiwiQ2hhdEluZm9NZXNzYWdlIiwiZW5jb2RlZCIsIkNoYXRDb21tYW5kTWVzc2FnZSIsIkNoYXRTdGF0dXNNZXNzYWdlIiwiQ2hhdEJyb2FkY2FzdE1lc3NhZ2UiLCJwcmVwYXJlTWVzc2FnZSIsImlzU2xhc2hNZSIsImNzcyIsImdldEZlYXR1cmVIVE1MIiwiaWNvbnMiLCJTVUJTQ1JJQkVSVDEiLCJOT1RBQkxFIiwiVFJVU1RFRCIsIkNPTlRSSUJVVE9SIiwiQ09NUENIQUxMRU5HRSIsIkVWRSIsIlNDMiIsIndyYXBVc2VyIiwiQ2hhdFVzZXJQcml2YXRlTWVzc2FnZSIsIkNoYXRFbW90ZU1lc3NhZ2UiLCJlbW90ZWNvdW50IiwiZW1vdGVjb3VudHVpIiwiZ2V0RW1vdGVDb3VudExhYmVsIiwiaW5jRW1vdGVDb3VudCIsInN0ZXBDbGFzcyIsImRldGFjaCIsIlBST1RFQ1RFRCIsInN0YXJ0IiwiTW96V2ViU29ja2V0IiwiV2ViU29ja2V0IiwibG9hZElnbm9yZUxpc3QiLCJsIiwibG9nIiwiRnVuY3Rpb24iLCJjb25zb2xlIiwiYXBwbHkiLCJzb2NrIiwib25vcGVuIiwiZXZlbnQiLCJwYXJzZUFuZERpc3BhdGNoIiwib25lcnJvciIsIm9ubWVzc2FnZSIsIm9uY2xvc2UiLCJpZ25vcmVyZWdleCIsImV2ZW50bmFtZSIsImhhbmRsZXIiLCJvYmoiLCJsaW5lIiwib25PUEVOIiwib25DTE9TRSIsImRvbnRjb25uZWN0IiwicmFuZCIsImdldFJhbmRvbUludCIsIm9uUkVDT05ORUNUIiwicm91bmQiLCJvbk5BTUVTIiwic2hvdWxkSWdub3JlIiwiY29ubmVjdGlvbmNvdW50Iiwib25KT0lOIiwib25RVUlUIiwib25QUklWTVNHIiwib25NU0ciLCJBcnJheSIsImlzQXJyYXkiLCJlbW90aWNvbiIsIm1lc3NhZ2V1aSIsInVzZXJtZXNzYWdlIiwib25NVVRFIiwic3VwcHJlc3NlZG5pY2siLCJvblVOTVVURSIsIm9uQkFOIiwib25VTkJBTiIsIm9uRVJSIiwib25SRUZSRVNIIiwib25TVUJPTkxZIiwib25CUk9BRENBU1QiLCJfZ2FxIiwib25QUklWTVNHU0VOVCIsInBhcnRzIiwiY29tbWFuZCIsIm5pY2tyZWdleCIsInBheWxvYWQiLCJkdXJhdGlvbiIsInBhcnNlVGltZUludGVydmFsIiwidG9VcHBlckNhc2UiLCJiYW5pcCIsImlzcGVybWFuZW50IiwicmVhc29uIiwibmV3bWF4bGluZXMiLCJhYnMiLCJwYXJzZUludCIsImsiLCJzaG93bmhpbnRzIiwibmFub3NlY29uZHMiLCJ1bml0cyIsInMiLCJzZWMiLCJzZWNzIiwic2Vjb25kIiwic2Vjb25kcyIsIm1pbiIsIm1pbnMiLCJtaW51dGUiLCJtaW51dGVzIiwiaCIsImhyIiwiaHJzIiwiaG91ciIsImhvdXJzIiwiZCIsImRheSIsImRheXMiLCIkMCIsInVuaXQiXSwibWFwcGluZ3MiOiJBQXdCQSxRQUFBQSxNQUFBQyxHQUNBLEdBQUFDLEdBQUEsV0FBQUMsU0FBQUQsU0FBQSxTQUFBLE9BQ0FFLE1BQUFDLE9BQUFILEVBQUFELEVBQUFLLFFBQUFDLEtBQUEsTUFDQUgsS0FBQUksV0FBQSxFQUNBSixLQUFBSyxPQUFBLEVBQ0FMLEtBQUFNLFNBQ0FOLEtBQUFPLGNBQ0FQLEtBQUFRLGNBQ0FDLFFBQUEsK0RBQ0FDLGFBQUEsdURBQ0FDLGNBQUEsNkJBQ0FDLFVBQUEsdUNBQ0FDLFdBQUEsMEJBQ0FDLFVBQUEsdURBQ0FDLFVBQUEsb0RBQ0FDLE1BQUEsaURBQ0FDLFFBQUEsbURBQ0FDLGNBQUEsOENBQ0FDLE9BQUEsb0ZBQ0FDLGNBQUEsZ0NBQ0FDLG1CQUFBLHdDQUNBQyxZQUFBLDBCQUNBQyxjQUFBLDRDQUNBQyx1QkFBQSxzREFDQUMsU0FBQSwwQkFFQXpCLEtBQUEwQixPQUNBQyxLQUFBLCtCQUNBQyxVQUFBLCtFQUNBQyxjQUFBLDhHQUNBQyxZQUFBLGlFQUNBQyxVQUFBLDZEQUNBQyxPQUFBLDJEQUNBQyxXQUFBLDhEQUNBQyxVQUFBLDZFQUNBQyxlQUFBLHlEQUVBbkMsS0FBQW9DLFlBQ0EsS0FBQSxHQUFBQyxLQUFBckMsTUFBQTBCLE1B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QUFBLEdBQUFzWixpQkFBQWxhLE1BS0EvQixLQUFBZ0YsVUFBQW9jLGtCQUFBLFNBQUFsYyxHQUNBLEdBQUE0YyxHQUFBLEVBQ0FDLEdBQ0FDLEVBQUEsSUFDQUMsSUFBQSxJQUFBQyxLQUFBLElBQ0FDLE9BQUEsSUFBQUMsUUFBQSxJQUVBN1YsRUFBQSxLQUNBOFYsSUFBQSxLQUFBQyxLQUFBLEtBQ0FDLE9BQUEsS0FBQUMsUUFBQSxLQUVBQyxFQUFBLE1BQ0FDLEdBQUEsTUFBQUMsSUFBQSxNQUNBQyxLQUFBLE1BQUFDLE1BQUEsTUFFQUMsRUFBQSxPQUNBQyxJQUFBLE9BQUFDLEtBQUEsT0FVQSxPQVJBOWQsR0FBQWlDLFFBQUEsNkJBQUEsU0FBQThiLEVBQUExWSxFQUFBMlksR0FFQTNZLEdBREEyWSxFQUNBbkIsRUFBQW1CLEVBQUEvZCxnQkFBQTRjLEVBQUFDLEVBRUFELEVBQUFDLEVBRUFGLElBQUF2WCxJQUVBdVgiLCJmaWxlIjoiY2hhdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLy8gVVNFUiBGRUFUVVJFU1xyXG5kZXN0aW55LlVzZXJGZWF0dXJlcyA9IHtcclxuICAgIFBST1RFQ1RFRCAgICAgOiAncHJvdGVjdGVkJyxcclxuICAgIFNVQlNDUklCRVIgICAgOiAnc3Vic2NyaWJlcicsXHJcbiAgICBTVUJTQ1JJQkVSVDAgIDogJ2ZsYWlyOScsXHJcbiAgICBTVUJTQ1JJQkVSVDEgIDogJ2ZsYWlyMTMnLFxyXG4gICAgU1VCU0NSSUJFUlQyICA6ICdmbGFpcjEnLFxyXG4gICAgU1VCU0NSSUJFUlQzICA6ICdmbGFpcjMnLFxyXG4gICAgU1VCU0NSSUJFUlQ0ICA6ICdmbGFpcjgnLFxyXG4gICAgVklQICAgICAgICAgICA6ICd2aXAnLFxyXG4gICAgTU9ERVJBVE9SICAgICA6ICdtb2RlcmF0b3InLFxyXG4gICAgQURNSU4gICAgICAgICA6ICdhZG1pbicsXHJcbiAgICBCUk9BRENBU1RFUiAgIDogJ2ZsYWlyMTInLFxyXG4gICAgQk9UICAgICAgICAgICA6ICdib3QnLFxyXG4gICAgQk9UMiAgICAgICAgICA6ICdmbGFpcjExJyxcclxuICAgIE5PVEFCTEUgICAgICAgOiAnZmxhaXIyJyxcclxuICAgIFRSVVNURUQgICAgICAgOiAnZmxhaXI0JyxcclxuICAgIENPTlRSSUJVVE9SICAgOiAnZmxhaXI1JyxcclxuICAgIENPTVBDSEFMTEVOR0UgOiAnZmxhaXI2JyxcclxuICAgIEVWRSAgICAgICAgICAgOiAnZmxhaXI3JyxcclxuICAgIFNDMiAgICAgICAgICAgOiAnZmxhaXIxMCdcclxufTtcclxuXHJcbmZ1bmN0aW9uIGNoYXQoYXJncykge1xyXG4gICAgdmFyIHByb3RvY29sID0gbG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwczonPyAnd3NzOi8vJzogJ3dzOi8vJztcclxuICAgIHRoaXMuc2VydmVyICAgICAgICAgICAgID0gcHJvdG9jb2wgKyBhcmdzLm9wdGlvbnMuaG9zdCArICcvd3MnO1xyXG4gICAgdGhpcy5jb25uZWN0ZWQgICAgICAgICAgPSBmYWxzZTtcclxuICAgIHRoaXMuZGVidWcgICAgICAgICAgICAgID0gZmFsc2U7XHJcbiAgICB0aGlzLnVzZXJzICAgICAgICAgICAgICA9IHt9O1xyXG4gICAgdGhpcy5pZ25vcmVsaXN0ICAgICAgICAgPSB7fTtcclxuICAgIHRoaXMuZXJyb3JzdHJpbmdzID0ge1xyXG4gICAgICAgIFwidW5rbm93blwiICAgICAgICAgICAgICAgOiBcIlVua25vd24gZXJyb3IsIHRoaXMgdXN1YWxseSBpbmRpY2F0ZXMgYW4gaW50ZXJuYWwgcHJvYmxlbSA6KFwiLFxyXG4gICAgICAgIFwibm9wZXJtaXNzaW9uXCIgICAgICAgICAgOiBcIllvdSBkbyBub3QgaGF2ZSB0aGUgcmVxdWlyZWQgcGVybWlzc2lvbnMgdG8gdXNlIHRoYXRcIixcclxuICAgICAgICBcInByb3RvY29sZXJyb3JcIiAgICAgICAgIDogXCJJbnZhbGlkIG9yIGJhZGx5IGZvcm1hdHRlZFwiLFxyXG4gICAgICAgIFwibmVlZGxvZ2luXCIgICAgICAgICAgICAgOiBcIllvdSBoYXZlIHRvIGJlIGxvZ2dlZCBpbiB0byB1c2UgdGhhdFwiLFxyXG4gICAgICAgIFwiaW52YWxpZG1zZ1wiICAgICAgICAgICAgOiBcIlRoZSBtZXNzYWdlIHdhcyBpbnZhbGlkXCIsXHJcbiAgICAgICAgXCJ0aHJvdHRsZWRcIiAgICAgICAgICAgICA6IFwiVGhyb3R0bGVkISBZb3Ugd2VyZSB0cnlpbmcgdG8gc2VuZCBtZXNzYWdlcyB0b28gZmFzdFwiLFxyXG4gICAgICAgIFwiZHVwbGljYXRlXCIgICAgICAgICAgICAgOiBcIlRoZSBtZXNzYWdlIGlzIGlkZW50aWNhbCB0byB0aGUgbGFzdCBvbmUgeW91IHNlbnRcIixcclxuICAgICAgICBcIm11dGVkXCIgICAgICAgICAgICAgICAgIDogXCJZb3UgYXJlIG11dGVkIChzdWJzY3JpYmluZyBhdXRvLXJlbW92ZXMgbXV0ZXMpXCIsXHJcbiAgICAgICAgXCJzdWJtb2RlXCIgICAgICAgICAgICAgICA6IFwiVGhlIGNoYW5uZWwgaXMgY3VycmVudGx5IGluIHN1YnNjcmliZXIgb25seSBtb2RlXCIsXHJcbiAgICAgICAgXCJuZWVkYmFucmVhc29uXCIgICAgICAgICA6IFwiUHJvdmlkaW5nIGEgcmVhc29uIGZvciB0aGUgYmFuIGlzIG1hbmRhdG9yeVwiLFxyXG4gICAgICAgIFwiYmFubmVkXCIgICAgICAgICAgICAgICAgOiBcIllvdSBoYXZlIGJlZW4gYmFubmVkIChzdWJzY3JpYmluZyBhdXRvLXJlbW92ZXMgbm9uLXBlcm1hbmVudCBiYW5zKSwgZGlzY29ubmVjdGluZ1wiLFxyXG4gICAgICAgIFwicmVxdWlyZXNvY2tldFwiICAgICAgICAgOiBcIlRoaXMgY2hhdCByZXF1aXJlcyBXZWJTb2NrZXRzXCIsXHJcbiAgICAgICAgXCJ0b29tYW55Y29ubmVjdGlvbnNcIiAgICA6IFwiT25seSA1IGNvbmN1cnJlbnQgY29ubmVjdGlvbnMgYWxsb3dlZFwiLFxyXG4gICAgICAgIFwic29ja2V0ZXJyb3JcIiAgICAgICAgICAgOiBcIkVycm9yIGNvbnRhY3Rpbmcgc2VydmVyXCIsXHJcbiAgICAgICAgXCJwcml2bXNnYmFubmVkXCIgICAgICAgICA6IFwiQ2Fubm90IHNlbmQgcHJpdmF0ZSBtZXNzYWdlcyB3aGlsZSBiYW5uZWRcIixcclxuICAgICAgICBcInByaXZtc2dhY2NvdW50dG9veW91bmdcIjogXCJZb3VyIGFjY291bnQgaXMgdG9vIHJlY2VudCB0byBzZW5kIHByaXZhdGUgbWVzc2FnZXNcIixcclxuICAgICAgICBcIm5vdGZvdW5kXCIgICAgICAgICAgICAgIDogXCJUaGUgdXNlciB3YXMgbm90IGZvdW5kXCJcclxuICAgIH07XHJcbiAgICB0aGlzLmhpbnRzID0ge1xyXG4gICAgICAgIFwiaGludFwiICAgICAgICAgICA6ICdUeXBlIGluIC9oaW50IGZvciBtb3JlIGhpbnRzJyxcclxuICAgICAgICBcInNsYXNoaGVscFwiICAgICAgOiAnVHlwZSBpbiAvaGVscCBmb3IgbW9yZSBhZHZhbmNlZCBmZWF0dXJlcywgbGlrZSBtb2RpZnlpbmcgdGhlIHNjcm9sbGJhY2sgc2l6ZScsXHJcbiAgICAgICAgXCJ0YWJjb21wbGV0aW9uXCIgIDogJ1VzZSB0aGUgdGFiIGtleSB0byBhdXRvLWNvbXBsZXRlIHVzZXJuYW1lcyBhbmQgZW1vdGVzIChmb3IgdXNlciBvbmx5IGNvbXBsZXRpb24gcHJlcGVuZCBhIEAgb3IgcHJlc3Mgc2hpZnQpJyxcclxuICAgICAgICBcImhvdmVyZW1vdGVzXCIgICAgOiAnSG92ZXJpbmcgeW91ciBtb3VzZSBvdmVyIGFuIGVtb3RlIHdpbGwgc2hvdyB5b3UgdGhlIGVtb3RlIGNvZGUnLFxyXG4gICAgICAgIFwiaGlnaGxpZ2h0XCIgICAgICA6ICdDaGF0IG1lc3NhZ2VzIGNvbnRhaW5pbmcgeW91ciB1c2VybmFtZSB3aWxsIGJlIGhpZ2hsaWdodGVkJyxcclxuICAgICAgICBcIm5vdGlmeVwiICAgICAgICAgOiAnVXNlIC9tc2cgPHVzZXJuYW1lPiB0byBzZW5kIGEgcHJpdmF0ZSBtZXNzYWdlIHRvIHNvbWVvbmUnLFxyXG4gICAgICAgIFwiaWdub3JldXNlclwiICAgICA6ICdVc2UgL2lnbm9yZSA8dXNlcm5hbWU+IHRvIGhpZGUgbWVzc2FnZXMgZnJvbSBwZXNreSBjaGF0dGVycycsXHJcbiAgICAgICAgXCJlbW90ZXdpa2lcIiAgICAgIDogJ0ZvciB0aGUgbGlzdCBvZiBhdmFpbGFibGUgZW1vdGVzIHR5cGUgL2Vtb3RlcyBvciBodHRwczovL2Rlc3RpbnkuZ2cvZW1vdGVzJyxcclxuICAgICAgICBcIm11dGVzcGVybWFuZW50XCIgOiAnTXV0ZXMgYXJlIG5ldmVyIHBlcnNpc3RlbnQsIGRvblxcJ3Qgd29ycnkgaXQgd2lsbCBwYXNzISdcclxuICAgIH07XHJcbiAgICB0aGlzLmhpbnRpbmRleCA9IFtdO1xyXG4gICAgZm9yICh2YXIgaWQgaW4gdGhpcy5oaW50cykge1xyXG4gICAgICAgIGlmICh0aGlzLmhpbnRzLmhhc093blByb3BlcnR5KGlkKSlcclxuICAgICAgICAgICAgdGhpcy5oaW50aW5kZXgucHVzaChpZCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy51c2VyICAgICAgICAgICAgICAgPSBuZXcgQ2hhdFVzZXIoYXJncy51c2VyKTtcclxuICAgIHRoaXMuZ3VpICAgICAgICAgICAgICAgID0gbmV3IENoYXRHdWkodGhpcywgYXJncy5vcHRpb25zKTtcclxuICAgIHRoaXMucHJldmlvdXNlbW90ZSAgICAgID0gbnVsbDtcclxuICAgIHRoaXMub3JpZ2luZW1vdGUgICAgICAgID0gbnVsbDtcclxuICAgIHRoaXMuc2hvd3N0YXJ0aGludCAgICAgID0gdHJ1ZTtcclxuICAgIHJldHVybiB0aGlzO1xyXG59O1xyXG5jaGF0LnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uKCl7XHJcbiAgICBpZiAod2luZG93Lk1veldlYlNvY2tldClcclxuICAgICAgICB3aW5kb3cuV2ViU29ja2V0ID0gTW96V2ViU29ja2V0O1xyXG5cclxuICAgIGlmICghd2luZG93LldlYlNvY2tldClcclxuICAgICAgICByZXR1cm4gdGhpcy5ndWkucHVzaChuZXcgQ2hhdEVycm9yTWVzc2FnZSh0aGlzLmVycm9yc3RyaW5ncy5yZXF1aXJlc29ja2V0KSk7XHJcblxyXG4gICAgdGhpcy5kaXNwYXRjaEJhY2tsb2cgPSAkLnByb3h5KHRoaXMuZGlzcGF0Y2hCYWNrbG9nLCB0aGlzKTtcclxuICAgIHRoaXMuZ3VpLmxvYWRCYWNrbG9nKCk7XHJcbiAgICB0aGlzLmxvYWRJZ25vcmVMaXN0KCk7XHJcbiAgICB0aGlzLmd1aS5wdXNoKG5ldyBDaGF0U3RhdHVzTWVzc2FnZShcIkNvbm5lY3RpbmcuLi5cIikpO1xyXG4gICAgdGhpcy5pbml0KCk7XHJcbiAgICByZXR1cm4gdGhpcztcclxufTtcclxuY2hhdC5wcm90b3R5cGUubCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKCF0aGlzLmRlYnVnKVxyXG4gICAgICAgIHJldHVybjtcclxuXHJcbiAgICB2YXIgbG9nID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmxvZywgY29uc29sZSk7XHJcbiAgICBsb2cuYXBwbHkoY29uc29sZSwgYXJndW1lbnRzKTtcclxufTtcclxuY2hhdC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5zb2NrICAgICAgICAgICA9IG5ldyBXZWJTb2NrZXQodGhpcy5zZXJ2ZXIpO1xyXG4gICAgdGhpcy5zb2NrLm9ub3BlbiAgICA9ICQucHJveHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGV2ZW50ID0ge2RhdGE6ICdPUEVOIFwiXCInfTtcclxuICAgICAgICB0aGlzLnBhcnNlQW5kRGlzcGF0Y2goZXZlbnQpXHJcbiAgICB9LCB0aGlzKTtcclxuICAgIHRoaXMuc29jay5vbmVycm9yICAgPSAkLnByb3h5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBldmVudCA9IHtkYXRhOiAnRVJSIFwic29ja2V0ZXJyb3JcIid9O1xyXG4gICAgICAgIHRoaXMucGFyc2VBbmREaXNwYXRjaChldmVudClcclxuICAgIH0sIHRoaXMpO1xyXG4gICAgdGhpcy5zb2NrLm9ubWVzc2FnZSA9ICQucHJveHkodGhpcy5wYXJzZUFuZERpc3BhdGNoLCB0aGlzKTtcclxuICAgIHRoaXMuc29jay5vbmNsb3NlICAgPSAkLnByb3h5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBldmVudCA9IHtkYXRhOiAnQ0xPU0UgXCJcIid9O1xyXG4gICAgICAgIHRoaXMucGFyc2VBbmREaXNwYXRjaChldmVudClcclxuICAgIH0sIHRoaXMpO1xyXG5cclxuICAgIHRoaXMubCA9ICQucHJveHkodGhpcy5sLCB0aGlzKTtcclxuICAgIHRoaXMuZW1pdCA9ICQucHJveHkodGhpcy5lbWl0LCB0aGlzKTtcclxufTtcclxuY2hhdC5wcm90b3R5cGUubG9hZElnbm9yZUxpc3QgPSBmdW5jdGlvbigpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgdGhpcy5pZ25vcmVsaXN0ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2VbJ2NoYXRpZ25vcmVsaXN0J10gfHwgJ3t9Jyk7XHJcbiAgICB9IGNhdGNoIChlKSB7fVxyXG4gICAgdGhpcy5pZ25vcmVyZWdleCA9IG51bGw7XHJcbn07XHJcblxyXG4vLyB3ZWJzb2NrZXQgc3R1ZmZcclxuY2hhdC5wcm90b3R5cGUucGFyc2VBbmREaXNwYXRjaCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgIHZhciBldmVudG5hbWUgICA9IGUuZGF0YS5zcGxpdCgnICcsIDEpWzBdLFxyXG4gICAgICAgICAgICBoYW5kbGVyID0gJ29uJyArIGV2ZW50bmFtZSxcclxuICAgICAgICAgICAgb2JqICAgICA9IEpTT04ucGFyc2UoZS5kYXRhLnN1YnN0cmluZyhldmVudG5hbWUubGVuZ3RoKzEpKTtcclxuXHJcbiAgICB0aGlzLmwoaGFuZGxlciwgb2JqKTtcclxuICAgIGlmIChldmVudG5hbWUgPT0gJ1BJTkcnKSAvLyBoYW5kbGUgcGluZ2luZyBpbi1saW5lLCBjYW50IHBhcnNlIDY0Yml0IGludHNcclxuICAgICAgICByZXR1cm4gdGhpcy5zb2NrLnNlbmQoJ1BPTkcgJyArIGUuZGF0YS5zdWJzdHJpbmcoZXZlbnRuYW1lLmxlbmd0aCsxKSk7XHJcblxyXG4gICAgaWYgKHRoaXNbaGFuZGxlcl0pXHJcbiAgICAgICAgdGhpc1toYW5kbGVyXShvYmopO1xyXG59O1xyXG5jaGF0LnByb3RvdHlwZS5kaXNwYXRjaEJhY2tsb2cgPSBmdW5jdGlvbihsaW5lKSB7XHJcbiAgICB2YXIgZXZlbnRuYW1lID0gbGluZS5zcGxpdCgnICcsIDEpWzBdLFxyXG4gICAgICAgIGhhbmRsZXIgPSAnb24nICsgZXZlbnRuYW1lLFxyXG4gICAgICAgIG9iaiAgICAgPSBKU09OLnBhcnNlKGxpbmUuc3Vic3RyaW5nKGV2ZW50bmFtZS5sZW5ndGgrMSkpO1xyXG5cclxuICAgIGlmICghdGhpcy51c2Vyc1tvYmoubmlja10pXHJcbiAgICAgICAgdGhpcy51c2Vyc1tvYmoubmlja10gPSBuZXcgQ2hhdFVzZXIob2JqKTtcclxuXHJcbiAgICBpZiAodGhpc1toYW5kbGVyXSlcclxuICAgICAgICB0aGlzW2hhbmRsZXJdKG9iaik7XHJcblxyXG59O1xyXG5jaGF0LnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24oZXZlbnRuYW1lLCBkYXRhKSB7XHJcbiAgICB0aGlzLnNvY2suc2VuZChldmVudG5hbWUgKyBcIiBcIiArIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcclxufTtcclxuXHJcbi8vIHNlcnZlciBldmVudHNcclxuY2hhdC5wcm90b3R5cGUub25PUEVOID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLmNvbm5lY3RlZCA9IHRydWU7XHJcbn07XHJcbmNoYXQucHJvdG90eXBlLm9uQ0xPU0UgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmICh0aGlzLmRvbnRjb25uZWN0KSByZXR1cm47XHJcbiAgICB2YXIgcmFuZCA9ICgodGhpcy5jb25uZWN0ZWQpID8gZ2V0UmFuZG9tSW50KDUwMSwzMDAwKSA6IGdldFJhbmRvbUludCg1MDAwLDMwMDAwKSk7XHJcbiAgICBzZXRUaW1lb3V0KCQucHJveHkodGhpcy5vblJFQ09OTkVDVCwgdGhpcyksIHJhbmQpO1xyXG4gICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRTdGF0dXNNZXNzYWdlKFwiRGlzY29ubmVjdGVkLi4uIHJlY29ubmVjdGluZyBpbiBcIisgTWF0aC5yb3VuZChyYW5kLzEwMDApICtcIiBzZWNvbmRzXCIpKTtcclxufTtcclxuY2hhdC5wcm90b3R5cGUub25OQU1FUyA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgIGlmKGRhdGEudXNlcnMpe1xyXG4gICAgICAgIGZvciAodmFyIGkgPSBkYXRhLnVzZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIHZhciB1ID0gZGF0YS51c2Vyc1tpXTtcclxuICAgICAgICAgICAgdGhpcy51c2Vyc1t1Lm5pY2tdID0gbmV3IENoYXRVc2VyKHUpO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuc2hvdWxkSWdub3JlKHUubmljaywgXCJcIikpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmd1aS5hdXRvQ29tcGxldGVQbHVnaW4uYWRkTmljayh1Lm5pY2spO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmd1aS50cmlnZ2VyKCduYW1lcycsIGRhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRTdGF0dXNNZXNzYWdlKFwiQ29ubmVjdGVkLiBTZXJ2ZXIgY29ubmVjdGlvbnM6IFwiICsgZGF0YS5jb25uZWN0aW9uY291bnQpKTtcclxuXHJcbiAgICBpZih0aGlzLnNob3dzdGFydGhpbnQpe1xyXG4gICAgICAgIHRoaXMuc2hvd3N0YXJ0aGludCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlQ29tbWFuZChcImhpbnRcIik7XHJcbiAgICB9XHJcbn07XHJcbmNoYXQucHJvdG90eXBlLm9uSk9JTiA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgIHRoaXMudXNlcnNbZGF0YS5uaWNrXSA9IG5ldyBDaGF0VXNlcihkYXRhKTtcclxuXHJcbiAgICBpZiAoIXRoaXMuc2hvdWxkSWdub3JlKGRhdGEubmljaywgXCJcIikpXHJcbiAgICAgICAgdGhpcy5ndWkuYXV0b0NvbXBsZXRlUGx1Z2luLmFkZE5pY2soZGF0YS5uaWNrKTtcclxuXHJcbiAgICB0aGlzLmd1aS50cmlnZ2VyKCdqb2luJywgZGF0YSk7XHJcbn07XHJcbmNoYXQucHJvdG90eXBlLm9uUVVJVCA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgIGlmICh0aGlzLnVzZXJzW2RhdGEubmlja10pIHtcclxuICAgICAgICBkZWxldGUodGhpcy51c2Vyc1tkYXRhLm5pY2tdKTtcclxuICAgICAgICB0aGlzLmd1aS50cmlnZ2VyKCdxdWl0JywgZGF0YSk7XHJcbiAgICB9XHJcbn07XHJcbmNoYXQucHJvdG90eXBlLnNob3VsZElnbm9yZSA9IGZ1bmN0aW9uKG5pY2ssIG1lc3NhZ2UpIHtcclxuICAgIGlmICghdGhpcy5pZ25vcmVsaXN0KVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICBpZiAoIXRoaXMuaWdub3JlcmVnZXgpIHtcclxuICAgICAgICB2YXIgbmlja3MgPSBbXTtcclxuICAgICAgICAkLmVhY2godGhpcy5pZ25vcmVsaXN0LCBmdW5jdGlvbihrZXkpIHtcclxuICAgICAgICAgICAgbmlja3MucHVzaChrZXkucmVwbGFjZSgvW1xcLVxcW1xcXVxcL1xce1xcfVxcKFxcKVxcKlxcK1xcP1xcLlxcXFxcXF5cXCRcXHxdL2csIFwiXFxcXCQmXCIpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAobmlja3MubGVuZ3RoID09IDApXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5pZ25vcmVyZWdleCA9IG5ldyBSZWdFeHAobmlja3Muam9pbihcInxcIiksIFwiaVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBuaWNrID0gbmljay50b0xvd2VyQ2FzZSgpO1xyXG4gICAgcmV0dXJuIHRoaXMuaWdub3JlbGlzdFtuaWNrXSB8fCB0aGlzLmlnbm9yZXJlZ2V4LnRlc3QobWVzc2FnZSk7XHJcbn07XHJcblxyXG5jaGF0LnByb3RvdHlwZS5vblBSSVZNU0cgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgdmFyIHVzZXIgPSB0aGlzLnVzZXJzW2RhdGEubmlja107XHJcbiAgICBpZiAoIXVzZXIpXHJcbiAgICAgICAgdXNlciA9IG5ldyBDaGF0VXNlcihkYXRhKTtcclxuXHJcbiAgICBpZiAodGhpcy5zaG91bGRJZ25vcmUoZGF0YS5uaWNrLCBkYXRhLmRhdGEpKVxyXG4gICAgICAgIHJldHVybjtcclxuXHJcbiAgICB0aGlzLmd1aS5hdXRvQ29tcGxldGVQbHVnaW4udXBkYXRlTmljayh1c2VyLnVzZXJuYW1lKTtcclxuICAgIHRoaXMuZ3VpLnNldFVucmVhZE1lc3NhZ2VDb3VudCh0aGlzLmd1aS5wbWNvdW50bnVtKzEpO1xyXG4gICAgdGhpcy5ndWkucHVzaChuZXcgQ2hhdFVzZXJQcml2YXRlTWVzc2FnZShkYXRhLmRhdGEsIHVzZXIsIGRhdGEubWVzc2FnZWlkLCBkYXRhLnRpbWVzdGFtcCkpO1xyXG59O1xyXG5jaGF0LnByb3RvdHlwZS5vbk1TRyA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgIC8vIElmIHdlIGhhdmUgdGhlIHNhbWUgdXNlciBhcyB0aGUgb25lIGxvZ2dlZCBpbiwgdXBkYXRlIHRoZSBmZWF0dXJlc1xyXG4gICAgaWYodGhpcy51c2VyLnVzZXJuYW1lID09IGRhdGEubmljayAmJiBBcnJheS5pc0FycmF5KGRhdGEuZmVhdHVyZXMpKVxyXG4gICAgICAgIHRoaXMudXNlci5mZWF0dXJlcyA9IGRhdGEuZmVhdHVyZXM7XHJcblxyXG4gICAgLy8gRW1vdGUgKHdyb25nIG5hbWUgZm9yIGFuIGFjdGlvbiwgb2ggd2VsbClcclxuICAgIHZhciBlbW90aWNvbiA9IChkYXRhLmRhdGEuc3Vic3RyaW5nKDAsIDQpID09PSAnL21lICcpID8gZGF0YS5kYXRhLnN1YnN0cmluZyg0KSA6IGRhdGEuZGF0YTtcclxuXHJcbiAgICBpZiAodGhpcy5ndWkuZW1vdGljb25zLmluZGV4T2YoZW1vdGljb24pICE9PSAtMSB8fCB0aGlzLmd1aS50d2l0Y2hlbW90ZXMuaW5kZXhPZihlbW90aWNvbikgIT09IC0xKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJldmlvdXNlbW90ZSAmJiB0aGlzLnByZXZpb3VzZW1vdGUubWVzc2FnZSA9PSBlbW90aWNvbikge1xyXG4gICAgICAgICAgICBpZih0aGlzLnByZXZpb3VzZW1vdGUuZW1vdGVjb3VudCA9PT0gMSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZpb3VzZW1vdGUuZW1vdGVjb3VudCA9IDI7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLm9yaWdpbmVtb3RlKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbmVtb3RlLnVpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3JpZ2luZW1vdGUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5ndWkucHVzaCh0aGlzLnByZXZpb3VzZW1vdGUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJldmlvdXNlbW90ZS5pbmNFbW90ZUNvdW50KCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2VcclxuICAgICAgICAgICAgdGhpcy5wcmV2aW91c2Vtb3RlID0gbmV3IENoYXRFbW90ZU1lc3NhZ2UoZW1vdGljb24sIGRhdGEudGltZXN0YW1wKTtcclxuICAgIH0gZWxzZVxyXG4gICAgICAgIHRoaXMucHJldmlvdXNlbW90ZSA9IG51bGw7XHJcbiAgICAvLyBFbmQgZW1vdGVcclxuXHJcbiAgICB2YXIgbWVzc2FnZXVpID0gdGhpcy5ndWkucmVzb2x2ZU1lc3NhZ2UoZGF0YSk7XHJcbiAgICBpZihtZXNzYWdldWkgJiYgdGhpcy5wcmV2aW91c2Vtb3RlKVxyXG4gICAgICAgIHRoaXMub3JpZ2luZW1vdGUgPSBtZXNzYWdldWk7XHJcblxyXG4gICAgaWYodGhpcy51c2VyLnVzZXJuYW1lICE9IGRhdGEubmljayB8fCAhbWVzc2FnZXVpKXtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2hvdWxkSWdub3JlKGRhdGEubmljaywgZGF0YS5kYXRhKSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICB2YXIgdXNlciA9IHRoaXMudXNlcnNbZGF0YS5uaWNrXTtcclxuICAgICAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgICAgICAgdXNlciA9IG5ldyBDaGF0VXNlcihkYXRhKTtcclxuICAgICAgICAgICAgaWYgKHVzZXIubmljayAhPSBcIlwiICYmIHVzZXIubmljayA9PSB0aGlzLnVzZXIubmljaylcclxuICAgICAgICAgICAgICAgIHRoaXMudXNlciA9IHVzZXI7XHJcbiAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMuZ3VpLmF1dG9Db21wbGV0ZVBsdWdpbi51cGRhdGVOaWNrKGRhdGEubmljayk7XHJcblxyXG4gICAgICAgIGlmICh1c2VyICYmIHVzZXIuZmVhdHVyZXMubGVuZ3RoICE9IGRhdGEuZmVhdHVyZXMubGVuZ3RoKVxyXG4gICAgICAgICAgICB0aGlzLnVzZXJzW2RhdGEubmlja10gPSB1c2VyO1xyXG5cclxuICAgICAgICB2YXIgdXNlcm1lc3NhZ2UgPSBuZXcgQ2hhdFVzZXJNZXNzYWdlKGRhdGEuZGF0YSwgdXNlciwgZGF0YS50aW1lc3RhbXApO1xyXG5cclxuICAgICAgICBpZih0aGlzLnByZXZpb3VzZW1vdGUpXHJcbiAgICAgICAgICAgIHRoaXMub3JpZ2luZW1vdGUgPSB1c2VybWVzc2FnZTtcclxuXHJcbiAgICAgICAgdGhpcy5ndWkucHVzaCh1c2VybWVzc2FnZSk7XHJcbiAgICB9XHJcbn07XHJcbmNoYXQucHJvdG90eXBlLm9uTVVURSA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgIHZhciBzdXBwcmVzc2VkbmljayA9IGRhdGEuZGF0YTtcclxuICAgIGlmICh0aGlzLnVzZXIudXNlcm5hbWUudG9Mb3dlckNhc2UoKSA9PSBkYXRhLmRhdGEudG9Mb3dlckNhc2UoKSlcclxuICAgICAgICBzdXBwcmVzc2VkbmljayA9ICdZb3UgaGF2ZSBiZWVuJztcclxuICAgIGVsc2UgaWYgKCF0aGlzLnVzZXIuaGFzQW55RmVhdHVyZXMoXHJcbiAgICAgICAgZGVzdGlueS5Vc2VyRmVhdHVyZXMuU1VCU0NSSUJFUlQzLFxyXG4gICAgICAgIGRlc3RpbnkuVXNlckZlYXR1cmVzLlNVQlNDUklCRVJUNCxcclxuICAgICAgICBkZXN0aW55LlVzZXJGZWF0dXJlcy5TVUJTQ1JJQkVSVDIsXHJcbiAgICAgICAgZGVzdGlueS5Vc2VyRmVhdHVyZXMuQURNSU4sXHJcbiAgICAgICAgZGVzdGlueS5Vc2VyRmVhdHVyZXMuTU9ERVJBVE9SXHJcbiAgICApKVxyXG4gICAgICAgIHRoaXMuZ3VpLnJlbW92ZVVzZXJNZXNzYWdlcyhkYXRhLmRhdGEpO1xyXG5cclxuICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRDb21tYW5kTWVzc2FnZShzdXBwcmVzc2VkbmljayArIFwiIG11dGVkIGJ5IFwiICsgZGF0YS5uaWNrLCBkYXRhLnRpbWVzdGFtcCkpO1xyXG59O1xyXG5jaGF0LnByb3RvdHlwZS5vblVOTVVURSA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgIHZhciBzdXBwcmVzc2VkbmljayA9IGRhdGEuZGF0YTtcclxuICAgIGlmICh0aGlzLnVzZXIudXNlcm5hbWUudG9Mb3dlckNhc2UoKSA9PSBkYXRhLmRhdGEudG9Mb3dlckNhc2UoKSlcclxuICAgICAgICBzdXBwcmVzc2VkbmljayA9ICdZb3UgaGF2ZSBiZWVuJztcclxuXHJcbiAgICB0aGlzLmd1aS5wdXNoKG5ldyBDaGF0Q29tbWFuZE1lc3NhZ2Uoc3VwcHJlc3NlZG5pY2sgKyBcIiB1bm11dGVkIGJ5IFwiICsgZGF0YS5uaWNrLCBkYXRhLnRpbWVzdGFtcCkpO1xyXG59O1xyXG5jaGF0LnByb3RvdHlwZS5vbkJBTiA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgIC8vIGRhdGEuZGF0YSBpcyB0aGUgbmljayB3aGljaCBoYXMgYmVlbiBiYW5uZWQsIG5vIGluZm8gYWJvdXQgZHVyYXRpb25cclxuICAgIHZhciBzdXBwcmVzc2VkbmljayA9IGRhdGEuZGF0YTtcclxuICAgIGlmICh0aGlzLnVzZXIudXNlcm5hbWUudG9Mb3dlckNhc2UoKSA9PSBkYXRhLmRhdGEudG9Mb3dlckNhc2UoKSkge1xyXG4gICAgICAgIHN1cHByZXNzZWRuaWNrID0gJ1lvdSBoYXZlIGJlZW4nO1xyXG4gICAgICAgIGlmKCF0aGlzLmd1aS5iYWNrbG9nTG9hZGluZyl7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL2Jhbm5lZFwiO1xyXG4gICAgICAgICAgICB9LCAxNTAwKTtcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2UgaWYoIXRoaXMudXNlci5oYXNBbnlGZWF0dXJlcyhcclxuICAgICAgICBkZXN0aW55LlVzZXJGZWF0dXJlcy5TVUJTQ1JJQkVSVDMsXHJcbiAgICAgICAgZGVzdGlueS5Vc2VyRmVhdHVyZXMuU1VCU0NSSUJFUlQ0LFxyXG4gICAgICAgIGRlc3RpbnkuVXNlckZlYXR1cmVzLlNVQlNDUklCRVJUMixcclxuICAgICAgICBkZXN0aW55LlVzZXJGZWF0dXJlcy5BRE1JTixcclxuICAgICAgICBkZXN0aW55LlVzZXJGZWF0dXJlcy5NT0RFUkFUT1JcclxuICAgICkpXHJcbiAgICAgICAgdGhpcy5ndWkucmVtb3ZlVXNlck1lc3NhZ2VzKGRhdGEuZGF0YSk7XHJcblxyXG4gICAgdGhpcy5ndWkucHVzaChuZXcgQ2hhdENvbW1hbmRNZXNzYWdlKHN1cHByZXNzZWRuaWNrICsgXCIgYmFubmVkIGJ5IFwiICsgZGF0YS5uaWNrLCBkYXRhLnRpbWVzdGFtcCkpO1xyXG59O1xyXG5jaGF0LnByb3RvdHlwZS5vblVOQkFOID0gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgdmFyIHN1cHByZXNzZWRuaWNrID0gZGF0YS5kYXRhO1xyXG4gICAgaWYgKHRoaXMudXNlci51c2VybmFtZS50b0xvd2VyQ2FzZSgpID09IGRhdGEuZGF0YS50b0xvd2VyQ2FzZSgpKVxyXG4gICAgICAgIHN1cHByZXNzZWRuaWNrID0gJ1lvdSBoYXZlIGJlZW4nO1xyXG5cclxuICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRDb21tYW5kTWVzc2FnZShzdXBwcmVzc2VkbmljayArIFwiIHVuYmFubmVkIGJ5IFwiICsgZGF0YS5uaWNrLCBkYXRhLnRpbWVzdGFtcCkpO1xyXG59O1xyXG5jaGF0LnByb3RvdHlwZS5vbkVSUiA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgIGlmIChkYXRhID09IFwidG9vbWFueWNvbm5lY3Rpb25zXCIgfHwgZGF0YSA9PSBcImJhbm5lZFwiKVxyXG4gICAgICAgIHRoaXMuZG9udGNvbm5lY3QgPSB0cnVlO1xyXG5cclxuICAgIGlmIChkYXRhID09IFwiYmFubmVkXCIgJiYgIXRoaXMuZ3VpLmJhY2tsb2dMb2FkaW5nKVxyXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvYmFubmVkXCI7XHJcblxyXG4gICAgdGhpcy5ndWkucHVzaChuZXcgQ2hhdEVycm9yTWVzc2FnZSh0aGlzLmVycm9yc3RyaW5nc1tkYXRhXSkpO1xyXG59O1xyXG5jaGF0LnByb3RvdHlwZS5vblJFRlJFU0ggPSBmdW5jdGlvbigpIHtcclxuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XHJcbn07XHJcbmNoYXQucHJvdG90eXBlLm9uUkVDT05ORUNUID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLmluaXQoKTtcclxufTtcclxuY2hhdC5wcm90b3R5cGUub25TVUJPTkxZID0gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgdmFyIHN1Ym1vZGUgPSBkYXRhLmRhdGEgPT0gJ29uJyA/ICdlbmFibGVkJzogJ2Rpc2FibGVkJztcclxuICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRDb21tYW5kTWVzc2FnZShcIlN1YnNjcmliZXIgb25seSBtb2RlIFwiK3N1Ym1vZGUrXCIgYnkgXCIgKyBkYXRhLm5pY2ssIGRhdGEudGltZXN0YW1wKSk7XHJcbn07XHJcbmNoYXQucHJvdG90eXBlLm9uQlJPQURDQVNUID0gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgaWYgKHRoaXMuZ3VpLmJhY2tsb2dMb2FkaW5nKSByZXR1cm47XHJcbiAgICBpZiAoZGF0YS5kYXRhLnN1YnN0cmluZygwLCA5KSA9PSAncmVkaXJlY3Q6Jykge1xyXG4gICAgICAgIHZhciB1cmwgPSBkYXRhLmRhdGEuc3Vic3RyaW5nKDkpO1xyXG4gICAgICAgIF9nYXEucHVzaChbJ190cmFja0V2ZW50JywgJ291dGJvdW5kJywgJ2NoYXQtcmVkaXJlY3QnLCB1cmxdKTtcclxuICAgICAgICBfZ2FxLnB1c2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB0cnkgcmVkaXJlY3RpbmcgdGhlIHBhcmVudCB3aW5kb3cgdG9vIGlmIHBvc3NpYmxlXHJcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LnBhcmVudClcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cucGFyZW50LmxvY2F0aW9uLmhyZWYgPSB1cmw7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybDtcclxuXHJcbiAgICAgICAgICAgIH0sIDUwMDApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRCcm9hZGNhc3RNZXNzYWdlKFwiUmVkaXJlY3RpbmcgaW4gNSBzZWNvbmRzIHRvIFwiICsgdXJsLCBkYXRhLnRpbWVzdGFtcCkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmd1aS5wdXNoKG5ldyBDaGF0QnJvYWRjYXN0TWVzc2FnZShkYXRhLmRhdGEsIGRhdGEudGltZXN0YW1wKSk7XHJcbiAgICB9XHJcbn07XHJcbmNoYXQucHJvdG90eXBlLm9uUFJJVk1TR1NFTlQgPSBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICB0aGlzLmd1aS5wdXNoKG5ldyBDaGF0SW5mb01lc3NhZ2UoXCJZb3VyIG1lc3NhZ2UgaGFzIGJlZW4gc2VudCFcIikpO1xyXG59O1xyXG5cclxuY2hhdC5wcm90b3R5cGUuaGFuZGxlQ29tbWFuZCA9IGZ1bmN0aW9uKHN0cikge1xyXG4gICAgLy8gZW1wdHkgY29tbWFuZCwgZG8gbm90IHRyeSB0byBwYXJzZSBpdFxyXG4gICAgaWYgKCFzdHIubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRFcnJvck1lc3NhZ2UoXCJFbXB0eSBjb21tYW5kXCIpKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBwYXJ0cyAgICAgPSBzdHIubWF0Y2goLyhbXiBdKykvZyksXHJcbiAgICAgICAgY29tbWFuZCAgID0gcGFydHNbMF0udG9Mb3dlckNhc2UoKSxcclxuICAgICAgICBuaWNrcmVnZXggPSAvXlthLXpBLVowLTlfXXszLDIwfSQvLFxyXG4gICAgICAgIHBheWxvYWQgICA9IHt9LFxyXG4gICAgICAgIG5pY2tzICAgICA9IFtdLFxyXG4gICAgICAgIG5pY2sgICAgICA9ICcnO1xyXG5cclxuICAgIGlmIChzdHIuc3Vic3RyaW5nKDAsIDEpID09PSAnLycpIHtcclxuICAgICAgICBwYXlsb2FkLmRhdGEgPSBcIi9cIiArIHN0cjtcclxuICAgICAgICB0aGlzLmVtaXQoXCJNU0dcIiwgcGF5bG9hZCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMubChjb21tYW5kLCBwYXJ0cyk7XHJcblxyXG4gICAgc3dpdGNoKGNvbW1hbmQpIHtcclxuXHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgdGhpcy5ndWkucHVzaChuZXcgQ2hhdEVycm9yTWVzc2FnZShcIlVua25vd24gY29tbWFuZFwiKSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwiZW1vdGVzXCI6XHJcbiAgICAgICAgICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRJbmZvTWVzc2FnZShcIkF2YWlsYWJsZSBlbW90aWNvbnM6IFwiK3RoaXMuZ3VpLmVtb3RpY29ucy5qb2luKFwiLCBcIikrXCIgKHd3dy5kZXN0aW55LmdnL2Vtb3RlcylcIikpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcImhlbHBcIjpcclxuICAgICAgICAgICAgdGhpcy5ndWkucHVzaChuZXcgQ2hhdEluZm9NZXNzYWdlKFwiQXZhaWxhYmxlIGNvbW1hbmRzOiAvZW1vdGVzIC9tZSAvbXNnIC9pZ25vcmUgKHdpdGhvdXQgYXJndW1lbnRzIHRvIGxpc3QgdGhlIG5pY2tzIGlnbm9yZWQpIC91bmlnbm9yZSAvaGlnaGxpZ2h0IChoaWdobGlnaHRzIHRhcmdldCBuaWNrcyBtZXNzYWdlcyBmb3IgZWFzaWVyIHZpc2liaWxpdHkpIC91bmhpZ2hsaWdodCAvbWF4bGluZXMgL211dGUgL3VubXV0ZSAvc3Vib25seSAvYmFuIC9pcGJhbiAvdW5iYW4gKGFsc28gdW5iYW5zIGlwIGJhbnMpIC90aW1lc3RhbXBmb3JtYXRcIikpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcIm1lXCI6XHJcbiAgICAgICAgICAgIHBheWxvYWQuZGF0YSA9IFwiL1wiICsgc3RyO1xyXG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJNU0dcIiwgcGF5bG9hZCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxyXG4gICAgICAgIGNhc2UgXCJtc2dcIjpcclxuICAgICAgICBjYXNlIFwid2hpc3BlclwiOlxyXG4gICAgICAgIGNhc2UgXCJ3XCI6XHJcbiAgICAgICAgY2FzZSBcInRlbGxcIjpcclxuICAgICAgICBjYXNlIFwidFwiOlxyXG4gICAgICAgIGNhc2UgXCJub3RpZnlcIjpcclxuICAgICAgICAgICAgaWYgKCFwYXJ0c1sxXSB8fCAhbmlja3JlZ2V4LnRlc3QocGFydHNbMV0udG9Mb3dlckNhc2UoKSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRFcnJvck1lc3NhZ2UoXCJJbnZhbGlkIG5pY2sgLSAvbXNnIG5pY2sgbWVzc2FnZVwiKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKHBhcnRzWzFdLnRvTG93ZXJDYXNlKCkgPT0gdGhpcy51c2VyLnVzZXJuYW1lLnRvTG93ZXJDYXNlKCkpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ndWkucHVzaChuZXcgQ2hhdEVycm9yTWVzc2FnZShcIkNhbm5vdCBzZW5kIGEgbWVzc2FnZSB0byB5b3Vyc2VsZlwiKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHBheWxvYWQubmljayA9IHBhcnRzWzFdO1xyXG4gICAgICAgICAgICBwYXJ0cy5zaGlmdCgpOyAvLyByZW1vdmUgY29tbWFuZFxyXG4gICAgICAgICAgICBwYXJ0cy5zaGlmdCgpOyAvLyByZW1vdmUgbmlja1xyXG4gICAgICAgICAgICBwYXlsb2FkLmRhdGEgPSBwYXJ0cy5qb2luKCcgJyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJQUklWTVNHXCIsIHBheWxvYWQpO1xyXG4gICAgICAgICAgICB0aGlzLmd1aS5hdXRvQ29tcGxldGVQbHVnaW4ubWFya0xhc3RDb21wbGV0ZSgpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcImlnbm9yZVwiOlxyXG4gICAgICAgICAgICBpZiAoIWxvY2FsU3RvcmFnZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ndWkucHVzaChuZXcgQ2hhdEVycm9yTWVzc2FnZShcIklnbm9yZSBpcyB1bmF2YWlsYWJsZSwgbm8gbG9jYWxTdG9yYWdlXCIpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFwYXJ0c1sxXSkge1xyXG4gICAgICAgICAgICAgICAgbmlja3MgPSBbXTtcclxuICAgICAgICAgICAgICAgICQuZWFjaCh0aGlzLmlnbm9yZWxpc3QsIGZ1bmN0aW9uKGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5pY2tzLnB1c2goa2V5KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5pY2tzLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ndWkucHVzaChuZXcgQ2hhdEluZm9NZXNzYWdlKFwiWW91ciBpZ25vcmUgbGlzdCBpcyBlbXB0eVwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5ndWkucHVzaChuZXcgQ2hhdEluZm9NZXNzYWdlKFwiSWdub3JpbmcgdGhlIGZvbGxvd2luZyBwZW9wbGU6IFwiK25pY2tzLmpvaW4oJywgJykpKTtcclxuICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBuaWNrID0gcGFydHNbMV0udG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgaWYgKCFuaWNrcmVnZXgudGVzdChuaWNrKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ndWkucHVzaChuZXcgQ2hhdEVycm9yTWVzc2FnZShcIkludmFsaWQgbmljayAtIC9pZ25vcmUgbmlja1wiKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuaWdub3JlbGlzdFtuaWNrXSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZ3VpLnJlbW92ZVVzZXJNZXNzYWdlcyhuaWNrKTtcclxuICAgICAgICAgICAgdGhpcy5ndWkucHVzaChuZXcgQ2hhdFN0YXR1c01lc3NhZ2UoXCJJZ25vcmluZyBcIituaWNrKSk7XHJcblxyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2VbJ2NoYXRpZ25vcmVsaXN0J10gPSBKU09OLnN0cmluZ2lmeSh0aGlzLmlnbm9yZWxpc3QpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRJZ25vcmVMaXN0KCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwidW5pZ25vcmVcIjpcclxuICAgICAgICAgICAgaWYgKCFsb2NhbFN0b3JhZ2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRFcnJvck1lc3NhZ2UoXCJJZ25vcmUgaXMgdW5hdmFpbGFibGUsIG5vIGxvY2FsU3RvcmFnZVwiKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghcGFydHNbMV0gfHwgIW5pY2tyZWdleC50ZXN0KHBhcnRzWzFdLnRvTG93ZXJDYXNlKCkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmd1aS5wdXNoKG5ldyBDaGF0RXJyb3JNZXNzYWdlKFwiSW52YWxpZCBuaWNrIC0gL2lnbm9yZSBuaWNrXCIpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuaWNrID0gcGFydHNbMV0udG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAgICAgICAgIGRlbGV0ZSh0aGlzLmlnbm9yZWxpc3Rbbmlja10pO1xyXG4gICAgICAgICAgICB0aGlzLmd1aS5wdXNoKG5ldyBDaGF0U3RhdHVzTWVzc2FnZShcIlwiK25pY2srXCIgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIHlvdXIgaWdub3JlIGxpc3RcIikpO1xyXG5cclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlWydjaGF0aWdub3JlbGlzdCddID0gSlNPTi5zdHJpbmdpZnkodGhpcy5pZ25vcmVsaXN0KTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkSWdub3JlTGlzdCgpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcIm11dGVcIjpcclxuICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmd1aS5wdXNoKG5ldyBDaGF0SW5mb01lc3NhZ2UoXCJVc2FnZTogL1wiICsgY29tbWFuZCArIFwiIG5pY2tbIHRpbWVdXCIpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gVE9ETyBiYW5zIGFyZSBhIGxpdHRsZSBtb3JlIGludm9sdmVkLCByZXF1aXJpbmcgYSByZWFzb24gKyBpcCBiYW5zICsgcGVybWJhbnNcclxuICAgICAgICAgICAgaWYgKCFuaWNrcmVnZXgudGVzdChwYXJ0c1sxXSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRFcnJvck1lc3NhZ2UoXCJJbnZhbGlkIG5pY2sgLSAvXCIgKyBjb21tYW5kICsgXCIgbmlja1sgdGltZV1cIikpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgZHVyYXRpb24gPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAocGFydHNbMl0pXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbiA9IHRoaXMucGFyc2VUaW1lSW50ZXJ2YWwocGFydHNbMl0pXHJcblxyXG4gICAgICAgICAgICBwYXlsb2FkLmRhdGEgPSBwYXJ0c1sxXTtcclxuICAgICAgICAgICAgaWYgKGR1cmF0aW9uICYmIGR1cmF0aW9uID4gMClcclxuICAgICAgICAgICAgICAgIHBheWxvYWQuZHVyYXRpb24gPSBkdXJhdGlvbjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZW1pdChjb21tYW5kLnRvVXBwZXJDYXNlKCksIHBheWxvYWQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcImJhblwiOlxyXG4gICAgICAgIGNhc2UgXCJpcGJhblwiOlxyXG4gICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoIDwgNCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ndWkucHVzaChuZXcgQ2hhdEluZm9NZXNzYWdlKFwiVXNhZ2U6IC9cIiArIGNvbW1hbmQgKyBcIiBuaWNrIHRpbWUgcmVhc29uICh0aW1lIGNhbiBiZSAncGVybWFuZW50JylcIikpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIW5pY2tyZWdleC50ZXN0KHBhcnRzWzFdKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ndWkucHVzaChuZXcgQ2hhdEVycm9yTWVzc2FnZShcIkludmFsaWQgbmlja1wiKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHBheWxvYWQubmljayA9IHBhcnRzWzFdO1xyXG4gICAgICAgICAgICBpZiAoY29tbWFuZCA9PSBcImlwYmFuXCIpXHJcbiAgICAgICAgICAgICAgICBwYXlsb2FkLmJhbmlwID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGlmICgvXnBlcm0vaS50ZXN0KHBhcnRzWzJdKSlcclxuICAgICAgICAgICAgICAgIHBheWxvYWQuaXNwZXJtYW5lbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBwYXlsb2FkLmR1cmF0aW9uID0gdGhpcy5wYXJzZVRpbWVJbnRlcnZhbChwYXJ0c1syXSk7XHJcblxyXG4gICAgICAgICAgICBwYXlsb2FkLnJlYXNvbiA9IHBhcnRzLnNsaWNlKDMsIHBhcnRzLmxlbmd0aCkuam9pbignICcpO1xyXG4gICAgICAgICAgICBpZiAoIXBheWxvYWQucmVhc29uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmd1aS5wdXNoKG5ldyBDaGF0RXJyb3JNZXNzYWdlKFwiUHJvdmlkaW5nIGEgcmVhc29uIGlzIG1hbmRhdG9yeVwiKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuZW1pdChcIkJBTlwiLCBwYXlsb2FkKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJ1bm11dGVcIjpcclxuICAgICAgICBjYXNlIFwidW5iYW5cIjpcclxuICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmd1aS5wdXNoKG5ldyBDaGF0SW5mb01lc3NhZ2UoXCJVc2FnZTogL1wiICsgY29tbWFuZCArIFwiIG5pY2tcIikpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIW5pY2tyZWdleC50ZXN0KHBhcnRzWzFdKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ndWkucHVzaChuZXcgQ2hhdEVycm9yTWVzc2FnZShcIkludmFsaWQgbmljayAtIC9cIiArIGNvbW1hbmQgKyBcIiBuaWNrXCIpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcGF5bG9hZC5kYXRhID0gcGFydHNbMV07XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdChjb21tYW5kLnRvVXBwZXJDYXNlKCksIHBheWxvYWQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcInN1Ym9ubHlcIjpcclxuICAgICAgICAgICAgaWYgKHBhcnRzWzFdICE9ICdvbicgJiYgcGFydHNbMV0gIT0gJ29mZicpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRFcnJvck1lc3NhZ2UoXCJJbnZhbGlkIGFyZ3VtZW50IC0gL1wiICsgY29tbWFuZCArIFwiIG9uL29mZlwiKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHBheWxvYWQuZGF0YSA9IHBhcnRzWzFdO1xyXG4gICAgICAgICAgICB0aGlzLmVtaXQoY29tbWFuZC50b1VwcGVyQ2FzZSgpLCBwYXlsb2FkKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJtYXhsaW5lc1wiOlxyXG4gICAgICAgICAgICBpZiAoIXBhcnRzWzFdKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmd1aS5wdXNoKG5ldyBDaGF0SW5mb01lc3NhZ2UoXCJDdXJyZW50IG51bWJlciBvZiBsaW5lcyBzaG93bjogXCIgKyB0aGlzLmd1aS5nZXRQcmVmZXJlbmNlKCdtYXhsaW5lcycpKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBuZXdtYXhsaW5lcyA9IE1hdGguYWJzKHBhcnNlSW50KHBhcnRzWzFdLCAxMCkpO1xyXG4gICAgICAgICAgICBpZiAoIW5ld21heGxpbmVzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmd1aS5wdXNoKG5ldyBDaGF0RXJyb3JNZXNzYWdlKFwiSW52YWxpZCBhcmd1bWVudCAtIC9tYXhsaW5lcyBpcyBleHBlY3RpbmcgYSBudW1iZXJcIikpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmd1aS5zZXRQcmVmZXJlbmNlKCdtYXhsaW5lcycsIG5ld21heGxpbmVzKTtcclxuICAgICAgICAgICAgdGhpcy5ndWkucHVzaChuZXcgQ2hhdEluZm9NZXNzYWdlKFwiQ3VycmVudCBudW1iZXIgb2YgbGluZXMgc2hvd246IFwiICsgdGhpcy5ndWkuZ2V0UHJlZmVyZW5jZSgnbWF4bGluZXMnKSkpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcInVuaGlnaGxpZ2h0XCI6XHJcbiAgICAgICAgY2FzZSBcImhpZ2hsaWdodFwiOlxyXG4gICAgICAgICAgICB2YXIgaGlnaGxpZ2h0bmlja3MgPSB0aGlzLmd1aS5nZXRQcmVmZXJlbmNlKCdoaWdobGlnaHRuaWNrcycpO1xyXG4gICAgICAgICAgICBpZiAoIXBhcnRzWzFdKSB7XHJcbiAgICAgICAgICAgICAgICBuaWNrcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgJC5lYWNoKGhpZ2hsaWdodG5pY2tzLCBmdW5jdGlvbihrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmlja3MucHVzaChrKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ndWkucHVzaChuZXcgQ2hhdEluZm9NZXNzYWdlKFwiQ3VycmVudGx5IGhpZ2hsaWdodGVkIHVzZXJzOiBcIiArIG5pY2tzLmpvaW4oJywgJykpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFuaWNrcmVnZXgudGVzdChwYXJ0c1sxXSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRFcnJvck1lc3NhZ2UoXCJJbnZhbGlkIG5pY2sgLSAvXCIgKyBjb21tYW5kICsgXCIgbmlja1wiKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5pY2sgPSBwYXJ0c1sxXS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICB2YXIgZG9oaWdobGlnaHQgPSBjb21tYW5kID09IFwiaGlnaGxpZ2h0XCI7XHJcbiAgICAgICAgICAgIGlmIChkb2hpZ2hsaWdodCkge1xyXG4gICAgICAgICAgICAgICAgaGlnaGxpZ2h0bmlja3Nbbmlja10gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ndWkucHVzaChuZXcgQ2hhdEluZm9NZXNzYWdlKFwiTm93IGhpZ2hsaWdodGluZzogXCIgKyBuaWNrKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUoaGlnaGxpZ2h0bmlja3Nbbmlja10pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ndWkucHVzaChuZXcgQ2hhdEluZm9NZXNzYWdlKFwiTm8gbG9uZ2VyIGhpZ2hsaWdodGluZzogXCIgKyBuaWNrKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ3VpLnJlbmV3SGlnaGxpZ2h0KG5pY2ssIGRvaGlnaGxpZ2h0KTtcclxuICAgICAgICAgICAgdGhpcy5ndWkuc2V0UHJlZmVyZW5jZSgnaGlnaGxpZ2h0bmlja3MnLCBoaWdobGlnaHRuaWNrcyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwidGltZXN0YW1wZm9ybWF0XCI6XHJcbiAgICAgICAgICAgIGlmICghcGFydHNbMV0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRJbmZvTWVzc2FnZShcIkN1cnJlbnQgZm9ybWF0OiBcIiArIHRoaXMuZ3VpLmdldFByZWZlcmVuY2UoJ3RpbWVzdGFtcGZvcm1hdCcpICsgXCIgKHRoZSBkZWZhdWx0IGlzICdISDptbScsIGZvciBtb3JlIGluZm86IGh0dHA6Ly9tb21lbnRqcy5jb20vZG9jcy8jL2Rpc3BsYXlpbmcvZm9ybWF0LylcIikpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgZm9ybWF0ID0gc3RyLnN1YnN0cmluZyhjb21tYW5kLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIGlmICggIS9eW2EteiA6LiwtXFxcXCpdKyQvaS50ZXN0KGZvcm1hdCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRFcnJvck1lc3NhZ2UoXCJJbnZhbGlkIGZvcm1hdCwgc2VlOiBodHRwOi8vbW9tZW50anMuY29tL2RvY3MvIy9kaXNwbGF5aW5nL2Zvcm1hdC9cIikpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmd1aS5zZXRQcmVmZXJlbmNlKCd0aW1lc3RhbXBmb3JtYXQnLCBmb3JtYXQpO1xyXG4gICAgICAgICAgICB0aGlzLmd1aS5wdXNoKG5ldyBDaGF0SW5mb01lc3NhZ2UoXCJOZXcgZm9ybWF0OiBcIiArIHRoaXMuZ3VpLmdldFByZWZlcmVuY2UoJ3RpbWVzdGFtcGZvcm1hdCcpKSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwiYnJvYWRjYXN0XCI6XHJcbiAgICAgICAgICAgIHBheWxvYWQuZGF0YSA9IHN0ci5zdWJzdHJpbmcoY29tbWFuZC5sZW5ndGgrMSk7XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdChjb21tYW5kLnRvVXBwZXJDYXNlKCksIHBheWxvYWQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcImhpbnRcIjpcclxuICAgICAgICAgICAgdmFyIGlkID0gXCJcIixcclxuICAgICAgICAgICAgICAgIGhpbnQgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgc2hvd25oaW50cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlW1wiaGlkZGVuaGludHNcIl0gfHwgJ1tdJyksXHJcbiAgICAgICAgICAgICAgICBpID0gMDtcclxuICAgICAgICAgICAgd2hpbGUoKytpKXtcclxuICAgICAgICAgICAgICAgIGlmKGkgPj0gdGhpcy5oaW50aW5kZXgubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgICAgICBpZCA9IHRoaXMuaGludGluZGV4WzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGhpbnQgPSB0aGlzLmhpbnRzW2lkXTtcclxuICAgICAgICAgICAgICAgICAgICBzaG93bmhpbnRzID0gW2lkXTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKHNob3duaGludHMuaW5kZXhPZih0aGlzLmhpbnRpbmRleFtpXSkgPT09IC0xKXtcclxuICAgICAgICAgICAgICAgICAgICBpZCA9IHRoaXMuaGludGluZGV4W2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGhpbnQgPSB0aGlzLmhpbnRzW2lkXTtcclxuICAgICAgICAgICAgICAgICAgICBzaG93bmhpbnRzLnB1c2goaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZVtcImhpZGRlbmhpbnRzXCJdID0gSlNPTi5zdHJpbmdpZnkoc2hvd25oaW50cyk7XHJcbiAgICAgICAgICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRJbmZvTWVzc2FnZShoaW50KSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgIH1cclxufTtcclxuY2hhdC5wcm90b3R5cGUucGFyc2VUaW1lSW50ZXJ2YWwgPSBmdW5jdGlvbihzdHIpIHtcclxuICAgIHZhciBuYW5vc2Vjb25kcyA9IDAsXHJcbiAgICAgICAgdW5pdHMgICA9IHtcclxuICAgICAgICBzOiAxMDAwMDAwMDAwLFxyXG4gICAgICAgIHNlYzogMTAwMDAwMDAwMCwgc2VjczogMTAwMDAwMDAwMCxcclxuICAgICAgICBzZWNvbmQ6IDEwMDAwMDAwMDAsIHNlY29uZHM6IDEwMDAwMDAwMDAsXHJcblxyXG4gICAgICAgIG06IDYwMDAwMDAwMDAwLFxyXG4gICAgICAgIG1pbjogNjAwMDAwMDAwMDAsIG1pbnM6IDYwMDAwMDAwMDAwLFxyXG4gICAgICAgIG1pbnV0ZTogNjAwMDAwMDAwMDAsIG1pbnV0ZXM6IDYwMDAwMDAwMDAwLFxyXG5cclxuICAgICAgICBoOiAzNjAwMDAwMDAwMDAwLFxyXG4gICAgICAgIGhyOiAzNjAwMDAwMDAwMDAwLCBocnM6IDM2MDAwMDAwMDAwMDAsXHJcbiAgICAgICAgaG91cjogMzYwMDAwMDAwMDAwMCwgaG91cnM6IDM2MDAwMDAwMDAwMDAsXHJcblxyXG4gICAgICAgIGQ6IDg2NDAwMDAwMDAwMDAwLFxyXG4gICAgICAgIGRheTogODY0MDAwMDAwMDAwMDAsIGRheXM6IDg2NDAwMDAwMDAwMDAwXHJcbiAgICB9O1xyXG4gICAgc3RyLnJlcGxhY2UoLyhcXGQrKD86XFwuXFxkKik/KShbYS16XSspPy9pZywgZnVuY3Rpb24oJDAsIG51bWJlciwgdW5pdCkge1xyXG4gICAgICAgIGlmICh1bml0KVxyXG4gICAgICAgICAgICBudW1iZXIgKj0gdW5pdHNbdW5pdC50b0xvd2VyQ2FzZSgpXSB8fCB1bml0cy5zO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgbnVtYmVyICo9IHVuaXRzLnM7XHJcblxyXG4gICAgICAgIG5hbm9zZWNvbmRzICs9ICtudW1iZXI7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBuYW5vc2Vjb25kcztcclxufTtcclxuXHJcbiIsIihmdW5jdGlvbigkKXtcclxuXHJcbiAgICB2YXIgQ2hhdEF1dG9Db21wbGV0ZSA9IGZ1bmN0aW9uKGlucHV0LCBlbW90aWNvbnMpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIGlmICghaW5wdXQgfHwgaW5wdXQubGVuZ3RoID09IDAgfHwgIWlucHV0WzBdLnNldFNlbGVjdGlvblJhbmdlKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICAgICAgdGhpcy5taW5Xb3JkTGVuZ3RoID0gMTtcclxuICAgICAgICB0aGlzLm1heFJlc3VsdHMgICAgPSAxMDtcclxuICAgICAgICB0aGlzLmJ1Y2tldHMgICAgICAgPSB7fTtcclxuICAgICAgICB0aGlzLm9yaWdWYWwgICAgICAgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc2VhcmNoUmVzdWx0cyA9IFtdO1xyXG4gICAgICAgIHRoaXMuc2VhcmNoSW5kZXggICA9IC0xO1xyXG4gICAgICAgIHRoaXMuc2VhcmNoV29yZCAgICA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pbnB1dCAgICAgICAgID0gJChpbnB1dCk7XHJcbiAgICAgICAgdGhpcy5leHBpcmVVc2VycyAgID0gJC5wcm94eSh0aGlzLmV4cGlyZVVzZXJzLCB0aGlzKTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IGVtb3RpY29ucy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcclxuICAgICAgICAgICAgdGhpcy5hZGRFbW90ZShlbW90aWNvbnNbaV0pO1xyXG5cclxuICAgICAgICBzZXRJbnRlcnZhbCh0aGlzLmV4cGlyZVVzZXJzLCAxMDAwMDApOyAvLyAxIG1pbnV0ZVxyXG4gICAgICAgIHRoaXMuaW5wdXQub24oe1xyXG4gICAgICAgICAgICBtb3VzZWRvd246IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5yZXNldFNlYXJjaCgpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBrZXlkb3duOiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IDkpIHsgLy8gaWYgVEFCXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvcmNlVXNlclNlYXJjaCA9IGUuc2hpZnRLZXk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuc2VhcmNoUmVzdWx0cy5sZW5ndGggPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnJlc2V0U2VhcmNoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2VhcmNoU2VsZWN0V29yZChmb3JjZVVzZXJTZWFyY2gpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnNob3dBdXRvQ29tcGxldGUoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ2FuY2VsIHRoZSBzZWFyY2ggYW5kIGNvbnRpbnVlIHRoZSBrZXlkb3duXHJcbiAgICAgICAgICAgICAgICBzZWxmLnJlc2V0U2VhcmNoKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBDaGF0QXV0b0NvbXBsZXRlLnByb3RvdHlwZS5nZXRCdWNrZXRJZCA9IGZ1bmN0aW9uKHN0cikge1xyXG4gICAgICAgIGlmIChzdHIubGVuZ3RoID09IDApXHJcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xyXG5cclxuICAgICAgICByZXR1cm4gc3RyWzBdLnRvTG93ZXJDYXNlKCk7XHJcbiAgICB9O1xyXG4gICAgQ2hhdEF1dG9Db21wbGV0ZS5wcm90b3R5cGUuYWRkVG9CdWNrZXQgPSBmdW5jdGlvbihkYXRhLCB3ZWlnaHQsIGlzZW1vdGUsIHByb21vdGVUaW1lc3RhbXApIHtcclxuICAgICAgICBpZiAoIXRoaXMuaW5wdXQpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgdmFyIGlkID0gdGhpcy5nZXRCdWNrZXRJZChkYXRhKTtcclxuXHJcbiAgICAgICAgaWYoIXRoaXMuYnVja2V0c1tpZF0pXHJcbiAgICAgICAgICAgIHRoaXMuYnVja2V0c1tpZF0gPSB7fTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmJ1Y2tldHNbaWRdW2RhdGFdKVxyXG4gICAgICAgICAgICB0aGlzLmJ1Y2tldHNbaWRdW2RhdGFdID0ge1xyXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgICAgICAgICAgIHdlaWdodDogd2VpZ2h0LFxyXG4gICAgICAgICAgICAgICAgaXNlbW90ZTogISFpc2Vtb3RlLFxyXG4gICAgICAgICAgICAgICAgcHJvbW90ZWQ6IHByb21vdGVUaW1lc3RhbXBcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVja2V0c1tpZF1bZGF0YV07XHJcbiAgICB9O1xyXG4gICAgQ2hhdEF1dG9Db21wbGV0ZS5wcm90b3R5cGUuYWRkRW1vdGUgPSBmdW5jdGlvbihlbW90ZSl7XHJcbiAgICAgICAgdGhpcy5hZGRUb0J1Y2tldChlbW90ZSwgMSwgdHJ1ZSwgMCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIENoYXRBdXRvQ29tcGxldGUucHJvdG90eXBlLmFkZE5pY2sgPSBmdW5jdGlvbihuaWNrKSB7XHJcbiAgICAgICAgdGhpcy5hZGRUb0J1Y2tldChuaWNrLCAxLCBmYWxzZSwgMCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIENoYXRBdXRvQ29tcGxldGUucHJvdG90eXBlLnVwZGF0ZU5pY2sgPSBmdW5jdGlvbihuaWNrKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlucHV0KVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIHZhciB3ZWlnaHQgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5hZGRUb0J1Y2tldChuaWNrLCB3ZWlnaHQsIGZhbHNlLCAwKTtcclxuXHJcbiAgICAgICAgZGF0YS53ZWlnaHQgPSB3ZWlnaHQ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgQ2hhdEF1dG9Db21wbGV0ZS5wcm90b3R5cGUucHJvbW90ZU5pY2sgPSBmdW5jdGlvbihuaWNrKSB7XHJcbiAgICAgICAgdmFyIHByb21vdGVUaW1lc3RhbXAgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5hZGRUb0J1Y2tldChuaWNrLCAxLCBmYWxzZSwgcHJvbW90ZVRpbWVzdGFtcCk7XHJcblxyXG4gICAgICAgIGlmIChkYXRhLmlzZW1vdGUpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG5cclxuICAgICAgICBkYXRhLnByb21vdGVkID0gcHJvbW90ZVRpbWVzdGFtcDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgQ2hhdEF1dG9Db21wbGV0ZS5wcm90b3R5cGUuZ2V0U2VhcmNoV29yZCA9IGZ1bmN0aW9uKHN0ciwgb2Zmc2V0KSB7XHJcbiAgICAgICAgdmFyIHByZSAgICAgICAgICA9IHN0ci5zdWJzdHJpbmcoMCwgb2Zmc2V0KSxcclxuICAgICAgICAgICAgcG9zdCAgICAgICAgID0gc3RyLnN1YnN0cmluZyhvZmZzZXQpLFxyXG4gICAgICAgICAgICBzdGFydENhcmV0ICAgPSBwcmUubGFzdEluZGV4T2YoXCIgXCIpICsgMSxcclxuICAgICAgICAgICAgZW5kQ2FyZXQgICAgID0gcG9zdC5pbmRleE9mKFwiIFwiKSxcclxuICAgICAgICAgICAgaXNVc2VyU2VhcmNoID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGlmIChzdGFydENhcmV0ID4gMClcclxuICAgICAgICAgICAgcHJlID0gcHJlLnN1YnN0cmluZyhzdGFydENhcmV0KTtcclxuXHJcbiAgICAgICAgaWYgKGVuZENhcmV0ID4gLTEpXHJcbiAgICAgICAgICAgIHBvc3QgPSBwb3N0LnN1YnN0cmluZygwLCBlbmRDYXJldCk7XHJcblxyXG4gICAgICAgIC8vIElnbm9yZSB0aGUgZmlyc3QgY2hhciBhcyBwYXJ0IG9mIHRoZSBzZWFyY2ggYW5kIGZsYWcgYXMgYSB1c2VyIG9ubHkgc2VhcmNoXHJcbiAgICAgICAgaWYocHJlLmxhc3RJbmRleE9mKFwiQFwiKSA9PT0gMCl7XHJcbiAgICAgICAgICAgIHN0YXJ0Q2FyZXQrKztcclxuICAgICAgICAgICAgcHJlID0gcHJlLnN1YnN0cmluZygxKTtcclxuICAgICAgICAgICAgaXNVc2VyU2VhcmNoID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHdvcmQ6IHByZSArIHBvc3QsXHJcbiAgICAgICAgICAgIHN0YXJ0Q2FyZXQ6IHN0YXJ0Q2FyZXQsXHJcbiAgICAgICAgICAgIGlzVXNlclNlYXJjaDogaXNVc2VyU2VhcmNoXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICBDaGF0QXV0b0NvbXBsZXRlLnByb3RvdHlwZS5zb3J0UmVzdWx0cyA9IGZ1bmN0aW9uKGEsIGIpIHtcclxuICAgICAgICBpZighYSB8fCAhYilcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcblxyXG4gICAgICAgIC8vIG9yZGVyIHByb21vdGVkIHRoaW5ncyBmaXJzdFxyXG4gICAgICAgIGlmIChhLnByb21vdGVkICE9IGIucHJvbW90ZWQpXHJcbiAgICAgICAgICAgIHJldHVybiBhLnByb21vdGVkID4gYi5wcm9tb3RlZD8gLTE6IDE7XHJcblxyXG4gICAgICAgIC8vIG9yZGVyIGVtb3RlcyBzZWNvbmRcclxuICAgICAgICBpZiAoYS5pc2Vtb3RlICE9IGIuaXNlbW90ZSlcclxuICAgICAgICAgICAgcmV0dXJuIGEuaXNlbW90ZSAmJiAhYi5pc2Vtb3RlPyAtMTogMTtcclxuXHJcbiAgICAgICAgLy8gb3JkZXIgYWNjb3JkaW5nIHRvIHJlY2VuY3kgdGhpcmRcclxuICAgICAgICBpZiAoYS53ZWlnaHQgIT0gYi53ZWlnaHQpXHJcbiAgICAgICAgICAgIHJldHVybiBhLndlaWdodCA+IGIud2VpZ2h0PyAtMTogMTtcclxuXHJcbiAgICAgICAgLy8gb3JkZXIgbGV4aWNhbGx5IGZvdXJ0aFxyXG4gICAgICAgIGEgPSBhLmRhdGEudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICBiID0gYi5kYXRhLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgICAgIGlmIChhID09IGIpXHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG5cclxuICAgICAgICByZXR1cm4gYSA+IGI/IDE6IC0xO1xyXG4gICAgfTtcclxuICAgIENoYXRBdXRvQ29tcGxldGUucHJvdG90eXBlLnNlYXJjaEJ1Y2tldHMgPSBmdW5jdGlvbihzdHIsIGxpbWl0LCB1c2VybmFtZXNPbmx5KSB7XHJcbiAgICAgICAgLy8gZXNjYXBlIHRoZSB0ZXh0IGJlaW5nIGluc2VydGVkIGludG8gdGhlIHJlZ2V4cFxyXG4gICAgICAgIHN0ciA9IHN0ci50cmltKCkucmVwbGFjZSgvW1xcLVxcW1xcXVxcL1xce1xcfVxcKFxcKVxcKlxcK1xcP1xcLlxcXFxcXF5cXCRcXHxdL2csIFwiXFxcXCQmXCIpO1xyXG4gICAgICAgIHZhciByZXMgID0gW10sXHJcbiAgICAgICAgICAgIGYgICAgPSBuZXcgUmVnRXhwKFwiXlwiK3N0ciwgXCJpXCIpLFxyXG4gICAgICAgICAgICBkYXRhID0gdGhpcy5idWNrZXRzW3RoaXMuZ2V0QnVja2V0SWQoc3RyKV0gfHwge307XHJcbiAgICAgICAgXHJcbiAgICAgICAgZm9yICh2YXIgbmljayBpbiBkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmICghZGF0YS5oYXNPd25Qcm9wZXJ0eShuaWNrKSB8fCAodXNlcm5hbWVzT25seSAmJiBkYXRhW25pY2tdLmlzZW1vdGUpKVxyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICBpZiAoZi50ZXN0KG5pY2spKVxyXG4gICAgICAgICAgICAgICAgcmVzLnB1c2goZGF0YVtuaWNrXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXMuc29ydCh0aGlzLnNvcnRSZXN1bHRzKTtcclxuICAgICAgICByZXR1cm4gcmVzLnNsaWNlKDAsIGxpbWl0KTtcclxuICAgIH07XHJcbiAgICBDaGF0QXV0b0NvbXBsZXRlLnByb3RvdHlwZS5leHBpcmVVc2VycyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIGV2ZXJ5IDEwIG1pbnV0ZXMgcmVzZXQgdGhlIHByb21vdGVkIHVzZXJzIHNvIHRoYXQgZW1vdGVzIGNhbiBiZVxyXG4gICAgICAgIC8vIG9yZGVyZWQgYmVmb3JlIHRoZSB1c2VyIGFnYWluXHJcbiAgICAgICAgdmFyIHRlbm1pbnV0ZXNhZ28gPSBEYXRlLm5vdygpIC0gNjAwMDAwO1xyXG4gICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5idWNrZXRzKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5idWNrZXRzLmhhc093blByb3BlcnR5KGkpKVxyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICBmb3IodmFyIGogaW4gdGhpcy5idWNrZXRzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuYnVja2V0c1tpXS5oYXNPd25Qcm9wZXJ0eShqKSlcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuYnVja2V0c1tpXVtqXTtcclxuICAgICAgICAgICAgICAgIGlmICghZGF0YS5pc2Vtb3RlICYmIGRhdGEucHJvbW90ZWQgPD0gdGVubWludXRlc2FnbylcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLnByb21vdGVkID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWRhdGEuaXNlbW90ZSAmJiBkYXRhLndlaWdodCA8PSB0ZW5taW51dGVzYWdvKVxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEud2VpZ2h0ID0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBDaGF0QXV0b0NvbXBsZXRlLnByb3RvdHlwZS5tYXJrTGFzdENvbXBsZXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYoIXRoaXMubGFzdENvbXBsZXRlKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5idWNrZXRzW3RoaXMuZ2V0QnVja2V0SWQodGhpcy5sYXN0Q29tcGxldGUpXSB8fCB7fTtcclxuXHJcbiAgICAgICAgLy8gc2hvdWxkIG5ldmVyIGhhcHBlbiwgYnV0IGp1c3QgaW4gY2FzZVxyXG4gICAgICAgIGlmICghZGF0YVt0aGlzLmxhc3RDb21wbGV0ZV0pXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxhc3RDb21wbGV0ZSA9IG51bGw7XHJcblxyXG4gICAgICAgIGlmIChkYXRhW3RoaXMubGFzdENvbXBsZXRlXS5pc2Vtb3RlKSB7XHJcbiAgICAgICAgICAgIC8vIHJlc2V0IHRoZSBwcm9tb3Rpb24gb2YgdXNlcnMgbmVhciB0aGUgZW1vdGVcclxuICAgICAgICAgICAgZm9yKHZhciBqIGluIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmICghZGF0YS5oYXNPd25Qcm9wZXJ0eShqKSlcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBkYXRhW2pdLnByb21vdGVkID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sYXN0Q29tcGxldGUgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5wcm9tb3RlTmljayh0aGlzLmxhc3RDb21wbGV0ZSk7XHJcbiAgICAgICAgdGhpcy5sYXN0Q29tcGxldGUgPSBudWxsO1xyXG4gICAgfTtcclxuICAgIENoYXRBdXRvQ29tcGxldGUucHJvdG90eXBlLnJlc2V0U2VhcmNoID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5vcmlnVmFsICAgICAgID0gbnVsbDtcclxuICAgICAgICB0aGlzLnNlYXJjaFJlc3VsdHMgPSBbXTtcclxuICAgICAgICB0aGlzLnNlYXJjaEluZGV4ICAgPSAtMTtcclxuICAgICAgICB0aGlzLnNlYXJjaFdvcmQgICAgPSBudWxsO1xyXG4gICAgfTtcclxuICAgIENoYXRBdXRvQ29tcGxldGUucHJvdG90eXBlLnNlYXJjaFNlbGVjdFdvcmQgPSBmdW5jdGlvbihmb3JjZVVzZXJTZWFyY2gpIHtcclxuICAgICAgICB2YXIgc2VhcmNoV29yZCA9IHRoaXMuZ2V0U2VhcmNoV29yZCh0aGlzLmlucHV0LnZhbCgpLCB0aGlzLmlucHV0WzBdLnNlbGVjdGlvblN0YXJ0KTtcclxuICAgICAgICBpZiAoc2VhcmNoV29yZC53b3JkLmxlbmd0aCA+PSB0aGlzLm1pbldvcmRMZW5ndGgpe1xyXG4gICAgICAgICAgICB0aGlzLnNlYXJjaFdvcmQgICAgPSBzZWFyY2hXb3JkO1xyXG4gICAgICAgICAgICB2YXIgaXNVc2VyU2VhcmNoICAgPSBmb3JjZVVzZXJTZWFyY2g/IHRydWU6IHRoaXMuc2VhcmNoV29yZC5pc1VzZXJTZWFyY2g7XHJcbiAgICAgICAgICAgIHRoaXMuc2VhcmNoUmVzdWx0cyA9IHRoaXMuc2VhcmNoQnVja2V0cyh0aGlzLnNlYXJjaFdvcmQud29yZCwgdGhpcy5tYXhSZXN1bHRzLCBpc1VzZXJTZWFyY2gpO1xyXG4gICAgICAgICAgICB0aGlzLm9yaWdWYWwgICAgICAgPSB0aGlzLmlucHV0LnZhbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBDaGF0QXV0b0NvbXBsZXRlLnByb3RvdHlwZS5zaG93QXV0b0NvbXBsZXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VhcmNoSW5kZXggPj0gdGhpcy5zZWFyY2hSZXN1bHRzLmxlbmd0aCAtIDEpXHJcbiAgICAgICAgICAgIHRoaXMuc2VhcmNoSW5kZXggPSAwO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhpcy5zZWFyY2hJbmRleCA9IHRoaXMuc2VhcmNoSW5kZXggKyAxO1xyXG5cclxuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5zZWFyY2hSZXN1bHRzW3RoaXMuc2VhcmNoSW5kZXhdO1xyXG4gICAgICAgIGlmICghcmVzdWx0IHx8IHJlc3VsdC5kYXRhID09IHRoaXMuc2VhcmNoV29yZC53b3JkKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMubGFzdENvbXBsZXRlID0gcmVzdWx0LmRhdGE7XHJcbiAgICAgICAgdmFyIHByZSAgPSB0aGlzLm9yaWdWYWwuc3Vic3RyKDAsIHRoaXMuc2VhcmNoV29yZC5zdGFydENhcmV0KSxcclxuICAgICAgICAgICAgcG9zdCA9IHRoaXMub3JpZ1ZhbC5zdWJzdHIodGhpcy5zZWFyY2hXb3JkLnN0YXJ0Q2FyZXQgKyB0aGlzLnNlYXJjaFdvcmQud29yZC5sZW5ndGgpO1xyXG5cclxuICAgICAgICAvLyBhbHdheXMgYWRkIGEgc3BhY2UgYWZ0ZXIgb3VyIGNvbXBsZXRpb24gaWYgdGhlcmUgaXNuJ3Qgb25lIHNpbmNlIHBlb3BsZVxyXG4gICAgICAgIC8vIHdvdWxkIGFkZCBvbmUgYW55d2F5XHJcbiAgICAgICAgaWYgKHBvc3RbMF0gIT0gXCIgXCIgfHwgcG9zdC5sZW5ndGggPT0gMClcclxuICAgICAgICAgICAgcG9zdCA9IFwiIFwiICsgcG9zdDtcclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dC5mb2N1cygpLnZhbChwcmUgKyByZXN1bHQuZGF0YSArIHBvc3QpO1xyXG5cclxuICAgICAgICAvLyBNb3ZlIHRoZSBjYXJldCB0byB0aGUgZW5kIG9mIHRoZSByZXBsYWNlbWVudCBzdHJpbmcgKyAxIGZvciB0aGUgc3BhY2VcclxuICAgICAgICB0aGlzLmlucHV0WzBdLnNldFNlbGVjdGlvblJhbmdlKHByZS5sZW5ndGggKyByZXN1bHQuZGF0YS5sZW5ndGggKyAxLCBwcmUubGVuZ3RoICsgcmVzdWx0LmRhdGEubGVuZ3RoICsgMSk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9O1xyXG5cclxuICAgIHdpbmRvdy5DaGF0QXV0b0NvbXBsZXRlID0gQ2hhdEF1dG9Db21wbGV0ZTtcclxuXHJcbn0pKGpRdWVyeSk7IiwiKGZ1bmN0aW9uKCQpe1xyXG5cclxuICAgIC8vIENoYXQgbWVzc2FnZSBmb3JtYXR0ZXJzXHJcbiAgICAvLyBtdXN0IGhhdmUgdHdvIG1ldGhvZHMsIGEgY29uc3RydWN0b3IgYW5kIGEgLmZvcm1hdChtZXNzYWdlWywgdXNlcl0pIG1ldGhvZFxyXG5cclxuICAgIC8vIEdyZWVuIFRleHQgZm9ybWF0dGVyXHJcbiAgICBkZXN0aW55LmZuLkdyZWVuVGV4dEZvcm1hdHRlciA9IGZ1bmN0aW9uKGNoYXQpe1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICBkZXN0aW55LmZuLkdyZWVuVGV4dEZvcm1hdHRlci5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24oc3RyLCB1c2VyKXtcclxuICAgICAgICBpZih1c2VyICYmIHN0ci5pbmRleE9mKFwiJmd0O1wiKSA9PT0gMCl7XHJcbiAgICAgICAgICAgIGlmKHVzZXIuaGFzQW55RmVhdHVyZXMoXHJcbiAgICAgICAgICAgICAgICBkZXN0aW55LlVzZXJGZWF0dXJlcy5TVUJTQ1JJQkVSVDMsXHJcbiAgICAgICAgICAgICAgICBkZXN0aW55LlVzZXJGZWF0dXJlcy5TVUJTQ1JJQkVSVDQsXHJcbiAgICAgICAgICAgICAgICBkZXN0aW55LlVzZXJGZWF0dXJlcy5TVUJTQ1JJQkVSVDIsXHJcbiAgICAgICAgICAgICAgICBkZXN0aW55LlVzZXJGZWF0dXJlcy5BRE1JTixcclxuICAgICAgICAgICAgICAgIGRlc3RpbnkuVXNlckZlYXR1cmVzLk1PREVSQVRPUlxyXG4gICAgICAgICAgICApKVxyXG4gICAgICAgICAgICAgICAgc3RyID0gJzxzcGFuIGNsYXNzPVwiZ3JlZW50ZXh0XCI+JytzdHIrJzwvc3Bhbj4nO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3RyO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLy8gRW1vdGUgbGluZSBmb3JtYXR0ZXJcclxuICAgIGRlc3RpbnkuZm4uRW1vdGVGb3JtYXR0ZXIgPSBmdW5jdGlvbihjaGF0KXtcclxuICAgICAgICB0aGlzLmVtb3RlcmVnZXggPSBuZXcgUmVnRXhwKCcoXnxcXFxccykoJytjaGF0LmVtb3RpY29ucy5qb2luKCd8JykrJykoPz0kfFxcXFxzKScpO1xyXG4gICAgICAgIHRoaXMuZ2Vtb3RlcmVnZXggPSBuZXcgUmVnRXhwKCcoXnxcXFxccykoJytjaGF0LmVtb3RpY29ucy5qb2luKCd8JykrJykoPz0kfFxcXFxzKScsICdnbScpO1xyXG4gICAgICAgIHRoaXMudHdpdGNoZW1vdGVyZWdleCA9IG5ldyBSZWdFeHAoJyhefFxcXFxzKSgnK2NoYXQuZW1vdGljb25zLmpvaW4oJ3wnKSsnfCcrY2hhdC50d2l0Y2hlbW90ZXMuam9pbignfCcpKycpKD89JHxcXFxccyknLCAnZ20nKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgZGVzdGlueS5mbi5FbW90ZUZvcm1hdHRlci5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24oc3RyLCB1c2VyKXtcclxuICAgICAgICB2YXIgZW1vdGVyZWdleCA9IHRoaXMuZW1vdGVyZWdleDtcclxuICAgICAgICBpZiAodXNlciAmJiB1c2VyLmZlYXR1cmVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgaWYgKHVzZXIuaGFzRmVhdHVyZShkZXN0aW55LlVzZXJGZWF0dXJlcy5TVUJTQ1JJQkVSVDApKVxyXG4gICAgICAgICAgICAgICAgZW1vdGVyZWdleCA9IHRoaXMudHdpdGNoZW1vdGVyZWdleDtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgZW1vdGVyZWdleCA9IHRoaXMuZ2Vtb3RlcmVnZXg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdHIucmVwbGFjZShlbW90ZXJlZ2V4LCAnJDE8ZGl2IHRpdGxlPVwiJDJcIiBjbGFzcz1cImNoYXQtZW1vdGUgY2hhdC1lbW90ZS0kMlwiPiQyIDwvZGl2PicpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBVc2VyIG1lbnRpb24gZm9ybWF0dGVyXHJcbiAgICBkZXN0aW55LmZuLk1lbnRpb25lZFVzZXJGb3JtYXR0ZXIgPSBmdW5jdGlvbihjaGF0KSB7XHJcbiAgICAgICAgdGhpcy51c2VycyA9IGNoYXQuZW5naW5lLnVzZXJzO1xyXG4gICAgICAgIHRoaXMudXNlcnJlZ2V4ID0gLygoPzpefFxccylAPykoW2EtekEtWjAtOV9dezMsMjB9KSg/PSR8XFxzfFtcXC5cXD8hLF0pL2c7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIGRlc3RpbnkuZm4uTWVudGlvbmVkVXNlckZvcm1hdHRlci5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24oc3RyLCB1c2VyKSB7XHJcbiAgICAgICAgdmFyIHVzZXJzID0gdGhpcy51c2VycztcclxuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UodGhpcy51c2VycmVnZXgsIGZ1bmN0aW9uKG1hdGNoLCBwcmVmaXgsIG5pY2spIHtcclxuICAgICAgICAgICAgaWYgKHVzZXJzLnByb3BlcnR5SXNFbnVtZXJhYmxlKG5pY2spKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJlZml4ICsgJzxzcGFuIGNsYXNzPVwiY2hhdC11c2VyXCI+JyArIG5pY2sgKyAnPC9zcGFuPic7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2g7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG59KShqUXVlcnkpO1xyXG4iLCIoZnVuY3Rpb24oJCkge1xuLypcbiAgdHJhbnNmb3JtZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vbXZkYW4veHVybHNcbiAgd2l0aCBoZWxwIHRvIHRyYW5zbGF0ZSB1bmljb2RlIHNob3J0Y3V0cyB0byBqYXZhc2NyaXB0IGJ5XG4gIGh0dHBzOi8vZ2l0aHViLmNvbS9kYW5pZWxiZXJuZHQvYmFiZWwtcGx1Z2luLXV0Zi04LXJlZ2V4L2Jsb2IvbWFzdGVyL3NyYy90cmFuc2Zvcm1lci5qc1xuKi9cbmRlc3RpbnkuZm4uVXJsRm9ybWF0dGVyID0gZnVuY3Rpb24oY2hhdCkge1xuXHR2YXIgdW5pY29kZVNob3J0Y3V0cyA9IHtcblx0XHRcInB7TH1cIiA6IFwiXFxcXHUwMDQxLVxcXFx1MDA1QVxcXFx1MDA2MS1cXFxcdTAwN0FcXFxcdTAwQUFcXFxcdTAwQjVcXFxcdTAwQkFcXFxcdTAwQzAtXFxcXHUwMEQ2XFxcXHUwMEQ4LVxcXFx1MDBGNlxcXFx1MDBGOC1cXFxcdTAyQzFcXFxcdTAyQzYtXFxcXHUwMkQxXFxcXHUwMkUwLVxcXFx1MDJFNFxcXFx1MDJFQ1xcXFx1MDJFRVxcXFx1MDM3MC1cXFxcdTAzNzRcXFxcdTAzNzZcXFxcdTAzNzdcXFxcdTAzN0EtXFxcXHUwMzdEXFxcXHUwMzg2XFxcXHUwMzg4LVxcXFx1MDM4QVxcXFx1MDM4Q1xcXFx1MDM4RS1cXFxcdTAzQTFcXFxcdTAzQTMtXFxcXHUwM0Y1XFxcXHUwM0Y3LVxcXFx1MDQ4MVxcXFx1MDQ4QS1cXFxcdTA1MjdcXFxcdTA1MzEtXFxcXHUwNTU2XFxcXHUwNTU5XFxcXHUwNTYxLVxcXFx1MDU4N1xcXFx1MDVEMC1cXFxcdTA1RUFcXFxcdTA1RjAtXFxcXHUwNUYyXFxcXHUwNjIwLVxcXFx1MDY0QVxcXFx1MDY2RVxcXFx1MDY2RlxcXFx1MDY3MS1cXFxcdTA2RDNcXFxcdTA2RDVcXFxcdTA2RTVcXFxcdTA2RTZcXFxcdTA2RUVcXFxcdTA2RUZcXFxcdTA2RkEtXFxcXHUwNkZDXFxcXHUwNkZGXFxcXHUwNzEwXFxcXHUwNzEyLVxcXFx1MDcyRlxcXFx1MDc0RC1cXFxcdTA3QTVcXFxcdTA3QjFcXFxcdTA3Q0EtXFxcXHUwN0VBXFxcXHUwN0Y0XFxcXHUwN0Y1XFxcXHUwN0ZBXFxcXHUwODAwLVxcXFx1MDgxNVxcXFx1MDgxQVxcXFx1MDgyNFxcXFx1MDgyOFxcXFx1MDg0MC1cXFxcdTA4NThcXFxcdTA4QTBcXFxcdTA4QTItXFxcXHUwOEFDXFxcXHUwOTA0LVxcXFx1MDkzOVxcXFx1MDkzRFxcXFx1MDk1MFxcXFx1MDk1OC1cXFxcdTA5NjFcXFxcdTA5NzEtXFxcXHUwOTc3XFxcXHUwOTc5LVxcXFx1MDk3RlxcXFx1MDk4NS1cXFxcdTA5OENcXFxcdTA5OEZcXFxcdTA5OTBcXFxcdTA5OTMtXFxcXHUwOUE4XFxcXHUwOUFBLVxcXFx1MDlCMFxcXFx1MDlCMlxcXFx1MDlCNi1cXFxcdTA5QjlcXFxcdTA5QkRcXFxcdTA5Q0VcXFxcdTA5RENcXFxcdTA5RERcXFxcdTA5REYtXFxcXHUwOUUxXFxcXHUwOUYwXFxcXHUwOUYxXFxcXHUwQTA1LVxcXFx1MEEwQVxcXFx1MEEwRlxcXFx1MEExMFxcXFx1MEExMy1cXFxcdTBBMjhcXFxcdTBBMkEtXFxcXHUwQTMwXFxcXHUwQTMyXFxcXHUwQTMzXFxcXHUwQTM1XFxcXHUwQTM2XFxcXHUwQTM4XFxcXHUwQTM5XFxcXHUwQTU5LVxcXFx1MEE1Q1xcXFx1MEE1RVxcXFx1MEE3Mi1cXFxcdTBBNzRcXFxcdTBBODUtXFxcXHUwQThEXFxcXHUwQThGLVxcXFx1MEE5MVxcXFx1MEE5My1cXFxcdTBBQThcXFxcdTBBQUEtXFxcXHUwQUIwXFxcXHUwQUIyXFxcXHUwQUIzXFxcXHUwQUI1LVxcXFx1MEFCOVxcXFx1MEFCRFxcXFx1MEFEMFxcXFx1MEFFMFxcXFx1MEFFMVxcXFx1MEIwNS1cXFxcdTBCMENcXFxcdTBCMEZcXFxcdTBCMTBcXFxcdTBCMTMtXFxcXHUwQjI4XFxcXHUwQjJBLVxcXFx1MEIzMFxcXFx1MEIzMlxcXFx1MEIzM1xcXFx1MEIzNS1cXFxcdTBCMzlcXFxcdTBCM0RcXFxcdTBCNUNcXFxcdTBCNURcXFxcdTBCNUYtXFxcXHUwQjYxXFxcXHUwQjcxXFxcXHUwQjgzXFxcXHUwQjg1LVxcXFx1MEI4QVxcXFx1MEI4RS1cXFxcdTBCOTBcXFxcdTBCOTItXFxcXHUwQjk1XFxcXHUwQjk5XFxcXHUwQjlBXFxcXHUwQjlDXFxcXHUwQjlFXFxcXHUwQjlGXFxcXHUwQkEzXFxcXHUwQkE0XFxcXHUwQkE4LVxcXFx1MEJBQVxcXFx1MEJBRS1cXFxcdTBCQjlcXFxcdTBCRDBcXFxcdTBDMDUtXFxcXHUwQzBDXFxcXHUwQzBFLVxcXFx1MEMxMFxcXFx1MEMxMi1cXFxcdTBDMjhcXFxcdTBDMkEtXFxcXHUwQzMzXFxcXHUwQzM1LVxcXFx1MEMzOVxcXFx1MEMzRFxcXFx1MEM1OFxcXFx1MEM1OVxcXFx1MEM2MFxcXFx1MEM2MVxcXFx1MEM4NS1cXFxcdTBDOENcXFxcdTBDOEUtXFxcXHUwQzkwXFxcXHUwQzkyLVxcXFx1MENBOFxcXFx1MENBQS1cXFxcdTBDQjNcXFxcdTBDQjUtXFxcXHUwQ0I5XFxcXHUwQ0JEXFxcXHUwQ0RFXFxcXHUwQ0UwXFxcXHUwQ0UxXFxcXHUwQ0YxXFxcXHUwQ0YyXFxcXHUwRDA1LVxcXFx1MEQwQ1xcXFx1MEQwRS1cXFxcdTBEMTBcXFxcdTBEMTItXFxcXHUwRDNBXFxcXHUwRDNEXFxcXHUwRDRFXFxcXHUwRDYwXFxcXHUwRDYxXFxcXHUwRDdBLVxcXFx1MEQ3RlxcXFx1MEQ4NS1cXFxcdTBEOTZcXFxcdTBEOUEtXFxcXHUwREIxXFxcXHUwREIzLVxcXFx1MERCQlxcXFx1MERCRFxcXFx1MERDMC1cXFxcdTBEQzZcXFxcdTBFMDEtXFxcXHUwRTMwXFxcXHUwRTMyXFxcXHUwRTMzXFxcXHUwRTQwLVxcXFx1MEU0NlxcXFx1MEU4MVxcXFx1MEU4MlxcXFx1MEU4NFxcXFx1MEU4N1xcXFx1MEU4OFxcXFx1MEU4QVxcXFx1MEU4RFxcXFx1MEU5NC1cXFxcdTBFOTdcXFxcdTBFOTktXFxcXHUwRTlGXFxcXHUwRUExLVxcXFx1MEVBM1xcXFx1MEVBNVxcXFx1MEVBN1xcXFx1MEVBQVxcXFx1MEVBQlxcXFx1MEVBRC1cXFxcdTBFQjBcXFxcdTBFQjJcXFxcdTBFQjNcXFxcdTBFQkRcXFxcdTBFQzAtXFxcXHUwRUM0XFxcXHUwRUM2XFxcXHUwRURDLVxcXFx1MEVERlxcXFx1MEYwMFxcXFx1MEY0MC1cXFxcdTBGNDdcXFxcdTBGNDktXFxcXHUwRjZDXFxcXHUwRjg4LVxcXFx1MEY4Q1xcXFx1MTAwMC1cXFxcdTEwMkFcXFxcdTEwM0ZcXFxcdTEwNTAtXFxcXHUxMDU1XFxcXHUxMDVBLVxcXFx1MTA1RFxcXFx1MTA2MVxcXFx1MTA2NVxcXFx1MTA2NlxcXFx1MTA2RS1cXFxcdTEwNzBcXFxcdTEwNzUtXFxcXHUxMDgxXFxcXHUxMDhFXFxcXHUxMEEwLVxcXFx1MTBDNVxcXFx1MTBDN1xcXFx1MTBDRFxcXFx1MTBEMC1cXFxcdTEwRkFcXFxcdTEwRkMtXFxcXHUxMjQ4XFxcXHUxMjRBLVxcXFx1MTI0RFxcXFx1MTI1MC1cXFxcdTEyNTZcXFxcdTEyNThcXFxcdTEyNUEtXFxcXHUxMjVEXFxcXHUxMjYwLVxcXFx1MTI4OFxcXFx1MTI4QS1cXFxcdTEyOERcXFxcdTEyOTAtXFxcXHUxMkIwXFxcXHUxMkIyLVxcXFx1MTJCNVxcXFx1MTJCOC1cXFxcdTEyQkVcXFxcdTEyQzBcXFxcdTEyQzItXFxcXHUxMkM1XFxcXHUxMkM4LVxcXFx1MTJENlxcXFx1MTJEOC1cXFxcdTEzMTBcXFxcdTEzMTItXFxcXHUxMzE1XFxcXHUxMzE4LVxcXFx1MTM1QVxcXFx1MTM4MC1cXFxcdTEzOEZcXFxcdTEzQTAtXFxcXHUxM0Y0XFxcXHUxNDAxLVxcXFx1MTY2Q1xcXFx1MTY2Ri1cXFxcdTE2N0ZcXFxcdTE2ODEtXFxcXHUxNjlBXFxcXHUxNkEwLVxcXFx1MTZFQVxcXFx1MTcwMC1cXFxcdTE3MENcXFxcdTE3MEUtXFxcXHUxNzExXFxcXHUxNzIwLVxcXFx1MTczMVxcXFx1MTc0MC1cXFxcdTE3NTFcXFxcdTE3NjAtXFxcXHUxNzZDXFxcXHUxNzZFLVxcXFx1MTc3MFxcXFx1MTc4MC1cXFxcdTE3QjNcXFxcdTE3RDdcXFxcdTE3RENcXFxcdTE4MjAtXFxcXHUxODc3XFxcXHUxODgwLVxcXFx1MThBOFxcXFx1MThBQVxcXFx1MThCMC1cXFxcdTE4RjVcXFxcdTE5MDAtXFxcXHUxOTFDXFxcXHUxOTUwLVxcXFx1MTk2RFxcXFx1MTk3MC1cXFxcdTE5NzRcXFxcdTE5ODAtXFxcXHUxOUFCXFxcXHUxOUMxLVxcXFx1MTlDN1xcXFx1MUEwMC1cXFxcdTFBMTZcXFxcdTFBMjAtXFxcXHUxQTU0XFxcXHUxQUE3XFxcXHUxQjA1LVxcXFx1MUIzM1xcXFx1MUI0NS1cXFxcdTFCNEJcXFxcdTFCODMtXFxcXHUxQkEwXFxcXHUxQkFFXFxcXHUxQkFGXFxcXHUxQkJBLVxcXFx1MUJFNVxcXFx1MUMwMC1cXFxcdTFDMjNcXFxcdTFDNEQtXFxcXHUxQzRGXFxcXHUxQzVBLVxcXFx1MUM3RFxcXFx1MUNFOS1cXFxcdTFDRUNcXFxcdTFDRUUtXFxcXHUxQ0YxXFxcXHUxQ0Y1XFxcXHUxQ0Y2XFxcXHUxRDAwLVxcXFx1MURCRlxcXFx1MUUwMC1cXFxcdTFGMTVcXFxcdTFGMTgtXFxcXHUxRjFEXFxcXHUxRjIwLVxcXFx1MUY0NVxcXFx1MUY0OC1cXFxcdTFGNERcXFxcdTFGNTAtXFxcXHUxRjU3XFxcXHUxRjU5XFxcXHUxRjVCXFxcXHUxRjVEXFxcXHUxRjVGLVxcXFx1MUY3RFxcXFx1MUY4MC1cXFxcdTFGQjRcXFxcdTFGQjYtXFxcXHUxRkJDXFxcXHUxRkJFXFxcXHUxRkMyLVxcXFx1MUZDNFxcXFx1MUZDNi1cXFxcdTFGQ0NcXFxcdTFGRDAtXFxcXHUxRkQzXFxcXHUxRkQ2LVxcXFx1MUZEQlxcXFx1MUZFMC1cXFxcdTFGRUNcXFxcdTFGRjItXFxcXHUxRkY0XFxcXHUxRkY2LVxcXFx1MUZGQ1xcXFx1MjA3MVxcXFx1MjA3RlxcXFx1MjA5MC1cXFxcdTIwOUNcXFxcdTIxMDJcXFxcdTIxMDdcXFxcdTIxMEEtXFxcXHUyMTEzXFxcXHUyMTE1XFxcXHUyMTE5LVxcXFx1MjExRFxcXFx1MjEyNFxcXFx1MjEyNlxcXFx1MjEyOFxcXFx1MjEyQS1cXFxcdTIxMkRcXFxcdTIxMkYtXFxcXHUyMTM5XFxcXHUyMTNDLVxcXFx1MjEzRlxcXFx1MjE0NS1cXFxcdTIxNDlcXFxcdTIxNEVcXFxcdTIxODNcXFxcdTIxODRcXFxcdTJDMDAtXFxcXHUyQzJFXFxcXHUyQzMwLVxcXFx1MkM1RVxcXFx1MkM2MC1cXFxcdTJDRTRcXFxcdTJDRUItXFxcXHUyQ0VFXFxcXHUyQ0YyXFxcXHUyQ0YzXFxcXHUyRDAwLVxcXFx1MkQyNVxcXFx1MkQyN1xcXFx1MkQyRFxcXFx1MkQzMC1cXFxcdTJENjdcXFxcdTJENkZcXFxcdTJEODAtXFxcXHUyRDk2XFxcXHUyREEwLVxcXFx1MkRBNlxcXFx1MkRBOC1cXFxcdTJEQUVcXFxcdTJEQjAtXFxcXHUyREI2XFxcXHUyREI4LVxcXFx1MkRCRVxcXFx1MkRDMC1cXFxcdTJEQzZcXFxcdTJEQzgtXFxcXHUyRENFXFxcXHUyREQwLVxcXFx1MkRENlxcXFx1MkREOC1cXFxcdTJEREVcXFxcdTJFMkZcXFxcdTMwMDVcXFxcdTMwMDZcXFxcdTMwMzEtXFxcXHUzMDM1XFxcXHUzMDNCXFxcXHUzMDNDXFxcXHUzMDQxLVxcXFx1MzA5NlxcXFx1MzA5RC1cXFxcdTMwOUZcXFxcdTMwQTEtXFxcXHUzMEZBXFxcXHUzMEZDLVxcXFx1MzBGRlxcXFx1MzEwNS1cXFxcdTMxMkRcXFxcdTMxMzEtXFxcXHUzMThFXFxcXHUzMUEwLVxcXFx1MzFCQVxcXFx1MzFGMC1cXFxcdTMxRkZcXFxcdTM0MDAtXFxcXHU0REI1XFxcXHU0RTAwLVxcXFx1OUZDQ1xcXFx1QTAwMC1cXFxcdUE0OENcXFxcdUE0RDAtXFxcXHVBNEZEXFxcXHVBNTAwLVxcXFx1QTYwQ1xcXFx1QTYxMC1cXFxcdUE2MUZcXFxcdUE2MkFcXFxcdUE2MkJcXFxcdUE2NDAtXFxcXHVBNjZFXFxcXHVBNjdGLVxcXFx1QTY5N1xcXFx1QTZBMC1cXFxcdUE2RTVcXFxcdUE3MTctXFxcXHVBNzFGXFxcXHVBNzIyLVxcXFx1QTc4OFxcXFx1QTc4Qi1cXFxcdUE3OEVcXFxcdUE3OTAtXFxcXHVBNzkzXFxcXHVBN0EwLVxcXFx1QTdBQVxcXFx1QTdGOC1cXFxcdUE4MDFcXFxcdUE4MDMtXFxcXHVBODA1XFxcXHVBODA3LVxcXFx1QTgwQVxcXFx1QTgwQy1cXFxcdUE4MjJcXFxcdUE4NDAtXFxcXHVBODczXFxcXHVBODgyLVxcXFx1QThCM1xcXFx1QThGMi1cXFxcdUE4RjdcXFxcdUE4RkJcXFxcdUE5MEEtXFxcXHVBOTI1XFxcXHVBOTMwLVxcXFx1QTk0NlxcXFx1QTk2MC1cXFxcdUE5N0NcXFxcdUE5ODQtXFxcXHVBOUIyXFxcXHVBOUNGXFxcXHVBQTAwLVxcXFx1QUEyOFxcXFx1QUE0MC1cXFxcdUFBNDJcXFxcdUFBNDQtXFxcXHVBQTRCXFxcXHVBQTYwLVxcXFx1QUE3NlxcXFx1QUE3QVxcXFx1QUE4MC1cXFxcdUFBQUZcXFxcdUFBQjFcXFxcdUFBQjVcXFxcdUFBQjZcXFxcdUFBQjktXFxcXHVBQUJEXFxcXHVBQUMwXFxcXHVBQUMyXFxcXHVBQURCLVxcXFx1QUFERFxcXFx1QUFFMC1cXFxcdUFBRUFcXFxcdUFBRjItXFxcXHVBQUY0XFxcXHVBQjAxLVxcXFx1QUIwNlxcXFx1QUIwOS1cXFxcdUFCMEVcXFxcdUFCMTEtXFxcXHVBQjE2XFxcXHVBQjIwLVxcXFx1QUIyNlxcXFx1QUIyOC1cXFxcdUFCMkVcXFxcdUFCQzAtXFxcXHVBQkUyXFxcXHVBQzAwLVxcXFx1RDdBM1xcXFx1RDdCMC1cXFxcdUQ3QzZcXFxcdUQ3Q0ItXFxcXHVEN0ZCXFxcXHVGOTAwLVxcXFx1RkE2RFxcXFx1RkE3MC1cXFxcdUZBRDlcXFxcdUZCMDAtXFxcXHVGQjA2XFxcXHVGQjEzLVxcXFx1RkIxN1xcXFx1RkIxRFxcXFx1RkIxRi1cXFxcdUZCMjhcXFxcdUZCMkEtXFxcXHVGQjM2XFxcXHVGQjM4LVxcXFx1RkIzQ1xcXFx1RkIzRVxcXFx1RkI0MFxcXFx1RkI0MVxcXFx1RkI0M1xcXFx1RkI0NFxcXFx1RkI0Ni1cXFxcdUZCQjFcXFxcdUZCRDMtXFxcXHVGRDNEXFxcXHVGRDUwLVxcXFx1RkQ4RlxcXFx1RkQ5Mi1cXFxcdUZEQzdcXFxcdUZERjAtXFxcXHVGREZCXFxcXHVGRTcwLVxcXFx1RkU3NFxcXFx1RkU3Ni1cXFxcdUZFRkNcXFxcdUZGMjEtXFxcXHVGRjNBXFxcXHVGRjQxLVxcXFx1RkY1QVxcXFx1RkY2Ni1cXFxcdUZGQkVcXFxcdUZGQzItXFxcXHVGRkM3XFxcXHVGRkNBLVxcXFx1RkZDRlxcXFx1RkZEMi1cXFxcdUZGRDdcXFxcdUZGREEtXFxcXHVGRkRDXCIsXG5cdFx0XCJwe059XCIgOiBcIlxcXFx1MDAzMC1cXFxcdTAwMzlcXFxcdTAwQjJcXFxcdTAwQjNcXFxcdTAwQjlcXFxcdTAwQkMtXFxcXHUwMEJFXFxcXHUwNjYwLVxcXFx1MDY2OVxcXFx1MDZGMC1cXFxcdTA2RjlcXFxcdTA3QzAtXFxcXHUwN0M5XFxcXHUwOTY2LVxcXFx1MDk2RlxcXFx1MDlFNi1cXFxcdTA5RUZcXFxcdTA5RjQtXFxcXHUwOUY5XFxcXHUwQTY2LVxcXFx1MEE2RlxcXFx1MEFFNi1cXFxcdTBBRUZcXFxcdTBCNjYtXFxcXHUwQjZGXFxcXHUwQjcyLVxcXFx1MEI3N1xcXFx1MEJFNi1cXFxcdTBCRjJcXFxcdTBDNjYtXFxcXHUwQzZGXFxcXHUwQzc4LVxcXFx1MEM3RVxcXFx1MENFNi1cXFxcdTBDRUZcXFxcdTBENjYtXFxcXHUwRDc1XFxcXHUwRTUwLVxcXFx1MEU1OVxcXFx1MEVEMC1cXFxcdTBFRDlcXFxcdTBGMjAtXFxcXHUwRjMzXFxcXHUxMDQwLVxcXFx1MTA0OVxcXFx1MTA5MC1cXFxcdTEwOTlcXFxcdTEzNjktXFxcXHUxMzdDXFxcXHUxNkVFLVxcXFx1MTZGMFxcXFx1MTdFMC1cXFxcdTE3RTlcXFxcdTE3RjAtXFxcXHUxN0Y5XFxcXHUxODEwLVxcXFx1MTgxOVxcXFx1MTk0Ni1cXFxcdTE5NEZcXFxcdTE5RDAtXFxcXHUxOURBXFxcXHUxQTgwLVxcXFx1MUE4OVxcXFx1MUE5MC1cXFxcdTFBOTlcXFxcdTFCNTAtXFxcXHUxQjU5XFxcXHUxQkIwLVxcXFx1MUJCOVxcXFx1MUM0MC1cXFxcdTFDNDlcXFxcdTFDNTAtXFxcXHUxQzU5XFxcXHUyMDcwXFxcXHUyMDc0LVxcXFx1MjA3OVxcXFx1MjA4MC1cXFxcdTIwODlcXFxcdTIxNTAtXFxcXHUyMTgyXFxcXHUyMTg1LVxcXFx1MjE4OVxcXFx1MjQ2MC1cXFxcdTI0OUJcXFxcdTI0RUEtXFxcXHUyNEZGXFxcXHUyNzc2LVxcXFx1Mjc5M1xcXFx1MkNGRFxcXFx1MzAwN1xcXFx1MzAyMS1cXFxcdTMwMjlcXFxcdTMwMzgtXFxcXHUzMDNBXFxcXHUzMTkyLVxcXFx1MzE5NVxcXFx1MzIyMC1cXFxcdTMyMjlcXFxcdTMyNDgtXFxcXHUzMjRGXFxcXHUzMjUxLVxcXFx1MzI1RlxcXFx1MzI4MC1cXFxcdTMyODlcXFxcdTMyQjEtXFxcXHUzMkJGXFxcXHVBNjIwLVxcXFx1QTYyOVxcXFx1QTZFNi1cXFxcdUE2RUZcXFxcdUE4MzAtXFxcXHVBODM1XFxcXHVBOEQwLVxcXFx1QThEOVxcXFx1QTkwMC1cXFxcdUE5MDlcXFxcdUE5RDAtXFxcXHVBOUQ5XFxcXHVBQTUwLVxcXFx1QUE1OVxcXFx1QUJGMC1cXFxcdUFCRjlcXFxcdUZGMTAtXFxcXHVGRjE5XCIsXG5cdFx0XCJwe1NjfVwiOiBcIlxcXFx1MDAyNFxcXFx1MDBBMi1cXFxcdTAwQTVcXFxcdTA1OEZcXFxcdTA2MEJcXFxcdTA5RjJcXFxcdTA5RjNcXFxcdTA5RkJcXFxcdTBBRjFcXFxcdTBCRjlcXFxcdTBFM0ZcXFxcdTE3REJcXFxcdTIwQTAtXFxcXHUyMEI5XFxcXHVBODM4XFxcXHVGREZDXFxcXHVGRTY5XFxcXHVGRjA0XFxcXHVGRkUwXFxcXHVGRkUxXFxcXHVGRkU1XFxcXHVGRkU2XCIsXG5cdFx0XCJwe1NrfVwiOiBcIlxcXFx1MDA1RVxcXFx1MDA2MFxcXFx1MDBBOFxcXFx1MDBBRlxcXFx1MDBCNFxcXFx1MDBCOFxcXFx1MDJDMi1cXFxcdTAyQzVcXFxcdTAyRDItXFxcXHUwMkRGXFxcXHUwMkU1LVxcXFx1MDJFQlxcXFx1MDJFRFxcXFx1MDJFRi1cXFxcdTAyRkZcXFxcdTAzNzVcXFxcdTAzODRcXFxcdTAzODVcXFxcdTFGQkRcXFxcdTFGQkYtXFxcXHUxRkMxXFxcXHUxRkNELVxcXFx1MUZDRlxcXFx1MUZERC1cXFxcdTFGREZcXFxcdTFGRUQtXFxcXHUxRkVGXFxcXHUxRkZEXFxcXHUxRkZFXFxcXHUzMDlCXFxcXHUzMDlDXFxcXHVBNzAwLVxcXFx1QTcxNlxcXFx1QTcyMFxcXFx1QTcyMVxcXFx1QTc4OVxcXFx1QTc4QVxcXFx1RkJCMi1cXFxcdUZCQzFcXFxcdUZGM0VcXFxcdUZGNDBcXFxcdUZGRTNcIixcblx0XHRcInB7U299XCI6IFwiXFxcXHUwMEE2XFxcXHUwMEE5XFxcXHUwMEFFXFxcXHUwMEIwXFxcXHUwNDgyXFxcXHUwNjBFXFxcXHUwNjBGXFxcXHUwNkRFXFxcXHUwNkU5XFxcXHUwNkZEXFxcXHUwNkZFXFxcXHUwN0Y2XFxcXHUwOUZBXFxcXHUwQjcwXFxcXHUwQkYzLVxcXFx1MEJGOFxcXFx1MEJGQVxcXFx1MEM3RlxcXFx1MEQ3OVxcXFx1MEYwMS1cXFxcdTBGMDNcXFxcdTBGMTNcXFxcdTBGMTUtXFxcXHUwRjE3XFxcXHUwRjFBLVxcXFx1MEYxRlxcXFx1MEYzNFxcXFx1MEYzNlxcXFx1MEYzOFxcXFx1MEZCRS1cXFxcdTBGQzVcXFxcdTBGQzctXFxcXHUwRkNDXFxcXHUwRkNFXFxcXHUwRkNGXFxcXHUwRkQ1LVxcXFx1MEZEOFxcXFx1MTA5RVxcXFx1MTA5RlxcXFx1MTM5MC1cXFxcdTEzOTlcXFxcdTE5NDBcXFxcdTE5REUtXFxcXHUxOUZGXFxcXHUxQjYxLVxcXFx1MUI2QVxcXFx1MUI3NC1cXFxcdTFCN0NcXFxcdTIxMDBcXFxcdTIxMDFcXFxcdTIxMDMtXFxcXHUyMTA2XFxcXHUyMTA4XFxcXHUyMTA5XFxcXHUyMTE0XFxcXHUyMTE2XFxcXHUyMTE3XFxcXHUyMTFFLVxcXFx1MjEyM1xcXFx1MjEyNVxcXFx1MjEyN1xcXFx1MjEyOVxcXFx1MjEyRVxcXFx1MjEzQVxcXFx1MjEzQlxcXFx1MjE0QVxcXFx1MjE0Q1xcXFx1MjE0RFxcXFx1MjE0RlxcXFx1MjE5NS1cXFxcdTIxOTlcXFxcdTIxOUMtXFxcXHUyMTlGXFxcXHUyMUExXFxcXHUyMUEyXFxcXHUyMUE0XFxcXHUyMUE1XFxcXHUyMUE3LVxcXFx1MjFBRFxcXFx1MjFBRi1cXFxcdTIxQ0RcXFxcdTIxRDBcXFxcdTIxRDFcXFxcdTIxRDNcXFxcdTIxRDUtXFxcXHUyMUYzXFxcXHUyMzAwLVxcXFx1MjMwN1xcXFx1MjMwQy1cXFxcdTIzMUZcXFxcdTIzMjItXFxcXHUyMzI4XFxcXHUyMzJCLVxcXFx1MjM3QlxcXFx1MjM3RC1cXFxcdTIzOUFcXFxcdTIzQjQtXFxcXHUyM0RCXFxcXHUyM0UyLVxcXFx1MjNGM1xcXFx1MjQwMC1cXFxcdTI0MjZcXFxcdTI0NDAtXFxcXHUyNDRBXFxcXHUyNDlDLVxcXFx1MjRFOVxcXFx1MjUwMC1cXFxcdTI1QjZcXFxcdTI1QjgtXFxcXHUyNUMwXFxcXHUyNUMyLVxcXFx1MjVGN1xcXFx1MjYwMC1cXFxcdTI2NkVcXFxcdTI2NzAtXFxcXHUyNkZGXFxcXHUyNzAxLVxcXFx1Mjc2N1xcXFx1Mjc5NC1cXFxcdTI3QkZcXFxcdTI4MDAtXFxcXHUyOEZGXFxcXHUyQjAwLVxcXFx1MkIyRlxcXFx1MkI0NVxcXFx1MkI0NlxcXFx1MkI1MC1cXFxcdTJCNTlcXFxcdTJDRTUtXFxcXHUyQ0VBXFxcXHUyRTgwLVxcXFx1MkU5OVxcXFx1MkU5Qi1cXFxcdTJFRjNcXFxcdTJGMDAtXFxcXHUyRkQ1XFxcXHUyRkYwLVxcXFx1MkZGQlxcXFx1MzAwNFxcXFx1MzAxMlxcXFx1MzAxM1xcXFx1MzAyMFxcXFx1MzAzNlxcXFx1MzAzN1xcXFx1MzAzRVxcXFx1MzAzRlxcXFx1MzE5MFxcXFx1MzE5MVxcXFx1MzE5Ni1cXFxcdTMxOUZcXFxcdTMxQzAtXFxcXHUzMUUzXFxcXHUzMjAwLVxcXFx1MzIxRVxcXFx1MzIyQS1cXFxcdTMyNDdcXFxcdTMyNTBcXFxcdTMyNjAtXFxcXHUzMjdGXFxcXHUzMjhBLVxcXFx1MzJCMFxcXFx1MzJDMC1cXFxcdTMyRkVcXFxcdTMzMDAtXFxcXHUzM0ZGXFxcXHU0REMwLVxcXFx1NERGRlxcXFx1QTQ5MC1cXFxcdUE0QzZcXFxcdUE4MjgtXFxcXHVBODJCXFxcXHVBODM2XFxcXHVBODM3XFxcXHVBODM5XFxcXHVBQTc3LVxcXFx1QUE3OVxcXFx1RkRGRFxcXFx1RkZFNFxcXFx1RkZFOFxcXFx1RkZFRFxcXFx1RkZFRVxcXFx1RkZGQ1xcXFx1RkZGRFwiXG5cdH07XG5cblx0dmFyIGxldHRlciAgICAgID0gdW5pY29kZVNob3J0Y3V0c1tcInB7TH1cIl0sXG5cdCAgICBudW1iZXIgICAgICA9IHVuaWNvZGVTaG9ydGN1dHNbXCJwe059XCJdLFxuXHQgICAgaXJpQ2hhciAgICAgPSBsZXR0ZXIgKyBudW1iZXIsXG5cdCAgICBwYXRoQ2hhciAgICA9IGlyaUNoYXIgKyBcIi9cXFxcLSs9XyZ+KiVAfCMuLDo7Jz8hXCIgKyB1bmljb2RlU2hvcnRjdXRzW1wicHtTY31cIl0gKyB1bmljb2RlU2hvcnRjdXRzW1wicHtTa31cIl0gKyB1bmljb2RlU2hvcnRjdXRzW1wicHtTb31cIl0sXG5cdCAgICBlbmRDaGFyICAgICA9IGlyaUNoYXIgKyBcIi9cXFxcLSs9XyZ+KiU7XCIgKyB1bmljb2RlU2hvcnRjdXRzW1wicHtTY31cIl0sXG5cdCAgICBvY3RldCAgICAgICA9IFwiKD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV17Mn18WzEtOV1bMC05XXxbMC05XSlcIixcblx0ICAgIGlwQWRkciAgICAgID0gXCIoPzpcXFxcYlwiICsgb2N0ZXQgKyBcIlxcXFwuXCIgKyBvY3RldCArIFwiXFxcXC5cIiArIG9jdGV0ICsgXCJcXFxcLlwiICsgb2N0ZXQgKyBcIlxcXFxiKVwiLFxuXHQgICAgaXJpICAgICAgICAgPSBcIltcIiArIGlyaUNoYXIgKyBcIl0oPzpbXCIgKyBpcmlDaGFyICsgXCJcXFxcLV0qW1wiICsgaXJpQ2hhciArIFwiXSk/XCIsXG5cdCAgICBkb21haW4gICAgICA9IFwiKD86XCIgKyBpcmkgKyBcIlxcXFwuKStcIixcblx0ICAgIGd0bGQgICAgICAgID0gXCIoPzpOT1JUSFdFU1RFUk5NVVRVQUx8VFJBVkVMRVJTSU5TVVJBTkNFfEFNRVJJQ0FORVhQUkVTU3xLRVJSWVBST1BFUlRJRVN8U0FORFZJS0NPUk9NQU5UfEFGQU1JTFlDT01QQU5ZfEFNRVJJQ0FORkFNSUxZfEJBTkFOQVJFUFVCTElDfENBTkNFUlJFU0VBUkNIfENPT0tJTkdDSEFOTkVMfEtFUlJZTE9HSVNUSUNTfFdFQVRIRVJDSEFOTkVMfElOVEVSTkFUSU9OQUx8TElGRUlOU1VSQU5DRXxPUklFTlRFWFBSRVNTfFNQUkVBREJFVFRJTkd8VFJBVkVMQ0hBTk5FTHxXT0xURVJTS0xVV0VSfENPTlNUUlVDVElPTnxMUExGSU5BTkNJQUx8UEFNUEVSRURDSEVGfFNDSE9MQVJTSElQU3xWRVJTSUNIRVJVTkd8QUNDT1VOVEFOVFN8QkFSQ0xBWUNBUkR8QkxBQ0tGUklEQVl8QkxPQ0tCVVNURVJ8QlJJREdFU1RPTkV8Q0FMVklOS0xFSU58Q09OVFJBQ1RPUlN8Q1JFRElUVU5JT058RU5HSU5FRVJJTkd8RU5URVJQUklTRVN8Rk9PRE5FVFdPUkt8SU5WRVNUTUVOVFN8S0VSUllIT1RFTFN8TEFNQk9SR0hJTkl8TU9UT1JDWUNMRVN8T0xBWUFOR1JPVVB8UEhPVE9HUkFQSFl8UExBWVNUQVRJT058UFJPRFVDVElPTlN8UFJPR1JFU1NJVkV8UkVEVU1CUkVMTEF8UklHSFRBVEhPTUV8V0lMTElBTUhJTEx8QUNDT1VOVEFOVHxBUEFSVE1FTlRTfEFTU09DSUFURVN8Qk5QUEFSSUJBU3xCT0VIUklOR0VSfENBUElUQUxPTkV8Q09OU1VMVElOR3xDUkVESVRDQVJEfENVSVNJTkVMTEF8RVVST1ZJU0lPTnxFWFRSQVNQQUNFfEZPVU5EQVRJT058SEVBTFRIQ0FSRXxJTU1PQklMSUVOfElORFVTVFJJRVN8TUFOQUdFTUVOVHxNSVRTVUJJU0hJfE5BVElPTldJREV8TkVYVERJUkVDVHxPTllPVVJTSURFfFBST1BFUlRJRVN8UFJPVEVDVElPTnxQUlVERU5USUFMfFJFQUxFU1RBVEV8UkVQVUJMSUNBTnxSRVNUQVVSQU5UfFNDSEFFRkZMRVJ8U1dJRlRDT1ZFUnxUQVRBTU9UT1JTfFRFQ0hOT0xPR1l8VEVMRUZPTklDQXxVTklWRVJTSVRZfFZJU1RBUFJJTlR8VkxBQU5ERVJFTnxWT0xLU1dBR0VOfEFDQ0VOVFVSRXxBTEZBUk9NRU98QUxMRklOQU5afEFNU1RFUkRBTXxBTkFMWVRJQ1N8QVFVQVJFTExFfEJBUkNFTE9OQXxCTE9PTUJFUkd8Q0hSSVNUTUFTfENPTU1VTklUWXxESVJFQ1RPUll8RURVQ0FUSU9OfEVRVUlQTUVOVHxGQUlSV0lORFN8RklOQU5DSUFMfEZJUkVTVE9ORXxGUkVTRU5JVVN8RlJPTlRET09SfEZVSklYRVJPWHxGVVJOSVRVUkV8R09MRFBPSU5UfEdPT0RIQU5EU3xISVNBTUlUU1V8SE9NRURFUE9UfEhPTUVHT09EU3xIT01FU0VOU0V8SE9ORVlXRUxMfElOU1RJVFVURXxJTlNVUkFOQ0V8S1VPS0dST1VQfExBREJST0tFU3xMQU5DQVNURVJ8TEFORFJPVkVSfExJRkVTVFlMRXxNQVJLRVRJTkd8TUFSU0hBTExTfE1DRE9OQUxEU3xNRUxCT1VSTkV8TUlDUk9TT0ZUfE1PTlRCTEFOQ3xQQU5BU09OSUN8UEFTU0FHRU5TfFBSQU1FUklDQXxSSUNIQVJETEl8U0NKT0hOU09OfFNIQU5HUklMQXxTT0xVVElPTlN8U1RBVEVCQU5LfFNUQVRFRkFSTXxTVE9DS0hPTE18VFJBVkVMRVJTfFZBQ0FUSU9OU3xZT0RPQkFTSEl8QUJVREhBQkl8QUlSRk9SQ0V8QUxMU1RBVEV8QVRUT1JORVl8QkFSQ0xBWVN8QkFSRUZPT1R8QkFSR0FJTlN8Qk9VVElRVUV8QlJBREVTQ098QlJPQURXQVl8QlJVU1NFTFN8QlVEQVBFU1R8QlVJTERFUlN8QlVTSU5FU1N8Q0FQRVRPV058Q0FURVJJTkd8Q0hSWVNMRVJ8Q0lQUklBTkl8Q0lUWUVBVFN8Q0xFQU5JTkd8Q0xJTklRVUV8Q0xPVEhJTkd8Q09NTUJBTkt8Q09NUFVURVJ8REVMSVZFUll8REVMT0lUVEV8REVNT0NSQVR8RElBTU9ORFN8RElTQ09VTlR8RElTQ09WRVJ8RE9XTkxPQUR8RU5HSU5FRVJ8RVJJQ1NTT058RVNVUkFOQ0V8RVZFUkJBTkt8RVhDSEFOR0V8RkVFREJBQ0t8RklERUxJVFl8RklSTURBTEV8Rk9PVEJBTEx8RlJPTlRJRVJ8R09PRFlFQVJ8R1JBSU5HRVJ8R1JBUEhJQ1N8R1VBUkRJQU58SERGQ0JBTkt8SEVMU0lOS0l8SE9MRElOR1N8SU5GSU5JVEl8SVBJUkFOR0F8SVNUQU5CVUx8SlBNT1JHQU58TElHSFRJTkd8TFVOREJFQ0t8TUFSUklPVFR8TUFTRVJBVEl8TUNLSU5TRVl8TUVNT1JJQUx8TU9SVEdBR0V8TU9WSVNUQVJ8TVVUVUVMTEV8T0JTRVJWRVJ8UEFSVE5FUlN8UEhBUk1BQ1l8UElDVFVSRVN8UExVTUJJTkd8UFJPUEVSVFl8UkVEU1RPTkV8U0FBUkxBTkR8U0FNU0NMVUJ8U0VDVVJJVFl8U0VSVklDRVN8U0hPUFBJTkd8U0hPV1RJTUV8U09GVEJBTkt8U09GVFdBUkV8U1RDR1JPVVB8U1VQUExJRVN8U1lNQU5URUN8VEVMRUNJVFl8VFJBSU5JTkd8VUNPTk5FQ1R8VkFOR1VBUkR8VkVOVFVSRVN8VkVSSVNJR058V09PRFNJREV8WU9LT0hBTUF8QUJPR0FET3xBQ0FERU1ZfEFHQUtIQU58QUxJQkFCQXxBTkRST0lEfEFUSExFVEF8QVVDVElPTnxBVURJQkxFfEFVU1BPU1R8QVZJQU5DQXxCQU5BTUVYfEJBVUhBVVN8QkVOVExFWXxCRVNUQlVZfEJPT0tJTkd8QlJPVEhFUnxCVUdBVFRJfENBUElUQUx8Q0FSQVZBTnxDQVJFRVJTfENBUlRJRVJ8Q0hBTk5FTHxDSElOVEFJfENJVEFERUx8Q0xVQk1FRHxDT0xMRUdFfENPTE9HTkV8Q09NQ0FTVHxDT01QQU5ZfENPTVBBUkV8Q09OVEFDVHxDT09LSU5HfENPUlNJQ0F8Q09VTlRSWXxDT1VQT05TfENPVVJTRVN8Q1JJQ0tFVHxDUlVJU0VTfERFTlRJU1R8RElHSVRBTHxET01BSU5TfEVYUE9TRUR8RVhQUkVTU3xGQVJNRVJTfEZBU0hJT058RkVSUkFSSXxGRVJSRVJPfEZJTkFOQ0V8RklTSElOR3xGSVRORVNTfEZMSUdIVFN8RkxPUklTVHxGTE9XRVJTfEZPUlNBTEV8RlJPR0FOU3xGVUpJVFNVfEdBTExFUll8R0VOVElOR3xHT0RBRERZfEdVSVRBUlN8SEFNQlVSR3xIQU5HT1VUfEhJVEFDSEl8SE9MSURBWXxIT1NUSU5HfEhPVEVMRVN8SE9UTUFJTHxIWVVOREFJfElTRUxFQ1R8SVNNQUlMSXxKRVdFTFJZfEpVTklQRVJ8S0lUQ0hFTnxLT01BVFNVfExBQ0FJWEF8TEFOQ09NRXxMQU5YRVNTfExBU0FMTEV8TEFUUk9CRXxMRUNMRVJDfExJQUlTT058TElNSVRFRHxMSU5DT0xOfE1BUktFVFN8TUVUTElGRXxNT05TVEVSfE5FVEJBTkt8TkVURkxJWHxORVRXT1JLfE5FVVNUQVJ8T0tJTkFXQXxPTEROQVZZfE9SR0FOSUN8T1JJR0lOU3xQQU5FUkFJfFBISUxJUFN8UElPTkVFUnxQT0xJVElFfFJFQUxUT1J8UkVDSVBFU3xSRU5UQUxTfFJFVklFV1N8UkVYUk9USHxTQU1TVU5HfFNBTkRWSUt8U0NITUlEVHxTQ0hXQVJafFNDSUVOQ0V8U0hJS1NIQXxTSFJJUkFNfFNJTkdMRVN8U1BJRUdFTHxTVEFQTEVTfFNUQVJIVUJ8U1RBVE9JTHxTVE9SQUdFfFNVUFBPUlR8U1VSR0VSWXxTWVNURU1TfFRFTUFTRUt8VEhFQVRFUnxUSEVBVFJFfFRJQ0tFVFN8VElGRkFOWXxUT1NISUJBfFRSQURJTkd8V0FMTUFSVHxXQU5HR09VfFdBVENIRVN8V0VBVEhFUnxXRUJTSVRFfFdFRERJTkd8V0hPU1dIT3xXSU5ET1dTfFdJTk5FUlN8WEZJTklUWXxZQU1BWFVOfFlPVVRVQkV8WlVFUklDSHxBQkFSVEh8QUJCT1RUfEFCQlZJRXxBQ1RJVkV8QUdFTkNZfEFJUkJVU3xBSVJURUx8QUxJUEFZfEFMU0FDRXxBTFNUT018QU5RVUFOfEFSQU1DT3xBVVRIT1J8QkFZRVJOfEJFQVVUWXxCRVJMSU58QkhBUlRJfEJMQU5DT3xCT1NUSUt8QlJPS0VSfENBTUVSQXxDQVJFRVJ8Q0FTSU5PfENFTlRFUnxDSEFORUx8Q0hST01FfENIVVJDSHxDSVJDTEV8Q0xBSU1TfENMSU5JQ3xDT0ZGRUV8Q09NU0VDfENPTkRPU3xDT1VQT058Q1JFRElUfERBVElOR3xEQVRTVU58REVBTEVSfERFR1JFRXxERU5UQUx8REVTSUdOfERJUkVDVHxET0NUT1J8RFVOTE9QfERVUE9OVHxEVVJCQU58RU1FUkNLfEVORVJHWXxFU1RBVEV8RVZFTlRTfEVYUEVSVHxGQU1JTFl8RkxJQ0tSfEZVVEJPTHxHQUxMVVB8R0FSREVOfEdFT1JHRXxHSVZJTkd8R0xPQkFMfEdPT0dMRXxHUkFUSVN8SEVBTFRIfEhFUk1FU3xISVBIT1B8SE9DS0VZfEhVR0hFU3xJTUFNQVR8SU5TVVJFfElOVFVJVHxKQUdVQVJ8Sk9CVVJHfEpVRUdPU3xLQVVGRU58S0lOREVSfEtJTkRMRXxLT1NIRVJ8TEFOQ0lBfExBVElOT3xMQVdZRVJ8TEVGUkFLfExJVklOR3xMT0NLRVJ8TE9ORE9OfExVWFVSWXxNQURSSUR8TUFJU09OfE1BS0VVUHxNQVJLRVR8TUFUVEVMfE1PQklMWXxNT05BU0h8TU9STU9OfE1PU0NPV3xNVVNFVU18TVVUVUFMfE5BR09ZQXxOQVRVUkF8TklTU0FOfE5JU1NBWXxOT1JUT058Tk9XUlVafE9GRklDRXxPTEFZQU58T05MSU5FfE9SQUNMRXxPUkFOR0V8T1RTVUtBfFBGSVpFUnxQSE9UT1N8UEhZU0lPfFBJQUdFVHxQSUNURVR8UVVFQkVDfFJBQ0lOR3xSRUFMVFl8UkVJU0VOfFJFUEFJUnxSRVBPUlR8UkVWSUVXfFJPQ0hFUnxST0dFUlN8UllVS1lVfFNBRkVUWXxTQUtVUkF8U0FOT0ZJfFNDSE9PTHxTQ0hVTEV8U0VDVVJFfFNFTEVDVHxTSE9VSkl8U09DQ0VSfFNPQ0lBTHxTVFJFQU18U1RVRElPfFNVUFBMWXxTVVpVS0l8U1dBVENIfFNZRE5FWXxUQUlQRUl8VEFPQkFPfFRBUkdFVHxUQVRUT098VEVOTklTfFRJRU5EQXxUSk1BWFh8VEtNQVhYfFRPWU9UQXxUUkFWRUx8VU5JQ09NfFZJQUpFU3xWSUtJTkd8VklMTEFTfFZJUkdJTnxWSVNJT058Vk9USU5HfFZPWUFHRXxWVUVMT1N8V0FMVEVSfFdBUk1BTnxXRUJDQU18WElIVUFOfFhQRVJJQXxZQUNIVFN8WUFOREVYfFpBUFBPU3xBQ1RPUnxBRFVMVHxBRVROQXxBTUZBTXxBTUlDQXxBUFBMRXxBUkNISXxBVURJT3xBVVRPU3xBWlVSRXxCQUlEVXxCRUFUU3xCSUJMRXxCSU5HT3xCTEFDS3xCT0FUU3xCT09UU3xCT1NDSHxCVUlMRHxDQU5PTnxDQVJEU3xDSEFTRXxDSEVBUHxDSExPRXxDSVNDT3xDSVRJQ3xDTElDS3xDTE9VRHxDT0FDSHxDT0RFU3xDUk9XTnxDWU1SVXxEQUJVUnxEQU5DRXxERUFMU3xERUxUQXxET0RHRXxEUklWRXxEVUJBSXxFQVJUSHxFREVLQXxFTUFJTHxFUE9TVHxFUFNPTnxGQUlUSHxGRURFWHxGSU5BTHxGT1JFWHxGT1JVTXxHQUxMT3xHQU1FU3xHSUZUU3xHSVZFU3xHTEFERXxHTEFTU3xHTE9CT3xHTUFJTHxHUkVFTnxHUklQRXxHUk9VUHxHVUNDSXxHVUlERXxIT01FU3xIT05EQXxIT1JTRXxIT1VTRXxIWUFUVHxJSU5FVHxJS0FOT3xJTlRFTHxJUklTSHxKRVRaVHxLT0VMTnxLWU9UT3xMQU1FUnxMRUFTRXxMRUdBTHxMRVhVU3xMSUxMWXxMSU5ERXxMSVBTWXxMSVhJTHxMT0FOU3xMT0NVU3xMT1RURXxMT1RUT3xMVVBJTnxNQUNZU3xNQU5HT3xNRURJQXxNSUFNSXxNT05FWXxNT1BBUnxNT1ZJRXxOQURFWHxORVhVU3xOSUtPTnxOSU5KQXxOT0tJQXxOT1dUVnxPTUVHQXxPU0FLQXxQQVJJU3xQQVJUU3xQQVJUWXxQSE9UT3xQSVpaQXxQTEFDRXxQT0tFUnxQUkFYSXxQUkVTU3xQUklNRXxQUk9NT3xRVUVTVHxSQURJT3xSRUhBQnxSRUlTRXxSSUNPSHxST0NLU3xST0RFT3xTQUxPTnxTRU5FUnxTRVZFTnxTSEFSUHxTSEVMTHxTSE9FU3xTS1lQRXxTTElOR3xTTUFSVHxTTUlMRXxTT0xBUnxTUEFDRXxTVEFEQXxTVE9SRXxTVFVEWXxTVFlMRXxTVUNLU3xTV0lTU3xUQVRBUnxUSVJFU3xUSVJPTHxUTUFMTHxUT0RBWXxUT0tZT3xUT09MU3xUT1JBWXxUT1RBTHxUT1VSU3xUUkFERXxUUlVTVHxUVU5FU3xUVVNIVXxVQkFOS3xWRUdBU3xWSURFT3xWSVNUQXxWT0RLQXxXQUxFU3xXQVRDSHxXRUJFUnxXRUlCT3xXT1JLU3xXT1JMRHxYRVJPWHxZQUhPT3xaSVBQT3xsb2NhbHxvbmlvbnxBQVJQfEFCTEV8QURBQ3xBRVJPfEFJR098QUtETnxBTExZfEFNRVh8QVJNWXxBUlBBfEFSVEV8QVNEQXxBU0lBfEFVREl8QVVUT3xCQUJZfEJBTkR8QkFOS3xCQlZBfEJFRVJ8QkVTVHxCSUtFfEJJTkd8QkxPR3xCTFVFfEJPRkF8Qk9ORHxCT09LfEJVWlp8Q0FGRXxDQUxMfENBTVB8Q0FSRXxDQVJTfENBU0F8Q0FTSHxDQlJFfENFUk58Q0hBVHxDSVRJfENJVFl8Q0xVQnxDT09MfENPT1B8Q1lPVXxEQVRFfERDTEt8REVBTHxERUxMfERFU0l8RElFVHxESVNIfERPQ1N8RE9IQXxEVUNLfERVTlN8RFZBR3xFUk5JfEZBR0V8RkFJTHxGQU5TfEZBUk18RkFTVHxGSUFUfEZJRE98RklMTXxGSVJFfEZJU0h8RkxJUnxGT1JEfEZVTkR8R0FNRXxHQklafEdFTlR8R0dFRXxHSUZUfEdNQkh8R09MRHxHT0xGfEdPT0d8R1VHRXxHVVJVfEhBVVN8SERGQ3xIRUxQfEhFUkV8SEdUVnxIT1NUfEhTQkN8SUNCQ3xJRUVFfElNREJ8SU1NT3xJTkZPfElUQVV8SkFWQXxKRUVQfEpPQlN8SlBSU3xLRERJfEtJV0l8S1BNR3xLUkVEfExBTkR8TEVHT3xMR0JUfExJREx8TElGRXxMSUtFfExJTU98TElOS3xMSVZFfExPQU58TE9GVHxMT1ZFfExUREF8TFVYRXxNQUlGfE1FRVR8TUVNRXxNRU5VfE1JTkl8TUlOVHxNT0JJfE1PREF8TVRQQ3xOQU1FfE5BVll8TkVXU3xORVhUfE5JQ098TklLRXxPTExPfE9QRU58UEFHRXxQQVJTfFBDQ1d8UElDU3xQSU5HfFBJTkt8UExBWXxQTFVTfFBPSEx8UE9STnxQT1NUfFBST0R8UFJPRnxRUE9OfFJBSUR8UkVBRHxSRUlUfFJFTlR8UkVTVHxSSUNIfFJPT018UlNWUHxSVUhSfFNBRkV8U0FMRXxTQVBPfFNBUkx8U0FWRXxTQVhPfFNDT1J8U0NPVHxTRUFUfFNFRUt8U0VYWXxTSEFXfFNISUF8U0hPUHxTSE9XfFNJTEt8U0lOQXxTSVRFfFNLSU58U05DRnxTT0hVfFNPTkd8U09OWXxTUE9UfFNUQVJ8U1VSRnxUQUxLfFRBWEl8VEVBTXxURUNIfFRFVkF8VElBQXxUSVBTfFRPV058VE9ZU3xUVUJFfFZBTkF8VklTQXxWSVZBfFZJVk98Vk9URXxWT1RPfFdBTkd8V0VJUnxXSUVOfFdJS0l8V0lORXxXT1JLfFhCT1h8WU9HQXxaQVJBfFpFUk98Wk9ORXxleGl0fHprZXl8QUFBfEFCQnxBQkN8QUNPfEFEU3xBRUd8QUZMfEFJR3xBTlp8QVBQfEFSVHxBV1N8QVhBfEJBUnxCQkN8QkJUfEJDR3xCQ058QkVUfEJJRHxCSU98QklafEJNU3xCTVd8Qk5MfEJPTXxCT098Qk9UfEJVWXxCWkh8Q0FCfENBTHxDQU18Q0FSfENBVHxDQkF8Q0JOfENCU3xDRUJ8Q0VPfENGQXxDRkR8Q09NfENSU3xDU0N8REFEfERBWXxERFN8REVWfERITHxESVl8RE5QfERPR3xET1R8RFRWfERWUnxFQVR8RUNPfEVEVXxFU1F8RVVTfEZBTnxGSVR8RkxZfEZPT3xGT1h8RlJMfEZUUnxGWUl8R0FMfEdBUHxHRE58R0VBfEdMRXxHTU98R01YfEdPT3xHT1B8R09UfEdPVnxIQk98SElWfEhLVHxIT1R8SE9XfEhUQ3xJQk18SUNFfElDVXxJRk18SU5HfElOS3xJTlR8SVNUfElUVnxJV0N8SkNCfEpDUHxKTEN8SkxMfEpNUHxKTkp8Sk9UfEpPWXxLRkh8S0lBfEtJTXxLUE58S1JEfExBVHxMQVd8TERTfExPTHxMUEx8TFREfE1BTnxNQkF8TUNEfE1FRHxNRU58TUVPfE1JTHxNSVR8TUxCfE1MU3xNTUF8TU9FfE1PSXxNT018TU9WfE1TRHxNVE58TVRSfE5BQnxOQkF8TkVDfE5FVHxORVd8TkZMfE5HT3xOSEt8Tk9XfE5SQXxOUld8TlRUfE5ZQ3xPQkl8T0ZGfE9ORXxPTkd8T05MfE9PT3xPUkd8T1RUfE9WSHxQQVl8UEVUfFBJRHxQSU58UE5DfFBST3xQUlV8UFVCfFBXQ3xRVkN8UkVEfFJFTnxSSU98UklQfFJVTnxSV0V8U0FQfFNBU3xTQkl8U0JTfFNDQXxTQ0J8U0VTfFNFV3xTRVh8U0ZSfFNLSXxTS1l8U09ZfFNSTHxTUlR8U1RDfFRBQnxUQVh8VENJfFRES3xURUx8VEhEfFRKWHxUT1B8VFJWfFRVSXxUVlN8VUJTfFVOT3xVT0x8VVBTfFZFVHxWSUd8VklOfFZJUHxXRUR8V0lOfFdNRXxXT1d8V1RDfFdURnxYSU58WFhYfFhZWnxZT1V8WVVOfFpJUHxiaXR8Z251fGkycHxBQ3xBRHxBRXxBRnxBR3xBSXxBTHxBTXxBT3xBUXxBUnxBU3xBVHxBVXxBV3xBWHxBWnxCQXxCQnxCRHxCRXxCRnxCR3xCSHxCSXxCSnxCTXxCTnxCT3xCUnxCU3xCVHxCVnxCV3xCWXxCWnxDQXxDQ3xDRHxDRnxDR3xDSHxDSXxDS3xDTHxDTXxDTnxDT3xDUnxDVXxDVnxDV3xDWHxDWXxDWnxERXxESnxES3xETXxET3xEWnxFQ3xFRXxFR3xFUnxFU3xFVHxFVXxGSXxGSnxGS3xGTXxGT3xGUnxHQXxHQnxHRHxHRXxHRnxHR3xHSHxHSXxHTHxHTXxHTnxHUHxHUXxHUnxHU3xHVHxHVXxHV3xHWXxIS3xITXxITnxIUnxIVHxIVXxJRHxJRXxJTHxJTXxJTnxJT3xJUXxJUnxJU3xJVHxKRXxKTXxKT3xKUHxLRXxLR3xLSHxLSXxLTXxLTnxLUHxLUnxLV3xLWXxLWnxMQXxMQnxMQ3xMSXxMS3xMUnxMU3xMVHxMVXxMVnxMWXxNQXxNQ3xNRHxNRXxNR3xNSHxNS3xNTHxNTXxNTnxNT3xNUHxNUXxNUnxNU3xNVHxNVXxNVnxNV3xNWHxNWXxNWnxOQXxOQ3xORXxORnxOR3xOSXxOTHxOT3xOUHxOUnxOVXxOWnxPTXxQQXxQRXxQRnxQR3xQSHxQS3xQTHxQTXxQTnxQUnxQU3xQVHxQV3xQWXxRQXxSRXxST3xSU3xSVXxSV3xTQXxTQnxTQ3xTRHxTRXxTR3xTSHxTSXxTSnxTS3xTTHxTTXxTTnxTT3xTUnxTVHxTVXxTVnxTWHxTWXxTWnxUQ3xURHxURnxUR3xUSHxUSnxUS3xUTHxUTXxUTnxUT3xUUnxUVHxUVnxUV3xUWnxVQXxVR3xVS3xVU3xVWXxVWnxWQXxWQ3xWRXxWR3xWSXxWTnxWVXxXRnxXU3xZRXxZVHxaQXxaTXxaVylcIixcblx0ICAgIGhvc3ROYW1lICAgID0gXCIoPzpcIiArIGRvbWFpbiArIGd0bGQgKyBcInxcIiArIGlwQWRkciArIFwiKVwiLFxuXHQgICAgd2VsbEJyYWNrICAgPSBcIlxcXFxbW1wiICsgcGF0aENoYXIgKyBcIl0qKD86XFxcXFtbXCIgKyBwYXRoQ2hhciArIFwiXSpcXFxcXVtcIiArIHBhdGhDaGFyICsgXCJdKikqXFxcXF1cIixcblx0ICAgIHdlbGxQYXJlbiAgID0gXCJcXFxcKFtcIiArIHBhdGhDaGFyICsgXCJdKig/OlxcXFwoW1wiICsgcGF0aENoYXIgKyBcIl0qXFxcXClbXCIgKyBwYXRoQ2hhciArIFwiXSopKlxcXFwpXCIsXG5cdCAgICB3ZWxsQWxsICAgICA9IHdlbGxQYXJlbiArIFwifFwiICsgd2VsbEJyYWNrLFxuXHQgICAgcGF0aENvbnQgICAgPSBcIig/OltcIiArIHBhdGhDaGFyICsgXCJdKig/OlwiICsgd2VsbEFsbCArIFwifFtcIiArIGVuZENoYXIgKyBcIl0pKykrXCIsXG5cdCAgICBwYXRoICAgICAgICA9IFwiKD86XCIgKyBwYXRoQ29udCArIFwifC98XFxcXGJ8JClcIixcblx0ICAgIHBvcnQgICAgICAgID0gXCIoPzo6WzAtOV0rKT9cIixcblx0ICAgIHdlYlVSTCAgICAgID0gXCIoPzpcIiArIGhvc3ROYW1lICsgcG9ydCArIFwiL1wiICsgcGF0aCArIFwiKXwoPzpcIiArIGhvc3ROYW1lICsgcG9ydCArIFwiKD86XFxcXGJ8JCkpXCIsXG5cblx0ICAgIHNjaGVtZSAgICAgID0gXCIoaHR0cHM/fGZ0cCk6Ly9cIixcblx0ICAgIHN0cmljdCAgICAgID0gXCJcXFxcYlwiICsgc2NoZW1lICsgcGF0aENvbnQsXG5cdCAgICByZWxheGVkICAgICA9IHN0cmljdCArIFwifFwiICsgd2ViVVJMO1xuXG5cdHRoaXMubGlua3JlZ2V4ICAgPSBuZXcgUmVnRXhwKHJlbGF4ZWQsIFwiZ2lcIik7XG5cdHRoaXMuX2VsZW0gICAgICAgPSAkKCc8ZGl2Lz4nKTtcblx0cmV0dXJuIHRoaXM7XG59O1xuXG4vLyBzdG9sZW4gZnJvbSBhbmd1bGFyLmpzXG4vLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2Jsb2IvdjEuMy4xNC9zcmMvbmdTYW5pdGl6ZS9zYW5pdGl6ZS5qcyNMNDM1XG5kZXN0aW55LmZuLlVybEZvcm1hdHRlci5wcm90b3R5cGUuZW5jb2RlVXJsID0gZnVuY3Rpb24odmFsdWUpIHtcblx0cmV0dXJuIHZhbHVlLlxuXHRcdHJlcGxhY2UoLyYvZywgJyZhbXA7JykuXG5cdFx0cmVwbGFjZSgvW1xcdUQ4MDAtXFx1REJGRl1bXFx1REMwMC1cXHVERkZGXS9nLCBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0dmFyIGhpID0gdmFsdWUuY2hhckNvZGVBdCgwKTtcblx0XHRcdHZhciBsb3cgPSB2YWx1ZS5jaGFyQ29kZUF0KDEpO1xuXHRcdFx0cmV0dXJuICcmIycgKyAoKChoaSAtIDB4RDgwMCkgKiAweDQwMCkgKyAobG93IC0gMHhEQzAwKSArIDB4MTAwMDApICsgJzsnO1xuXHRcdH0pLlxuXHRcdHJlcGxhY2UoLyhbXlxcIy1+fCB8IV0pL2csIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHRyZXR1cm4gJyYjJyArIHZhbHVlLmNoYXJDb2RlQXQoMCkgKyAnOyc7XG5cdFx0fSkuXG5cdFx0cmVwbGFjZSgvPC9nLCAnJmx0OycpLlxuXHRcdHJlcGxhY2UoLz4vZywgJyZndDsnKTtcbn07XG5cbmRlc3RpbnkuZm4uVXJsRm9ybWF0dGVyLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbihzdHIpIHtcblx0aWYgKCFzdHIpIHJldHVybjtcblx0dmFyIHNlbGYgICAgICAgPSB0aGlzLFxuXHQgICAgZXh0cmFjbGFzcyA9ICcnO1xuXG5cdGlmKC9cXGIoPzpOU0ZMKVxcYi9pLnRlc3Qoc3RyKSlcblx0XHRleHRyYWNsYXNzID0gJyBuc2ZsLWxpbmsnO1xuXHRlbHNlIGlmKC9cXGIoPzpOU0ZXfFNQT0lMRVIpXFxiL2kudGVzdChzdHIpKVxuXHRcdGV4dHJhY2xhc3MgPSAnIG5zZnctbGluayc7XG5cblx0cmV0dXJuIHN0ci5yZXBsYWNlKHNlbGYubGlua3JlZ2V4LCBmdW5jdGlvbih1cmwsIHNjaGVtZSkge1xuXHRcdHNjaGVtZSA9IHNjaGVtZT8gJyc6ICdodHRwOi8vJztcblx0XHR2YXIgZGVjb2RlZFVybCA9IHNlbGYuX2VsZW0uaHRtbCh1cmwpLnRleHQoKSxcblx0XHQgICAgbSAgICAgICAgICA9IGRlY29kZWRVcmwubWF0Y2goc2VsZi5saW5rcmVnZXgpO1xuXHRcdGlmICghbSlcblx0XHRcdHJldHVybiB1cmw7XG5cblx0XHR1cmwgPSBzZWxmLmVuY29kZVVybChtWzBdKTtcblx0XHR2YXIgZXh0cmEgPSBzZWxmLmVuY29kZVVybChkZWNvZGVkVXJsLnN1YnN0cmluZyhtWzBdLmxlbmd0aCkpO1xuXHRcdHJldHVybiAnPGEgdGFyZ2V0PVwiX2JsYW5rXCIgY2xhc3M9XCJleHRlcm5hbGxpbmsnICsgZXh0cmFjbGFzcyArICdcIiBocmVmPVwiJyArIHNjaGVtZSArIHVybCArICdcIiByZWw9XCJub2ZvbGxvd1wiPicgKyB1cmwgKyAnPC9hPicgKyBleHRyYTtcblx0fSk7XG59O1xuXG59KShqUXVlcnkpO1xuIiwiQ2hhdE1lbnUgPSAoZnVuY3Rpb24oKXtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEB0eXBlIHtBcnJheTxDaGF0TWVudT59XHJcbiAgICAgKi9cclxuICAgIHZhciBtZW51cyA9IFtdO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHVpXHJcbiAgICAgKiBAcGFyYW0gY2hhdFxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBjbHModWksIGNoYXQpIHtcclxuXHJcbiAgICAgICAgdmFyIHNjcm9sbFBsdWdpbiA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMudWkgICAgICA9IHVpO1xyXG4gICAgICAgIHRoaXMuY2hhdCAgICA9IGNoYXQ7XHJcbiAgICAgICAgdGhpcy5idG4gICAgID0gbnVsbDtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNob3duICAgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5vbiA9IGZ1bmN0aW9uKG5hbWUsIGZuKXtcclxuICAgICAgICAgICAgJCh0aGlzKS5vbihuYW1lLCBmbik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zaG93ID0gZnVuY3Rpb24oYnRuKXtcclxuICAgICAgICAgICAgaWYodGhpcy52aXNpYmxlKSByZXR1cm47XHJcbiAgICAgICAgICAgIGlmKCF0aGlzLnNob3duKSAkKHRoaXMpLnRyaWdnZXJIYW5kbGVyKCdpbml0Jyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnNob3duID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5idG4gPSBidG47XHJcblxyXG4gICAgICAgICAgICAkKHRoaXMuYnRuKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICQodGhpcy51aSkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLnRyaWdnZXJIYW5kbGVyKCdzaG93Jyk7XHJcblxyXG4gICAgICAgICAgICAkKHRoaXMudWkpLmZpbmQoJy5zY3JvbGxhYmxlJykuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgaWYoIXNjcm9sbFBsdWdpbilcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxQbHVnaW4gPSAkKHRoaXMpLm5hbm9TY3JvbGxlcih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVSZXNpemU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZlbnRQYWdlU2Nyb2xsaW5nOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgfSlbMF0ubmFub3Njcm9sbGVyO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFBsdWdpbi5yZXNldCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmhpZGUgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBpZih0aGlzLnZpc2libGUpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMuYnRuKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMudWkpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykudHJpZ2dlckhhbmRsZXIoJ2hpZGUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMudG9nZ2xlID0gZnVuY3Rpb24oYnRuKXtcclxuICAgICAgICAgICAgdmFyIHdhc1Zpc2libGUgPSB0aGlzLnZpc2libGU7XHJcbiAgICAgICAgICAgIENoYXRNZW51LmNsb3NlTWVudXMobnVsbCk7XHJcbiAgICAgICAgICAgIGlmKCF3YXNWaXNpYmxlKSB0aGlzLnNob3coYnRuKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnJlZHJhdyA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGlmKHNjcm9sbFBsdWdpbikgc2Nyb2xsUGx1Z2luLnJlc2V0KCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy51aS5vbignY2xpY2snLCAnLmNsb3NlJywgdGhpcy5oaWRlLmJpbmQodGhpcykpO1xyXG4gICAgICAgIG1lbnVzLnB1c2godGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xzLmNsb3NlTWVudXMgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIGZvcih2YXIgaT0wOyBpPG1lbnVzLmxlbmd0aDsgKytpKVxyXG4gICAgICAgICAgICBtZW51c1tpXS5oaWRlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBjbHM7XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigkKXtcclxuXHJcbiAgICBDaGF0R3VpID0gZnVuY3Rpb24oZW5naW5lLCBvcHRpb25zKXtcclxuICAgICAgICB0aGlzLnVpID0gJCgnI2Rlc3RpbnljaGF0Jyk7XHJcbiAgICAgICAgdGhpcy5lbmdpbmUgPSBlbmdpbmU7XHJcbiAgICAgICAgJC5leHRlbmQodGhpcywgb3B0aW9ucyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5pdCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAkLmV4dGVuZChDaGF0R3VpLnByb3RvdHlwZSwge1xyXG5cclxuICAgICAgICBsb2FkZWQgICAgICAgICAgICAgOiBmYWxzZSxcclxuICAgICAgICBtYXhsaW5lcyAgICAgICAgICAgOiA1MDAsIC8vIGxlZ2FjeSAtIHNldCB2aWEgcGhwXHJcblxyXG4gICAgICAgIHNjcm9sbFBsdWdpbiAgICAgICA6IG51bGwsXHJcbiAgICAgICAgYXV0b0NvbXBsZXRlUGx1Z2luIDogbnVsbCxcclxuICAgICAgICB1aSAgICAgICAgICAgICAgICAgOiBudWxsLFxyXG4gICAgICAgIGxpbmVzICAgICAgICAgICAgICA6IG51bGwsXHJcbiAgICAgICAgb3V0cHV0ICAgICAgICAgICAgIDogbnVsbCxcclxuICAgICAgICBpbnB1dCAgICAgICAgICAgICAgOiBudWxsLFxyXG4gICAgICAgIHVzZXJNZXNzYWdlcyAgICAgICA6IFtdLFxyXG4gICAgICAgIGZvY3VzZWRVc2VycyAgICAgICA6IFtdLFxyXG5cclxuICAgICAgICBpbnB1dGhpc3RvcnkgICAgICAgOiBbXSxcclxuICAgICAgICBjdXJyZW50aGlzdG9yeWxpbmUgOiAtMSxcclxuICAgICAgICBzdG9yZWRpbnB1dGxpbmUgICAgOiBudWxsLFxyXG5cclxuICAgICAgICBiYWNrbG9nICAgICAgICAgICAgOiBbXSxcclxuICAgICAgICBiYWNrbG9nTG9hZGluZyAgICAgOiBmYWxzZSxcclxuXHJcbiAgICAgICAgaGlnaGxpZ2h0cmVnZXggICAgIDoge30sXHJcbiAgICAgICAgbGFzdE1lc3NhZ2UgICAgICAgIDogbnVsbCxcclxuXHJcbiAgICAgICAgZW1vdGljb25zICAgICAgICAgIDogW10sXHJcbiAgICAgICAgdHdpdGNoZW1vdGVzICAgICAgIDogW10sXHJcbiAgICAgICAgZm9ybWF0dGVycyAgICAgICAgIDogW10sXHJcblxyXG4gICAgICAgIHBtY291bnRudW0gICAgICAgICA6IDAsXHJcbiAgICAgICAgcG1jb3VudCAgICAgICAgICAgIDogbnVsbCxcclxuXHJcbiAgICAgICAgc3R5bGVzaGVldCAgICAgICAgIDogbnVsbCxcclxuXHJcbiAgICAgICAgcHJlZmVyZW5jZXMgOiB7XHJcbiAgICAgICAgICAgICdzaG93dGltZScgOiB7XHJcbiAgICAgICAgICAgICAgICAndmFsdWUnICA6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgJ2RlZmF1bHQnOiBmYWxzZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnaGlkZWZsYWlyaWNvbnMnIDoge1xyXG4gICAgICAgICAgICAgICAgJ3ZhbHVlJyAgOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICdkZWZhdWx0JzogZmFsc2VcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3RpbWVzdGFtcGZvcm1hdCcgOiB7XHJcbiAgICAgICAgICAgICAgICAndmFsdWUnICA6ICdISDptbScsXHJcbiAgICAgICAgICAgICAgICAnZGVmYXVsdCc6ICdISDptbSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ21heGxpbmVzJyA6IHtcclxuICAgICAgICAgICAgICAgICd2YWx1ZScgIDogNTAwLFxyXG4gICAgICAgICAgICAgICAgJ2RlZmF1bHQnOiA1MDBcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2FsbG93Tm90aWZpY2F0aW9ucycgOiB7XHJcbiAgICAgICAgICAgICAgICAndmFsdWUnICA6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgJ2RlZmF1bHQnOiBmYWxzZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnaGlnaGxpZ2h0Jzoge1xyXG4gICAgICAgICAgICAgICAgJ3ZhbHVlJyAgOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgJ2RlZmF1bHQnOiB0cnVlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdjdXN0b21oaWdobGlnaHQnOiB7XHJcbiAgICAgICAgICAgICAgICAndmFsdWUnICA6IFtdLFxyXG4gICAgICAgICAgICAgICAgJ2RlZmF1bHQnOiBbXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnaGlnaGxpZ2h0bmlja3MnOiB7XHJcbiAgICAgICAgICAgICAgICAndmFsdWUnICA6IHt9LFxyXG4gICAgICAgICAgICAgICAgJ2RlZmF1bHQnOiB7fVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgdHJpZ2dlcjogZnVuY3Rpb24obmFtZSwgZGF0YSl7XHJcbiAgICAgICAgICAgICQodGhpcykudHJpZ2dlcihuYW1lLCBkYXRhKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBvbjogZnVuY3Rpb24obmFtZSwgZm4pe1xyXG4gICAgICAgICAgICAkKHRoaXMpLm9uKG5hbWUsIGZuKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBpbml0OiBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgLy8gbG9jYWwgdmFyIGZvciB0aGlzIGluc3RhbmNlXHJcbiAgICAgICAgICAgIHZhciBjaGF0ID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIC8vIGxvY2FsIGVsZW1lbnRzIHN0b3JlZCBpbiB2YXJzIHRvIG5vdCBoYXZlIHRvIGdldCB0aGUgZWxlbWVudHMgdmlhIHF1ZXJ5IGVhY2ggdGltZVxyXG4gICAgICAgICAgICB0aGlzLnBtY291bnQgICAgPSB0aGlzLnVpLmZpbmQoJyNjaGF0LXBtLWNvdW50OmZpcnN0JykuZXEoMCk7XHJcbiAgICAgICAgICAgIHRoaXMubGluZXMgICAgICA9IHRoaXMudWkuZmluZCgnI2NoYXQtbGluZXM6Zmlyc3QnKS5lcSgwKTtcclxuICAgICAgICAgICAgdGhpcy5vdXRwdXQgICAgID0gdGhpcy51aS5maW5kKCcjY2hhdC1vdXRwdXQ6Zmlyc3QnKS5lcSgwKTtcclxuICAgICAgICAgICAgdGhpcy5pbnB1dCAgICAgID0gdGhpcy51aS5maW5kKCcjY2hhdC1pbnB1dCAuaW5wdXQ6Zmlyc3QnKS5lcSgwKTtcclxuICAgICAgICAgICAgdGhpcy5zdHlsZXNoZWV0ID0gJCgnI2NoYXQtc3R5bGVzJylbMF1bJ3NoZWV0J107XHJcblxyXG4gICAgICAgICAgICAvLyBNZXNzYWdlIGZvcm1hdHRlcnNcclxuICAgICAgICAgICAgdGhpcy5mb3JtYXR0ZXJzLnB1c2gobmV3IGRlc3RpbnkuZm4uVXJsRm9ybWF0dGVyKHRoaXMpKTtcclxuICAgICAgICAgICAgdGhpcy5mb3JtYXR0ZXJzLnB1c2gobmV3IGRlc3RpbnkuZm4uRW1vdGVGb3JtYXR0ZXIodGhpcykpO1xyXG4gICAgICAgICAgICB0aGlzLmZvcm1hdHRlcnMucHVzaChuZXcgZGVzdGlueS5mbi5NZW50aW9uZWRVc2VyRm9ybWF0dGVyKHRoaXMpKTtcclxuICAgICAgICAgICAgdGhpcy5mb3JtYXR0ZXJzLnB1c2gobmV3IGRlc3RpbnkuZm4uR3JlZW5UZXh0Rm9ybWF0dGVyKHRoaXMpKTtcclxuXHJcbiAgICAgICAgICAgIC8vIExlZ2FjeVxyXG4gICAgICAgICAgICB0aGlzLnByZWZlcmVuY2VzLm1heGxpbmVzLnZhbHVlID0gdGhpcy5tYXhsaW5lcztcclxuICAgICAgICAgICAgdGhpcy5wcmVmZXJlbmNlcy5tYXhsaW5lcy5kZWZhdWx0ID0gdGhpcy5tYXhsaW5lcztcclxuXHJcbiAgICAgICAgICAgIC8vIFNjcm9sbGJhciBwbHVnaW5cclxuICAgICAgICAgICAgdGhpcy5zY3JvbGxQbHVnaW4gPSB0aGlzLm91dHB1dC5uYW5vU2Nyb2xsZXIoe1xyXG4gICAgICAgICAgICAgICAgZGlzYWJsZVJlc2l6ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHByZXZlbnRQYWdlU2Nyb2xsaW5nOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgc2xpZGVyTWluSGVpZ2h0OiA0MCxcclxuICAgICAgICAgICAgICAgIHRhYkluZGV4OiAxXHJcbiAgICAgICAgICAgIH0pWzBdLm5hbm9zY3JvbGxlcjtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGxQbHVnaW4uaXNTY3JvbGxlZFRvQm90dG9tID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiAodGhpcy5jb250ZW50U2Nyb2xsVG9wID49IHRoaXMubWF4U2Nyb2xsVG9wIC0gMzApO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbFBsdWdpbi51cGRhdGVBbmRTY3JvbGwgPSBmdW5jdGlvbihzY3JvbGxCb3R0b20pe1xyXG4gICAgICAgICAgICAgICAgaWYoIXRoaXMuaXNBY3RpdmUpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcclxuICAgICAgICAgICAgICAgIGlmKHNjcm9sbEJvdHRvbSkgdGhpcy5zY3JvbGxCb3R0b20oMCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBMb2NhbCBzdG9yZWRcclxuICAgICAgICAgICAgdGhpcy5sb2FkUHJlZmVyZW5jZXMoKTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkSGlnaGxpZ2h0ZXJzKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZElucHV0SGlzdG9yeSgpO1xyXG5cclxuICAgICAgICAgICAgLy8gQXV0byBjb21wbGV0ZVxyXG4gICAgICAgICAgICB0aGlzLmF1dG9Db21wbGV0ZVBsdWdpbiA9IG5ldyBDaGF0QXV0b0NvbXBsZXRlKHRoaXMuaW5wdXQsIHRoaXMuZW1vdGljb25zLmNvbmNhdCh0aGlzLnR3aXRjaGVtb3RlcykpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hhdCBzZXR0aW5nc1xyXG4gICAgICAgICAgICB2YXIgY2hhdFNldHRpbmdzVWkgPSB0aGlzLnVpLmZpbmQoJyNjaGF0LXNldHRpbmdzOmZpcnN0JykuZXEoMCksXHJcbiAgICAgICAgICAgICAgICBjaGF0U2V0dGluZ3NNZW51ID0gbmV3IENoYXRNZW51KGNoYXRTZXR0aW5nc1VpLCBjaGF0KTtcclxuICAgICAgICAgICAgdmFyIGNoYXRTZXR0aW5nc05vdGlmaWNhdGlvblRleHQgPSB0aGlzLnVpLmZpbmQoJyNjaGF0LXNldHRpbmdzLW5vdGlmaWNhdGlvbi1wZXJtaXNzaW9ucycpO1xyXG4gICAgICAgICAgICB2YXIgdXBkYXRlQ2hhdFNldHRpbmdzTm90aWZpY2F0aW9uVGV4dCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBjaGF0U2V0dGluZ3NOb3RpZmljYXRpb25UZXh0LnRleHQoXCIoUGVybWlzc2lvbiBcIisgKE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uID09PSBcImRlZmF1bHRcIiA/IFwicmVxdWlyZWRcIjpOb3RpZmljYXRpb24ucGVybWlzc2lvbikgK1wiKVwiKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGNoYXRTZXR0aW5nc1VpLm9uKCdrZXlwcmVzcyBibHVyJywgJ2lucHV0W25hbWU9Y3VzdG9taGlnaGxpZ2h0XScsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBrZXljb2RlID0gZS5rZXlDb2RlID8gZS5rZXlDb2RlIDogZS53aGljaDtcclxuICAgICAgICAgICAgICAgIGlmIChrZXljb2RlICYmIGtleWNvZGUgIT0gMTMpIC8vIG5vdCBlbnRlclxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9ICQodGhpcykudmFsKCkudHJpbSgpLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gZGF0YS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFbaV0gPSBkYXRhW2ldLnRyaW0oKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGFbaV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuc3BsaWNlKGksIDEpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjaGF0LnNldFByZWZlcmVuY2UoJ2N1c3RvbWhpZ2hsaWdodCcsIGRhdGEgKTtcclxuICAgICAgICAgICAgICAgIGNoYXQubG9hZEhpZ2hsaWdodGVycygpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY2hhdFNldHRpbmdzVWkub24oJ2NoYW5nZScsICdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgICAgPSAkKHRoaXMpLmF0dHIoJ25hbWUnKSxcclxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkID0gJCh0aGlzKS5pcygnOmNoZWNrZWQnKTtcclxuICAgICAgICAgICAgICAgIHN3aXRjaChuYW1lKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnc2hvd3RpbWUnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGF0LnNldFByZWZlcmVuY2UobmFtZSwgY2hlY2tlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXQuc2Nyb2xsUGx1Z2luLnVwZGF0ZUFuZFNjcm9sbChjaGF0LnNjcm9sbFBsdWdpbi5pc1Njcm9sbGVkVG9Cb3R0b20oKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdoaWRlZmxhaXJpY29ucyc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXQuc2V0UHJlZmVyZW5jZShuYW1lLCBjaGVja2VkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhdC5zY3JvbGxQbHVnaW4udXBkYXRlQW5kU2Nyb2xsKGNoYXQuc2Nyb2xsUGx1Z2luLmlzU2Nyb2xsZWRUb0JvdHRvbSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2hpZ2hsaWdodCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXQuc2V0UHJlZmVyZW5jZShuYW1lLCBjaGVja2VkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2FsbG93Tm90aWZpY2F0aW9ucyc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNoZWNrZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhdC5ub3RpZmljYXRpb25QZXJtaXNzaW9uKCkudGhlbihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDaGF0U2V0dGluZ3NOb3RpZmljYXRpb25UZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXQuc2V0UHJlZmVyZW5jZShuYW1lLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNoYXRTZXR0aW5nc05vdGlmaWNhdGlvblRleHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhdC5zZXRQcmVmZXJlbmNlKG5hbWUsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhdC5zZXRQcmVmZXJlbmNlKG5hbWUsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNoYXRTZXR0aW5nc01lbnUub24oJ3Nob3cnLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgY2hhdFNldHRpbmdzVWkuZmluZCgnaW5wdXRbbmFtZT1jdXN0b21oaWdobGlnaHRdJykudmFsKCBjaGF0LmdldFByZWZlcmVuY2UoJ2N1c3RvbWhpZ2hsaWdodCcpLmpvaW4oJywgJykgKTtcclxuICAgICAgICAgICAgICAgIGNoYXRTZXR0aW5nc1VpLmZpbmQoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgID0gJCh0aGlzKS5hdHRyKCduYW1lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5wcm9wKCdjaGVja2VkJywgY2hhdC5nZXRQcmVmZXJlbmNlKG5hbWUpKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYoTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gIT09IFwiZ3JhbnRlZFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIGNoYXRTZXR0aW5nc1VpLmZpbmQoJ2lucHV0W25hbWU9XCJhbGxvd05vdGlmaWNhdGlvbnNcIl0nKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlQ2hhdFNldHRpbmdzTm90aWZpY2F0aW9uVGV4dCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICB2YXIgY2hhdEVtb3Rlc1VpID0gdGhpcy51aS5maW5kKCcjY2hhdC1lbW90ZS1saXN0OmZpcnN0JykuZXEoMCksXHJcbiAgICAgICAgICAgICAgICBjaGF0RW1vdGVzVWlNZW51ID0gbmV3IENoYXRNZW51KGNoYXRFbW90ZXNVaSwgY2hhdCk7XHJcblxyXG4gICAgICAgICAgICBjaGF0RW1vdGVzVWlNZW51Lm9uKCdpbml0JywgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHZhciBkZW1vdGVzID0gY2hhdEVtb3Rlc1VpLmZpbmQoJyNkZXN0aW55LWVtb3RlcycpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbW90ZXMgPSBjaGF0RW1vdGVzVWkuZmluZCgnI3R3aXRjaC1lbW90ZXMnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDtpPGNoYXQuZW1vdGljb25zLmxlbmd0aDtpKyspXHJcbiAgICAgICAgICAgICAgICAgICAgZGVtb3Rlcy5hcHBlbmQoJzxkaXYgY2xhc3M9XCJlbW90ZVwiPjxzcGFuIHRpdGxlPVwiJytjaGF0LmVtb3RpY29uc1tpXSsnXCIgY2xhc3M9XCJjaGF0LWVtb3RlIGNoYXQtZW1vdGUtJytjaGF0LmVtb3RpY29uc1tpXSsnXCI+JytjaGF0LmVtb3RpY29uc1tpXSsnPC9zcGFuPjwvZGl2PicpO1xyXG4gICAgICAgICAgICAgICAgZm9yKHZhciB4PTA7eDxjaGF0LnR3aXRjaGVtb3Rlcy5sZW5ndGg7eCsrKVxyXG4gICAgICAgICAgICAgICAgICAgIHRlbW90ZXMuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiZW1vdGVcIj48c3BhbiB0aXRsZT1cIicrY2hhdC50d2l0Y2hlbW90ZXNbeF0rJ1wiIGNsYXNzPVwiY2hhdC1lbW90ZSBjaGF0LWVtb3RlLScrY2hhdC50d2l0Y2hlbW90ZXNbeF0rJ1wiPicrY2hhdC50d2l0Y2hlbW90ZXNbeF0rJzwvc3Bhbj48L2Rpdj4nKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjaGF0RW1vdGVzVWkub24oJ2NsaWNrJywgJy5jaGF0LWVtb3RlJywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gY2hhdC5pbnB1dC52YWwoKS50cmltKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhdC5pbnB1dC52YWwoIHZhbHVlICsgKCh2YWx1ZSA9PSBcIlwiKSA/IFwiXCI6XCIgXCIpICArICAkKHRoaXMpLnRleHQoKSArIFwiIFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBjaGF0LmlucHV0LmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciBwbVBvcHVwVWkgPSB0aGlzLnVpLmZpbmQoJyNjaGF0LXBtLW5vdGlmaWNhdGlvbjpmaXJzdCcpLmVxKDApLFxyXG4gICAgICAgICAgICAgICAgcG1Qb3B1cFVpTWVudSA9IG5ldyBDaGF0TWVudShwbVBvcHVwVWksIGNoYXQpO1xyXG5cclxuICAgICAgICAgICAgcG1Qb3B1cFVpLm9uKCdjbGljaycsICcudXNlci1saXN0LWxpbmsnLCBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgICAgIENoYXRNZW51LmNsb3NlTWVudXMoY2hhdCk7XHJcbiAgICAgICAgICAgICAgICB1c2VyTGlzdFVpTWVudS5zaG93KHBtUG9wdXBVaU1lbnUuYnRuKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHBtUG9wdXBVaS5vbignY2xpY2snLCAnI21hcmtyZWFkLXByaXZtc2cnLCBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgICAgIGNoYXQuc2V0VW5yZWFkTWVzc2FnZUNvdW50KDApO1xyXG4gICAgICAgICAgICAgICAgQ2hhdE1lbnUuY2xvc2VNZW51cyhjaGF0KTtcclxuICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9wcm9maWxlL21lc3NhZ2VzL29wZW5hbGwnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHBtUG9wdXBVaS5vbignY2xpY2snLCAnI2luYm94LXByaXZtc2cnLCBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgICAgIGNoYXQuc2V0VW5yZWFkTWVzc2FnZUNvdW50KDApO1xyXG4gICAgICAgICAgICAgICAgQ2hhdE1lbnUuY2xvc2VNZW51cyhjaGF0KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIHVzZXJMaXN0VWkgPSB0aGlzLnVpLmZpbmQoJyNjaGF0LXVzZXItbGlzdDpmaXJzdCcpLmVxKDApLFxyXG4gICAgICAgICAgICAgICAgdXNlckxpc3RVaU1lbnUgPSBuZXcgQ2hhdE1lbnUodXNlckxpc3RVaSwgY2hhdCk7XHJcblxyXG4gICAgICAgICAgICB1c2VyTGlzdFVpTWVudS5ncm91cHMgPSB1c2VyTGlzdFVpLmZpbmQoJyNjaGF0LWdyb3VwcycpO1xyXG4gICAgICAgICAgICB1c2VyTGlzdFVpTWVudS5jbGVhckFsbCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICB1c2VyTGlzdFVpTWVudS5ncm91cHMuZmluZCgnbGknKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdXNlckxpc3RVaU1lbnUuc29ydEJ5TmFtZSA9IGZ1bmN0aW9uKGEsYil7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCdkYXRhLXVzZXJuYW1lJykubG9jYWxlQ29tcGFyZShiLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCdkYXRhLXVzZXJuYW1lJykpO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaChlKXt9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHVzZXJMaXN0VWlNZW51LnNvcnRVc2VycyA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICB1c2VyTGlzdFVpTWVudS5ncm91cHMuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXJzID0gJCh0aGlzKS5maW5kKCdsaScpLmdldCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJzLnNvcnQodXNlckxpc3RVaU1lbnUuc29ydEJ5TmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGk8dXNlcnMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJzW2ldLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodXNlcnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHVzZXJMaXN0VWkub24oJ2NsaWNrJywgJy51c2VyJywgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGNoYXQudG9nZ2xlVXNlckZvY3VzKHRoaXMudGV4dENvbnRlbnQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdXNlckxpc3RVaS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgaGVhZGVyID0gdXNlckxpc3RVaS5maW5kKCdoNSBzcGFuJyksXHJcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBzID0gdXNlckxpc3RVaU1lbnUuZ3JvdXBzLFxyXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwMSA9ICQoJzx1bCBpZD1cImNoYXQtZ3JvdXAxXCI+JykuYXBwZW5kVG8oZ3JvdXBzKSxcclxuICAgICAgICAgICAgICAgICAgICBncm91cDIgPSAkKCc8dWwgaWQ9XCJjaGF0LWdyb3VwMlwiPicpLmFwcGVuZFRvKGdyb3VwcyksXHJcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXAzID0gJCgnPHVsIGlkPVwiY2hhdC1ncm91cDNcIj4nKS5hcHBlbmRUbyhncm91cHMpLFxyXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwNCA9ICQoJzx1bCBpZD1cImNoYXQtZ3JvdXA0XCI+JykuYXBwZW5kVG8oZ3JvdXBzKSxcclxuICAgICAgICAgICAgICAgICAgICBncm91cDUgPSAkKCc8dWwgaWQ9XCJjaGF0LWdyb3VwNVwiPicpLmFwcGVuZFRvKGdyb3Vwcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHVwZGF0ZUNvdW50ID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IE9iamVjdC5rZXlzKGNoYXQuZW5naW5lLnVzZXJzKS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyLnRleHQobik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG47XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdmFyIGhhc1VzZXIgPSBmdW5jdGlvbih1c2VybmFtZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJMaXN0VWkuZmluZCgnYVtkYXRhLXVzZXJuYW1lPVwiJyt1c2VybmFtZSsnXCJdJykubGVuZ3RoID4gMDtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlVXNlciA9IGZ1bmN0aW9uKHVzZXJuYW1lKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXNlckxpc3RVaS5maW5kKCdhW2RhdGEtdXNlcm5hbWU9XCInK3VzZXJuYW1lKydcIl0nKS5jbG9zZXN0KCdsaScpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHZhciBhZGRVc2VyID0gZnVuY3Rpb24odXNlcm5hbWUpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1ID0gY2hhdC5lbmdpbmUudXNlcnNbdXNlcm5hbWVdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtID0gJzxsaT48YSBkYXRhLXVzZXJuYW1lPVwiJyt1LnVzZXJuYW1lKydcIiBjbGFzcz1cInVzZXIgJysgdS5mZWF0dXJlcy5qb2luKCcgJykgKydcIj4nK3UudXNlcm5hbWUrJzwvYT48L2xpPic7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodS5oYXNGZWF0dXJlKGRlc3RpbnkuVXNlckZlYXR1cmVzLkJPVCkgfHwgdS5oYXNGZWF0dXJlKGRlc3RpbnkuVXNlckZlYXR1cmVzLkJPVDIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cDUuYXBwZW5kKGVsZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHUuaGFzRmVhdHVyZShkZXN0aW55LlVzZXJGZWF0dXJlcy5BRE1JTikgfHwgdS5oYXNGZWF0dXJlKGRlc3RpbnkuVXNlckZlYXR1cmVzLlZJUCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwMS5hcHBlbmQoZWxlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZih1Lmhhc0ZlYXR1cmUoZGVzdGlueS5Vc2VyRmVhdHVyZXMuQlJPQURDQVNURVIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cDIuYXBwZW5kKGVsZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYodS5oYXNGZWF0dXJlKGRlc3RpbnkuVXNlckZlYXR1cmVzLlNVQlNDUklCRVIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cDMuYXBwZW5kKGVsZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXA0LmFwcGVuZChlbGVtKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBjaGF0Lm9uKCdqb2luJywgZnVuY3Rpb24oZSwgZGF0YSl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodXNlckxpc3RVaU1lbnUudmlzaWJsZSAmJiAhaGFzVXNlcihkYXRhLm5pY2spKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkVXNlcihkYXRhLm5pY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDb3VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyTGlzdFVpTWVudS5zb3J0VXNlcnMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlckxpc3RVaU1lbnUucmVkcmF3KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBjaGF0Lm9uKCdxdWl0JywgZnVuY3Rpb24oZSwgZGF0YSl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodXNlckxpc3RVaU1lbnUudmlzaWJsZSAmJiBoYXNVc2VyKGRhdGEubmljaykpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVVc2VyKGRhdGEubmljayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNvdW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJMaXN0VWlNZW51LnJlZHJhdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdXNlckxpc3RVaU1lbnUub24oJ3Nob3cnLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJMaXN0VWlNZW51LmNsZWFyQWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ291bnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IodmFyIHVzZXJuYW1lIGluIGNoYXQuZW5naW5lLnVzZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGF0LmVuZ2luZS51c2Vycy5oYXNPd25Qcm9wZXJ0eSh1c2VybmFtZSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRVc2VyKHVzZXJuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlckxpc3RVaU1lbnUuc29ydFVzZXJzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlckxpc3RVaU1lbnUucmVkcmF3KCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnVpLmZpbmQoJyNjaGF0LXVzZXJzLWJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICAgICAgaWYoY2hhdC5wbWNvdW50bnVtID4gMClcclxuICAgICAgICAgICAgICAgICAgICBwbVBvcHVwVWlNZW51LnRvZ2dsZSh0aGlzKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICB1c2VyTGlzdFVpTWVudS50b2dnbGUodGhpcyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnVpLmZpbmQoJyNjaGF0LXNldHRpbmdzLWJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICAgICAgY2hhdFNldHRpbmdzTWVudS50b2dnbGUodGhpcyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnVpLmZpbmQoJyNlbW90aWNvbi1idG4nKS5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgICAgIGNoYXRFbW90ZXNVaU1lbnUudG9nZ2xlKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGluZXMub24oJ21vdXNlZG93bicsICcudXNlci1tc2cgYS51c2VyJywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgICAgICB2YXIgdXNlcm5hbWUgPSAkKHRoaXMpLmNsb3Nlc3QoJy51c2VyLW1zZycpLmRhdGEoJ3VzZXJuYW1lJyk7XHJcbiAgICAgICAgICAgICAgICBjaGF0LnRvZ2dsZVVzZXJGb2N1cyh1c2VybmFtZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5saW5lcy5vbignbW91c2Vkb3duJywgJy51c2VyLW1zZyAuY2hhdC11c2VyJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVzZXJuYW1lMSA9ICQodGhpcykuY2xvc2VzdCgnLnVzZXItbXNnJykuZGF0YSgndXNlcm5hbWUnKTtcclxuICAgICAgICAgICAgICAgIHZhciB1c2VybmFtZTIgPSB0aGlzLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICBjaGF0LmFkZFVzZXJGb2N1cyh1c2VybmFtZTEpO1xyXG4gICAgICAgICAgICAgICAgY2hhdC50b2dnbGVVc2VyRm9jdXModXNlcm5hbWUyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBCaW5kIHRvIHVzZXIgaW5wdXQgc3VibWl0XHJcbiAgICAgICAgICAgIHRoaXMudWkub24oJ3N1Ym1pdCcsICdmb3JtI2NoYXQtaW5wdXQnLCBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgICAgIGNoYXQuc2VuZCgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIENsb3NlIGFsbCBtZW51cyBhbmQgcGVyZm9ybSBhIHNjcm9sbFxyXG4gICAgICAgICAgICB0aGlzLmlucHV0Lm9uKCdrZXlkb3duIG1vdXNlZG93bicsICQucHJveHkoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIENoYXRNZW51LmNsb3NlTWVudXModGhpcyk7XHJcbiAgICAgICAgICAgIH0sIHRoaXMpKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENsb3NlIGFsbCBtZW51cyBpZiBzb21lb25lIGNsaWNrcyBvbiBhbnkgbWVzc2FnZXNcclxuICAgICAgICAgICAgdGhpcy5vdXRwdXQub24oJ21vdXNlZG93bicsICQucHJveHkoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIENoYXRNZW51LmNsb3NlTWVudXModGhpcyk7XHJcbiAgICAgICAgICAgICAgICBjaGF0LmNsZWFyVXNlckZvY3VzKCk7XHJcbiAgICAgICAgICAgIH0sIHRoaXMpKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzY3JvbGxOb3RpZnkgPSBjaGF0LnVpLmZpbmQoJyNjaGF0LXNjcm9sbC1ub3RpZnknKTtcclxuICAgICAgICAgICAgc2Nyb2xsTm90aWZ5Lm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgY2hhdC5zY3JvbGxQbHVnaW4udXBkYXRlQW5kU2Nyb2xsKHRydWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNoYXQub3V0cHV0LmRlYm91bmNlKFwic2Nyb2xsZWRcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxOb3RpZnkudG9nZ2xlKCFjaGF0LnNjcm9sbFBsdWdpbi5pc1Njcm9sbGVkVG9Cb3R0b20oKSk7XHJcbiAgICAgICAgICAgIH0sIDEwMCk7XHJcblxyXG4gICAgICAgICAgICBjaGF0Lm91dHB1dC5kZWJvdW5jZShcInNjcm9sbGVuZFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHNjcm9sbE5vdGlmeS5oaWRlKCk7XHJcbiAgICAgICAgICAgIH0sIDEwMCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgZm5VcGRhdGVTY3JvbGxWYWx1ZXMgPSBjaGF0LnNjcm9sbFBsdWdpbi51cGRhdGVTY3JvbGxWYWx1ZXM7XHJcbiAgICAgICAgICAgIGNoYXQuc2Nyb2xsUGx1Z2luLnVwZGF0ZVNjcm9sbFZhbHVlcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgZm5VcGRhdGVTY3JvbGxWYWx1ZXMuY2FsbCh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgY2hhdC5vdXRwdXQudHJpZ2dlcignc2Nyb2xsZWQnKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8gRW5kIFNjcm9sbGJhclxyXG5cclxuICAgICAgICAgICAgLy8gVGhlIGxvZ2luIGNsaWNrXHJcbiAgICAgICAgICAgIHRoaXMudWkuZmluZCgnI2NoYXQtbG9naW4tbXNnIGFbaHJlZj1cIi9sb2dpblwiXScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBpZih3aW5kb3cuc2VsZiAhPT0gd2luZG93LnRvcCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5wYXJlbnQubG9jYXRpb24uaHJlZiA9ICQodGhpcykuYXR0cignaHJlZicpICsgJz9mb2xsb3c9JyArIGVuY29kZVVSSUNvbXBvbmVudCh3aW5kb3cucGFyZW50LmxvY2F0aW9uLnBhdGhuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKSArICc/Zm9sbG93PScgKyBlbmNvZGVVUklDb21wb25lbnQod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIHdoZW4gY2xpY2tpbmcgb24gXCJub3RoaW5nXCIgbW92ZSB0aGUgZm9jdXMgdG8gdGhlIGlucHV0XHJcbiAgICAgICAgICAgIHZhciBtb3VzZURvd25Db29yZHM7XHJcbiAgICAgICAgICAgIHZhciBmb2N1c1RpbWVyO1xyXG4gICAgICAgICAgICB0aGlzLmxpbmVzLm9uKCdjbGljayBtb3VzZWRvd24ga2V5ZG93bicsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb29yZHMgPSBlLmNsaWVudFggKyAnLScgKyBlLmNsaWVudFk7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2goZS50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2xpY2snOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobW91c2VEb3duQ29vcmRzICE9PSBjb29yZHMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb2N1c1RpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsgY2hhdC5pbnB1dC5mb2N1cygpOyB9LCA1MDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdtb3VzZWRvd24nOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3VzZURvd25Db29yZHMgPSBjb29yZHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2tleWRvd24nOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9jdXNUaW1lcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGZvY3VzVGltZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXNUaW1lciA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gUHJpdmF0ZSBtZXNzYWdlIG9uY2xpY2tcclxuICAgICAgICAgICAgdGhpcy5saW5lcy5vbignY2xpY2snLCAnLm1hcmstYXMtcmVhZCcsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2VFbCAgICAgID0gJCh0aGlzKS5jbG9zZXN0KCcucHJpdmF0ZS1tZXNzYWdlJyksXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSAgICAgICAgPSBtZXNzYWdlRWwuZGF0YSgnbWVzc2FnZScpLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJY25TZW5kID0gbWVzc2FnZS51aS5maW5kKCcuaWNvbi1tYWlsLXNlbmQnKSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlQWN0aW9ucyA9IG1lc3NhZ2UudWkuZmluZCgnLm1lc3NhZ2UtYWN0aW9ucycpO1xyXG4gICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL3Byb2ZpbGUvbWVzc2FnZXMvJysgZW5jb2RlVVJJQ29tcG9uZW50KG1lc3NhZ2UubWVzc2FnZWlkKSArJy9vcGVuJyxcclxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJY25TZW5kLmF0dHIoJ2NsYXNzJywgJ2ljb24tbWFpbC1vcGVuLWRvY3VtZW50Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VBY3Rpb25zLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGF0LnNldFVucmVhZE1lc3NhZ2VDb3VudChkYXRhLnVucmVhZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gc2hvdWxkIGJlIG1vdmVkIHNvbWV3aGVyZSBiZXR0ZXJcclxuICAgICAgICAgICAgJCh3aW5kb3cpLm9uKHtcclxuICAgICAgICAgICAgICAgICdyZXNpemUuY2hhdCc6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhdC5yZXNpemUoKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAnZm9jdXMuY2hhdCc6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhdC5pbnB1dC5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICdsb2FkLmNoYXQnOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYXQuaW5wdXQuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBjaGF0LmxvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgYWRkVXNlckZvY3VzUnVsZTogZnVuY3Rpb24odXNlcm5hbWUpe1xyXG4gICAgICAgICAgICB0aGlzLnN0eWxlc2hlZXQuaW5zZXJ0UnVsZSgnLnVzZXItbXNnW2RhdGEtdXNlcm5hbWU9XCInICsgdXNlcm5hbWUgKyAnXCJde29wYWNpdHk6MSAhaW1wb3J0YW50O30nLCB0aGlzLmZvY3VzZWRVc2Vycy5sZW5ndGgpOyAvLyBtYXggNDI5NDk2NzI5NVxyXG4gICAgICAgICAgICB0aGlzLmZvY3VzZWRVc2Vycy5wdXNoKHVzZXJuYW1lKTtcclxuICAgICAgICAgICAgdGhpcy51aS50b2dnbGVDbGFzcygnZm9jdXMtdXNlcicsIHRoaXMuZm9jdXNlZFVzZXJzLmxlbmd0aCA+IDApO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHJlbW92ZVVzZXJGb2N1c1J1bGU6IGZ1bmN0aW9uKHVzZXJuYW1lLCBpbmRleCl7XHJcbiAgICAgICAgICAgIHRoaXMuc3R5bGVzaGVldC5kZWxldGVSdWxlKGluZGV4KTtcclxuICAgICAgICAgICAgdGhpcy5mb2N1c2VkVXNlcnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgdGhpcy51aS50b2dnbGVDbGFzcygnZm9jdXMtdXNlcicsIHRoaXMuZm9jdXNlZFVzZXJzLmxlbmd0aCA+IDApO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGNsZWFyVXNlckZvY3VzOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBmb3IodmFyIGk9dGhpcy5mb2N1c2VkVXNlcnMubGVuZ3RoLTE7IGk+PTA7IC0taSlcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlVXNlckZvY3VzUnVsZSh0aGlzLmZvY3VzZWRVc2Vyc1tpXSwgaSk7XHJcbiAgICAgICAgICAgIHRoaXMudWkudG9nZ2xlQ2xhc3MoJ2ZvY3VzLXVzZXInLCBmYWxzZSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgYWRkVXNlckZvY3VzOiBmdW5jdGlvbih1c2VybmFtZSl7XHJcbiAgICAgICAgICAgIGlmKHVzZXJuYW1lICYmIHRoaXMuZm9jdXNlZFVzZXJzLmluZGV4T2YodXNlcm5hbWUpID09PSAtMSlcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkVXNlckZvY3VzUnVsZSh1c2VybmFtZSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgcmVtb3ZlVXNlckZvY3VzOiBmdW5jdGlvbih1c2VybmFtZSl7XHJcbiAgICAgICAgICAgIGlmKCF1c2VybmFtZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICB1c2VybmFtZSA9IHVzZXJuYW1lLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuZm9jdXNlZFVzZXJzLmluZGV4T2YodXNlcm5hbWUpO1xyXG4gICAgICAgICAgICBpZihpbmRleCAhPT0gLTEpIHRoaXMucmVtb3ZlVXNlckZvY3VzUnVsZSh1c2VybmFtZSwgaW5kZXgpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHRvZ2dsZVVzZXJGb2N1czogZnVuY3Rpb24odXNlcm5hbWUpIHtcclxuICAgICAgICAgICAgaWYoIXVzZXJuYW1lKSByZXR1cm47XHJcbiAgICAgICAgICAgIHVzZXJuYW1lID0gdXNlcm5hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5mb2N1c2VkVXNlcnMuaW5kZXhPZih1c2VybmFtZSk7XHJcbiAgICAgICAgICAgIGlmKGluZGV4ID09PSAtMSlcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkVXNlckZvY3VzKHVzZXJuYW1lKTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVVc2VyRm9jdXModXNlcm5hbWUsIGluZGV4KTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBsb2FkQmFja2xvZzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmFja2xvZ0xvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZih0aGlzLmJhY2tsb2cubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFja2xvZ0xvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmJhY2tsb2cubGVuZ3RoOyBpIDwgajsgaSsrKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbmdpbmUuZGlzcGF0Y2hCYWNrbG9nKHRoaXMuYmFja2xvZ1tpXSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnB1dChuZXcgQ2hhdFVJTWVzc2FnZSgnPGhyLz4nKSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsUGx1Z2luLnVwZGF0ZUFuZFNjcm9sbCh0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5iYWNrbG9nTG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8vIEFkZCBhIG1lc3NhZ2UgdG8gdGhlIFVJXHJcbiAgICAgICAgcHV0OiBmdW5jdGlvbihtZXNzYWdlLCBzdGF0ZSl7XHJcbiAgICAgICAgICAgIGlmKG1lc3NhZ2UgaW5zdGFuY2VvZiBDaGF0VXNlck1lc3NhZ2Upe1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5sYXN0TWVzc2FnZSAmJiB0aGlzLmxhc3RNZXNzYWdlLnVzZXIgJiYgbWVzc2FnZS51c2VyICYmIHRoaXMubGFzdE1lc3NhZ2UudXNlci51c2VybmFtZSA9PSBtZXNzYWdlLnVzZXIudXNlcm5hbWUpXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS51aSA9ICQobWVzc2FnZS5hZGRvbkh0bWwoKSk7IC8vc2FtZSBwZXJzb24gY29uc2VjdXRpdmVseVxyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudWkgPSAkKG1lc3NhZ2UuaHRtbCgpKTsgLy9kaWZmZXJlbnQgcGVyc29uXHJcblxyXG4gICAgICAgICAgICAgICAgaWYobWVzc2FnZS51c2VyICYmIHRoaXMuZW5naW5lLnVzZXIgJiYgdGhpcy5lbmdpbmUudXNlci51c2VybmFtZSA9PSBtZXNzYWdlLnVzZXIudXNlcm5hbWUpXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS51aS5hZGRDbGFzcygnb3duLW1zZycpO1xyXG4gICAgICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZS51aSA9ICQobWVzc2FnZS5odG1sKCkpO1xyXG5cclxuICAgICAgICAgICAgbWVzc2FnZS51aS5kYXRhKCdtZXNzYWdlJywgbWVzc2FnZSk7XHJcbiAgICAgICAgICAgIG1lc3NhZ2UudWkuYXBwZW5kVG8odGhpcy5saW5lcyk7XHJcblxyXG4gICAgICAgICAgICBpZihzdGF0ZSAhPSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlLnN0YXR1cyhzdGF0ZSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxhc3RNZXNzYWdlID0gbWVzc2FnZTtcclxuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLy8gQWRkIGEgbWVzc2FnZVxyXG4gICAgICAgIHB1c2g6IGZ1bmN0aW9uKG1lc3NhZ2UsIHN0YXRlKXtcclxuICAgICAgICAgICAgLy8gR2V0IHRoZSBzY3JvbGwgcG9zaXRpb24gYmVmb3JlIGFkZGluZyB0aGUgbmV3IGxpbmUgLyByZW1vdmluZyBvbGQgbGluZXNcclxuICAgICAgICAgICAgdmFyIHdhc1Njcm9sbGVkQm90dG9tID0gdGhpcy5zY3JvbGxQbHVnaW4uaXNTY3JvbGxlZFRvQm90dG9tKCksXHJcbiAgICAgICAgICAgICAgICBsaW5lcyA9IHRoaXMubGluZXMuY2hpbGRyZW4oKSxcclxuICAgICAgICAgICAgICAgIG1heGxpbmVzID0gdGhpcy5nZXRQcmVmZXJlbmNlKCdtYXhsaW5lcycpO1xyXG4gICAgICAgICAgICAvLyBSaWQgZXhjZXNzIGxpbmVzIGlmIHRoZSB1c2VyIGlzIHNjcm9sbGVkIHRvIHRoZSBib3R0b21cclxuICAgICAgICAgICAgdmFyIGxpbmVDb3VudCA9IGxpbmVzLmxlbmd0aDtcclxuICAgICAgICAgICAgaWYod2FzU2Nyb2xsZWRCb3R0b20gJiYgbGluZUNvdW50ID49IG1heGxpbmVzKXtcclxuICAgICAgICAgICAgICAgIHZhciB1bndhbnRlZGxpbmVzID0gbGluZXMuc2xpY2UoMCwgbGluZUNvdW50IC0gbWF4bGluZXMpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHVud2FudGVkbGluZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAkKHVud2FudGVkbGluZXNbaV0pLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnVzZXJNZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB0aGlzLnB1dChtZXNzYWdlLCBzdGF0ZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgYSByZXNldCBoYXMgYmVlbiBjYWxsZWQgYXQgbGVhc3Qgb25jZSB3aGVuIHRoZSBzY3JvbGwgc2hvdWxkIGJlIGVuYWJsZWQsIGJ1dCBpc250IHlldFxyXG4gICAgICAgICAgICBpZih0aGlzLnNjcm9sbFBsdWdpbi5jb250ZW50LnNjcm9sbEhlaWdodCA+IHRoaXMuc2Nyb2xsUGx1Z2luLmVsLmNsaWVudEhlaWdodCAmJiAhdGhpcy5zY3JvbGxQbHVnaW4uaXNBY3RpdmUpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbFBsdWdpbi5yZXNldCgpO1xyXG5cclxuICAgICAgICAgICAgLy8gUmVzZXQgYW5kIG9yIHNjcm9sbCBib3R0b21cclxuICAgICAgICAgICAgdGhpcy5zY3JvbGxQbHVnaW4udXBkYXRlQW5kU2Nyb2xsKHdhc1Njcm9sbGVkQm90dG9tKTtcclxuICAgICAgICAgICAgLy8gSGFuZGxlIGhpZ2hsaWdodCAvIGFuZCBpZiBoaWdobGlnaHRlZCwgbm90aWZpY2F0aW9uXHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlSGlnaGxpZ2h0KG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZW5kOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB2YXIgc3RyID0gdGhpcy5pbnB1dC52YWwoKS50cmltKCk7XHJcbiAgICAgICAgICAgIGlmKHN0ciAhPSAnJyl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0LnZhbCgnJykuZm9jdXMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLmVuZ2luZS51c2VyID09IG51bGwgfHwgIXRoaXMuZW5naW5lLnVzZXIudXNlcm5hbWUpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaChuZXcgQ2hhdEVycm9yTWVzc2FnZSh0aGlzLmVuZ2luZS5lcnJvcnN0cmluZ3MubmVlZGxvZ2luKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSAoc3RyLnN1YnN0cmluZygwLCA0KSA9PT0gJy9tZSAnKSA/IHN0ci5zdWJzdHJpbmcoNCkgOiBzdHI7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBhbiBlbW90aWNvbiBzcGFtLCBlbWl0IHRoZSBtZXNzYWdlIGJ1dCBkb24ndCBhZGQgdGhlIGxpbmUgaW1tZWRpYXRlbHlcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmVtb3RpY29ucy5pbmRleE9mKG1lc3NhZ2UpICE9PSAtMSAmJiB0aGlzLmVuZ2luZS5wcmV2aW91c2Vtb3RlICYmIHRoaXMuZW5naW5lLnByZXZpb3VzZW1vdGUubWVzc2FnZSA9PSBtZXNzYWdlKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVuZ2luZS5lbWl0KCdNU0cnLCB7ZGF0YTogc3RyfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHN0ci5zdWJzdHJpbmcoMCwgMSkgPT09ICcvJylcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmdpbmUuaGFuZGxlQ29tbWFuZChzdHIuc3Vic3RyaW5nKDEpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBOb3JtYWwgdXNlciBtZXNzYWdlLCBlbWl0XHJcbiAgICAgICAgICAgICAgICB0aGlzLnB1c2gobmV3IENoYXRVc2VyTWVzc2FnZShzdHIsIHRoaXMuZW5naW5lLnVzZXIpLCAoIXRoaXMuZW5naW5lLmNvbm5lY3RlZCkgPyAndW5zZW50JyA6ICdwZW5kaW5nJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuZ2luZS5lbWl0KCdNU0cnLCB7ZGF0YTogc3RyfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnNlcnRJbnB1dEhpc3Rvcnkoc3RyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudGhpc3RvcnlsaW5lID0gLTE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF1dG9Db21wbGV0ZVBsdWdpbi5tYXJrTGFzdENvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3RyID0gbnVsbDtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbFBsdWdpbi51cGRhdGVBbmRTY3JvbGwodGhpcy5zY3JvbGxQbHVnaW4uaXNTY3JvbGxlZFRvQm90dG9tKCkpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXR1cElucHV0SGlzdG9yeTogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdmFyIG1vZGlmaWVycHJlc3NlZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgY2hhdCA9IHRoaXM7XHJcbiAgICAgICAgICAgICQodGhpcy5pbnB1dCkub24oJ2tleXVwJywgZnVuY3Rpb24oZSkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5IHx8IGUubWV0YUtleSB8fCBlLmN0cmxLZXkpXHJcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZpZXJwcmVzc2VkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoKGUua2V5Q29kZSAhPSAzOCAmJiBlLmtleUNvZGUgIT0gNDApIHx8IG1vZGlmaWVycHJlc3NlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGlmaWVycHJlc3NlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbnVtICA9IGUua2V5Q29kZSA9PSAzOD8gLTE6IDE7IC8vIGlmIHVwIGFycm93IHdlIHN1YnRyYWN0IG90aGVyd2lzZSBhZGRcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBpZiB1cCBhcnJvdyBhbmQgd2UgYXJlIG5vdCBjdXJyZW50bHkgc2hvd2luZyBhbnkgbGluZXMgZnJvbSB0aGUgaGlzdG9yeVxyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXQuY3VycmVudGhpc3RvcnlsaW5lIDwgMCAmJiBlLmtleUNvZGUgPT0gMzgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzZXQgdGhlIGN1cnJlbnQgbGluZSB0byB0aGUgZW5kIGlmIHRoZSBoaXN0b3J5LCBkbyBub3Qgc3VidHJhY3QgMVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoYXQncyBkb25lIGxhdGVyXHJcbiAgICAgICAgICAgICAgICAgICAgY2hhdC5jdXJyZW50aGlzdG9yeWxpbmUgPSBjaGF0LmlucHV0aGlzdG9yeS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RvcmUgdGhlIHR5cGVkIGluIG1lc3NhZ2Ugc28gdGhhdCB3ZSBjYW4gZ28gYmFjayB0byBpdFxyXG4gICAgICAgICAgICAgICAgICAgIGNoYXQuc3RvcmVkaW5wdXRsaW5lID0gY2hhdC5pbnB1dC52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXQuY3VycmVudGhpc3RvcnlsaW5lIDw9IDApIC8vIG5vdGhpbmcgaW4gdGhlIGhpc3RvcnksIGJhaWwgb3V0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXQuY3VycmVudGhpc3RvcnlsaW5lIDwgMCAmJiBlLmtleUNvZGUgPT0gNDApXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBkb3duIGFycm93LCBidXQgbm90aGluZyB0byBzaG93XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gY2hhdC5jdXJyZW50aGlzdG9yeWxpbmUgKyBudW07XHJcbiAgICAgICAgICAgICAgICAvLyBvdXQgb2YgYm91bmRzXHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gY2hhdC5pbnB1dGhpc3RvcnkubGVuZ3RoIHx8IGluZGV4IDwgMCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBkb3duIGFycm93IHdhcyBwcmVzc2VkIHRvIGdldCBiYWNrIHRvIHRoZSBvcmlnaW5hbCBsaW5lLCByZXNldFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+PSBjaGF0LmlucHV0aGlzdG9yeS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhdC5pbnB1dC52YWwoY2hhdC5zdG9yZWRpbnB1dGxpbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGF0LmN1cnJlbnRoaXN0b3J5bGluZSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY2hhdC5jdXJyZW50aGlzdG9yeWxpbmUgPSBpbmRleDtcclxuICAgICAgICAgICAgICAgIGNoYXQuaW5wdXQudmFsKGNoYXQuaW5wdXRoaXN0b3J5W2luZGV4XSk7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBsb2FkSW5wdXRIaXN0b3J5OiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dGhpc3RvcnkgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZVsnaW5wdXRoaXN0b3J5J10gfHwgJ1tdJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldHVwSW5wdXRIaXN0b3J5KCk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgaW5zZXJ0SW5wdXRIaXN0b3J5OiBmdW5jdGlvbihtZXNzYWdlKXtcclxuICAgICAgICAgICAgdGhpcy5pbnB1dGhpc3RvcnkucHVzaChtZXNzYWdlKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaW5wdXRoaXN0b3J5Lmxlbmd0aCA+IDIwKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dGhpc3Rvcnkuc2hpZnQoKTtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlWydpbnB1dGhpc3RvcnknXSA9IEpTT04uc3RyaW5naWZ5KHRoaXMuaW5wdXRoaXN0b3J5KTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICByZXNvbHZlTWVzc2FnZTogZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpPHRoaXMudXNlck1lc3NhZ2VzLmxlbmd0aDsgKytpKXtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMudXNlck1lc3NhZ2VzW2ldLm1lc3NhZ2UgPT0gZGF0YS5kYXRhKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IHRoaXMudXNlck1lc3NhZ2VzLnNwbGljZShpLCAxKVswXTtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnN0YXR1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIG5vdGlmaWNhdGlvblBlcm1pc3Npb246IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICAkLkRlZmVycmVkKCk7XHJcbiAgICAgICAgICAgIHN3aXRjaChOb3RpZmljYXRpb24ucGVybWlzc2lvbikge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImRlZmF1bHRcIjpcclxuICAgICAgICAgICAgICAgICAgICBOb3RpZmljYXRpb24ucmVxdWVzdFBlcm1pc3Npb24oZnVuY3Rpb24ocGVybWlzc2lvbil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaChwZXJtaXNzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZ3JhbnRlZFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUocGVybWlzc2lvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChwZXJtaXNzaW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImdyYW50ZWRcIjpcclxuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJkZW5pZWRcIjpcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZSgpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNob3dOb3RpZmljYXRpb246IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgaWYoTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gPT09IFwiZ3JhbnRlZFwiKXtcclxuICAgICAgICAgICAgICAgIHZhciBuID0gbmV3IE5vdGlmaWNhdGlvbiggbWVzc2FnZS51c2VyLnVzZXJuYW1lKycgc2FpZCAuLi4nLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgYm9keSA6IG1lc3NhZ2UubWVzc2FnZSxcclxuICAgICAgICAgICAgICAgICAgICB0YWcgIDogbWVzc2FnZS50aW1lc3RhbXAudW5peCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb24gOiBkZXN0aW55LmNkbisnL2NoYXQvaW1nL25vdGlmeWljb24ucG5nJyxcclxuICAgICAgICAgICAgICAgICAgICBkaXIgIDogXCJhdXRvXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChuLmNsb3NlLmJpbmQobiksIDUwMDApO1xyXG4gICAgICAgICAgICAgICAgbi5vbmNsaWNrID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0b2RvIG9wZW4gY2hhdCBhdCBzcGVjaWZpYyBsaW5lXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgbG9hZEhpZ2hsaWdodGVyczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmVuZ2luZS51c2VyICYmIHRoaXMuZW5naW5lLnVzZXIudXNlcm5hbWUpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpZ2hsaWdodHJlZ2V4LnVzZXIgPSBuZXcgUmVnRXhwKFwiXFxcXGJAPyg/OlwiK3RoaXMuZW5naW5lLnVzZXIudXNlcm5hbWUrXCIpXFxcXGJcIiwgXCJpXCIpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGhpZ2hsaWdodHMgPSB0aGlzLmdldFByZWZlcmVuY2UoJ2N1c3RvbWhpZ2hsaWdodCcpO1xyXG4gICAgICAgICAgICBpZiAoaGlnaGxpZ2h0cy5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBoaWdobGlnaHRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxyXG4gICAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodHNbaV0gPSBoaWdobGlnaHRzW2ldLnJlcGxhY2UoL1tcXC1cXFtcXF1cXC9cXHtcXH1cXChcXClcXCpcXCtcXD9cXC5cXFxcXFxeXFwkXFx8XS9nLCBcIlxcXFwkJlwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGlnaGxpZ2h0cmVnZXguY3VzdG9tID0gbmV3IFJlZ0V4cChcIlxcXFxiKD86XCIraGlnaGxpZ2h0cy5qb2luKFwifFwiKStcIilcXFxcYlwiLCBcImlcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICByZW5ld0hpZ2hsaWdodDogZnVuY3Rpb24obmljaywgZG9oaWdobGlnaHQpe1xyXG4gICAgICAgICAgICBpZiAoZG9oaWdobGlnaHQpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5saW5lcy5jaGlsZHJlbignZGl2W2RhdGEtdXNlcm5hbWU9XCInK25pY2sudG9Mb3dlckNhc2UoKSsnXCJdJykuYWRkQ2xhc3MoXCJoaWdobGlnaHRcIik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxpbmVzLmNoaWxkcmVuKCdkaXZbZGF0YS11c2VybmFtZT1cIicrbmljay50b0xvd2VyQ2FzZSgpKydcIl0nKS5yZW1vdmVDbGFzcyhcImhpZ2hsaWdodFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGhhbmRsZUhpZ2hsaWdodDogZnVuY3Rpb24obWVzc2FnZSl7XHJcbiAgICAgICAgICAgIGlmICghbWVzc2FnZS51c2VyIHx8ICFtZXNzYWdlLnVzZXIudXNlcm5hbWUgfHwgbWVzc2FnZS51c2VyLnVzZXJuYW1lID09IHRoaXMuZW5naW5lLnVzZXIudXNlcm5hbWUgfHwgIXRoaXMuZ2V0UHJlZmVyZW5jZSgnaGlnaGxpZ2h0JykpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBpZihtZXNzYWdlLnVzZXIuaGFzRmVhdHVyZShkZXN0aW55LlVzZXJGZWF0dXJlcy5CT1QpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdmFyIG5pY2tzID0gdGhpcy5nZXRQcmVmZXJlbmNlKCdoaWdobGlnaHRuaWNrcycpO1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICBuaWNrc1ttZXNzYWdlLnVzZXIudXNlcm5hbWUudG9Mb3dlckNhc2UoKV0gfHwgbmlja3NbbWVzc2FnZS51c2VyLnVzZXJuYW1lXSB8fFxyXG4gICAgICAgICAgICAgICAgKHRoaXMuaGlnaGxpZ2h0cmVnZXgudXNlciAmJiB0aGlzLmhpZ2hsaWdodHJlZ2V4LnVzZXIudGVzdChtZXNzYWdlLm1lc3NhZ2UpKSB8fFxyXG4gICAgICAgICAgICAgICAgKHRoaXMuaGlnaGxpZ2h0cmVnZXguY3VzdG9tICYmIHRoaXMuaGlnaGxpZ2h0cmVnZXguY3VzdG9tLnRlc3QobWVzc2FnZS5tZXNzYWdlKSlcclxuICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlLnVpLmFkZENsYXNzKCdoaWdobGlnaHQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLmdldFByZWZlcmVuY2UoJ2FsbG93Tm90aWZpY2F0aW9ucycpICYmICF0aGlzLmhhc0ZvY3VzKCkgJiYgIXRoaXMuYmFja2xvZ0xvYWRpbmcpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93Tm90aWZpY2F0aW9uKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXRQcmVmZXJlbmNlOiBmdW5jdGlvbihrZXksIHZhbHVlKXtcclxuICAgICAgICAgICAgdGhpcy5wcmVmZXJlbmNlc1trZXldLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMuYXBwbHlQcmVmZXJlbmNlc0NzcygpO1xyXG4gICAgICAgICAgICB0aGlzLnNhdmVQcmVmZXJlbmNlcygpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGdldFByZWZlcmVuY2U6IGZ1bmN0aW9uKGtleSl7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByZWZlcmVuY2VzW2tleV0udmFsdWUgfHwgbnVsbDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBsb2FkUHJlZmVyZW5jZXM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHByZWZlcmVuY2VzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2VbJ2NoYXRvcHRpb25zJ10gfHwgJ3t9Jyk7XHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGtleSBpbiBwcmVmZXJlbmNlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmVmZXJlbmNlcy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIHRoaXMucHJlZmVyZW5jZXMuaGFzT3duUHJvcGVydHkoa2V5KSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVmZXJlbmNlc1trZXldLnZhbHVlID0gcHJlZmVyZW5jZXNba2V5XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlQcmVmZXJlbmNlc0NzcygpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChpZ25vcmVkKSB7fVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNhdmVQcmVmZXJlbmNlczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJlZmVyZW5jZXMgPSB7fTtcclxuICAgICAgICAgICAgICAgIGZvcih2YXIga2V5IGluIHRoaXMucHJlZmVyZW5jZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcmVmZXJlbmNlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVmZXJlbmNlc1trZXldID0gdGhpcy5wcmVmZXJlbmNlc1trZXldLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlWydjaGF0b3B0aW9ucyddID0gSlNPTi5zdHJpbmdpZnkocHJlZmVyZW5jZXMpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChpZ25vcmVkKSB7fVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGFwcGx5UHJlZmVyZW5jZXNDc3M6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBmb3IodmFyIGtleSBpbiB0aGlzLnByZWZlcmVuY2VzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcmVmZXJlbmNlcy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIHR5cGVvZiB0aGlzLnByZWZlcmVuY2VzW2tleV0udmFsdWUgPT09ICdib29sZWFuJylcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVpLnRvZ2dsZUNsYXNzKCdwcmVmLScgKyBrZXksIHRoaXMucHJlZmVyZW5jZXNba2V5XS52YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICByZW1vdmVVc2VyTWVzc2FnZXM6IGZ1bmN0aW9uKHVzZXJuYW1lKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGluZXMuY2hpbGRyZW4oJ2RpdltkYXRhLXVzZXJuYW1lPVwiJyt1c2VybmFtZS50b0xvd2VyQ2FzZSgpKydcIl0nKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGxQbHVnaW4ucmVzZXQoKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXRVbnJlYWRNZXNzYWdlQ291bnQ6IGZ1bmN0aW9uKG4pe1xyXG4gICAgICAgICAgICB0aGlzLnBtY291bnRudW0gPSBNYXRoLm1heCgwLCBuKTtcclxuICAgICAgICAgICAgdGhpcy5wbWNvdW50LnRvZ2dsZUNsYXNzKCdoaWRkZW4nLCAhdGhpcy5wbWNvdW50bnVtKS50ZXh0KHRoaXMucG1jb3VudG51bSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgaGFzRm9jdXM6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlucHV0LmlzKCc6Zm9jdXMnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgQ2hhdFVzZXIgPSBmdW5jdGlvbiBjbHMoYXJncyl7XHJcbiAgICAgICAgYXJncyA9IGFyZ3MgfHwge307XHJcbiAgICAgICAgdGhpcy5uaWNrICAgICA9IGFyZ3MubmljayB8fCAnJztcclxuICAgICAgICB0aGlzLnVzZXJuYW1lID0gYXJncy5uaWNrIHx8ICcnO1xyXG4gICAgICAgIHRoaXMuZmVhdHVyZXMgPSBhcmdzLmZlYXR1cmVzIHx8IFtdO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIENoYXRVc2VyLnByb3RvdHlwZS5oYXNBbnlGZWF0dXJlcyA9IGZ1bmN0aW9uKC8qIC4uLiAqLyl7XHJcbiAgICAgICAgZm9yKHZhciBpPTA7IGk8YXJndW1lbnRzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgaWYodGhpcy5mZWF0dXJlcy5pbmRleE9mKGFyZ3VtZW50c1tpXSkgIT09IC0xKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICBDaGF0VXNlci5wcm90b3R5cGUuaGFzRmVhdHVyZSA9IGZ1bmN0aW9uKGZlYXR1cmUpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhhc0FueUZlYXR1cmVzKGZlYXR1cmUpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBVSSBNRVNTQUdFIC0gYWJpbGl0eSB0byBzZW5kIEhUTUwgbWFya3VwIHRvIHRoZSBjaGF0XHJcbiAgICBDaGF0VUlNZXNzYWdlID0gZnVuY3Rpb24oaHRtbCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5pdChodG1sKTtcclxuICAgIH07XHJcbiAgICBDaGF0VUlNZXNzYWdlLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oaHRtbCl7XHJcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gaHRtbDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBDaGF0VUlNZXNzYWdlLnByb3RvdHlwZS5odG1sID0gZnVuY3Rpb24oKXtcclxuICAgICAgICByZXR1cm4gdGhpcy53cmFwKHRoaXMud3JhcE1lc3NhZ2UoKSk7XHJcbiAgICB9O1xyXG4gICAgQ2hhdFVJTWVzc2FnZS5wcm90b3R5cGUud3JhcCA9IGZ1bmN0aW9uKGh0bWwpe1xyXG4gICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz1cInVpLW1zZ1wiPicraHRtbCsnPC9kaXY+JztcclxuICAgIH07XHJcbiAgICBDaGF0VUlNZXNzYWdlLnByb3RvdHlwZS53cmFwTWVzc2FnZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZTtcclxuICAgIH07XHJcbiAgICAvLyBFTkQgVUkgTUVTU0FHRVxyXG5cclxuICAgIC8vIEJBU0UgTUVTU0FHRVxyXG4gICAgQ2hhdE1lc3NhZ2UgPSBmdW5jdGlvbihtZXNzYWdlLCB0aW1lc3RhbXApe1xyXG4gICAgICAgIHJldHVybiB0aGlzLmluaXQobWVzc2FnZSwgdGltZXN0YW1wKTtcclxuICAgIH07XHJcbiAgICBDaGF0TWVzc2FnZS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKG1lc3NhZ2UsIHRpbWVzdGFtcCl7XHJcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcclxuICAgICAgICB0aGlzLnRpbWVzdGFtcCA9IG1vbWVudC51dGModGltZXN0YW1wKS5sb2NhbCgpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMudHlwZSA9ICdjaGF0JztcclxuICAgICAgICB0aGlzLnRpbWVzdGFtcGZvcm1hdCA9IGRlc3RpbnkuY2hhdC5ndWkuZ2V0UHJlZmVyZW5jZSgndGltZXN0YW1wZm9ybWF0Jyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgQ2hhdE1lc3NhZ2UucHJvdG90eXBlLnN0YXR1cyA9IGZ1bmN0aW9uKHN0YXRlKXtcclxuICAgICAgICBpZih0aGlzLnVpKXtcclxuICAgICAgICAgICAgaWYoc3RhdGUpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnVpLmFkZENsYXNzKHN0YXRlKTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgdGhpcy51aS5yZW1vdmVDbGFzcyh0aGlzLnN0YXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIENoYXRNZXNzYWdlLnByb3RvdHlwZS53cmFwVGltZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgcmV0dXJuICc8dGltZSB0aXRsZT1cIicrdGhpcy50aW1lc3RhbXAuZm9ybWF0KCdNTU1NIERvIFlZWVksIGg6bW06c3MgYScpKydcIiBkYXRldGltZT1cIicrdGhpcy50aW1lc3RhbXAuZm9ybWF0KCdNTU1NIERvIFlZWVksIGg6bW06c3MgYScpKydcIj4nK1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVzdGFtcC5mb3JtYXQodGhpcy50aW1lc3RhbXBmb3JtYXQpK1xyXG4gICAgICAgICAgICAnPC90aW1lPic7XHJcbiAgICB9O1xyXG4gICAgQ2hhdE1lc3NhZ2UucHJvdG90eXBlLndyYXBNZXNzYWdlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICByZXR1cm4gJCgnPHNwYW4gY2xhc3M9XCJtc2dcIi8+JykudGV4dCh0aGlzLm1lc3NhZ2UpLmdldCgwKS5vdXRlckhUTUw7XHJcbiAgICB9O1xyXG4gICAgQ2hhdE1lc3NhZ2UucHJvdG90eXBlLmh0bWwgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLndyYXAodGhpcy53cmFwVGltZSgpICsgJyAnICsgdGhpcy53cmFwTWVzc2FnZSgpKTtcclxuICAgIH07XHJcbiAgICBDaGF0TWVzc2FnZS5wcm90b3R5cGUud3JhcCA9IGZ1bmN0aW9uKGNvbnRlbnQpe1xyXG4gICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz1cIicrdGhpcy50eXBlKyctbXNnXCI+Jytjb250ZW50Kyc8L2Rpdj4nO1xyXG4gICAgfTtcclxuICAgIC8vIEVORCBCQVNFIE1FU1NBR0VcclxuXHJcbiAgICAvLyBFUlJPUiBNRVNTQUdFXHJcbiAgICBDaGF0RXJyb3JNZXNzYWdlID0gZnVuY3Rpb24oZXJyb3IsIHRpbWVzdGFtcCl7XHJcbiAgICAgICAgdGhpcy5pbml0KGVycm9yLCB0aW1lc3RhbXApO1xyXG4gICAgICAgIHRoaXMudHlwZSA9ICdlcnJvcic7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgJC5leHRlbmQoQ2hhdEVycm9yTWVzc2FnZS5wcm90b3R5cGUsIENoYXRNZXNzYWdlLnByb3RvdHlwZSk7XHJcbiAgICBDaGF0RXJyb3JNZXNzYWdlLnByb3RvdHlwZS5odG1sID0gZnVuY3Rpb24oKXtcclxuICAgICAgICByZXR1cm4gdGhpcy53cmFwKHRoaXMud3JhcFRpbWUoKSArICcgPGkgY2xhc3M9XCJpY29uLWVycm9yXCI+PC9pPiAnICsgdGhpcy53cmFwTWVzc2FnZSgpKTtcclxuICAgIH07XHJcbiAgICAvLyBFTkQgRVJST1IgTUVTU0FHRVxyXG5cclxuICAgIC8vIElORk8gLyBIRUxQIE1FU1NBR0VcclxuICAgIENoYXRJbmZvTWVzc2FnZSA9IGZ1bmN0aW9uKG1lc3NhZ2UsIHRpbWVzdGFtcCl7XHJcbiAgICAgICAgdGhpcy5pbml0KG1lc3NhZ2UsIHRpbWVzdGFtcCk7XHJcbiAgICAgICAgdGhpcy50eXBlID0gJ2luZm8nO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgICQuZXh0ZW5kKENoYXRJbmZvTWVzc2FnZS5wcm90b3R5cGUsIENoYXRNZXNzYWdlLnByb3RvdHlwZSk7XHJcbiAgICBDaGF0SW5mb01lc3NhZ2UucHJvdG90eXBlLmh0bWwgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLndyYXAodGhpcy53cmFwVGltZSgpICsgJyA8aSBjbGFzcz1cImljb24taW5mb1wiPjwvaT4gJyArIHRoaXMud3JhcE1lc3NhZ2UoKSk7XHJcbiAgICB9O1xyXG4gICAgQ2hhdEluZm9NZXNzYWdlLnByb3RvdHlwZS53cmFwTWVzc2FnZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIGVsZW0gICAgID0gJCgnPHNwYW4gY2xhc3M9XCJtc2dcIi8+JykudGV4dCh0aGlzLm1lc3NhZ2UpLFxyXG4gICAgICAgICAgICBlbmNvZGVkICA9IGVsZW0uaHRtbCgpO1xyXG5cclxuICAgICAgICBmb3IodmFyIGk9MDsgaTxkZXN0aW55LmNoYXQuZ3VpLmZvcm1hdHRlcnMubGVuZ3RoOyArK2kpXHJcbiAgICAgICAgICAgIGVuY29kZWQgPSBkZXN0aW55LmNoYXQuZ3VpLmZvcm1hdHRlcnNbaV0uZm9ybWF0KGVuY29kZWQsIG51bGwsIHRoaXMubWVzc2FnZSk7XHJcblxyXG4gICAgICAgIGVsZW0uaHRtbChlbmNvZGVkKTtcclxuICAgICAgICByZXR1cm4gZWxlbS5nZXQoMCkub3V0ZXJIVE1MO1xyXG4gICAgfTtcclxuICAgIC8vIEVORCBJTkZPIE1FU1NBR0VcclxuXHJcbiAgICAvLyBDT01NQU5EIE1FU1NBR0VcclxuICAgIENoYXRDb21tYW5kTWVzc2FnZSA9IGZ1bmN0aW9uKG1lc3NhZ2UsIHRpbWVzdGFtcCl7XHJcbiAgICAgICAgdGhpcy5pbml0KG1lc3NhZ2UsIHRpbWVzdGFtcCk7XHJcbiAgICAgICAgdGhpcy50eXBlID0gJ2NvbW1hbmQnO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgICQuZXh0ZW5kKENoYXRDb21tYW5kTWVzc2FnZS5wcm90b3R5cGUsIENoYXRNZXNzYWdlLnByb3RvdHlwZSk7XHJcbiAgICBDaGF0Q29tbWFuZE1lc3NhZ2UucHJvdG90eXBlLmh0bWwgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLndyYXAodGhpcy53cmFwVGltZSgpICsgJyA8aSBjbGFzcz1cImljb24tY29tbWFuZFwiPjwvaT4gJyArIHRoaXMud3JhcE1lc3NhZ2UoKSk7XHJcbiAgICB9O1xyXG4gICAgLy8gRU5EIENPTU1BTkQgTUVTU0FHRVxyXG5cclxuICAgIC8vIFNUQVRVUyBNRVNTQUdFXHJcbiAgICBDaGF0U3RhdHVzTWVzc2FnZSA9IGZ1bmN0aW9uKG1lc3NhZ2UsIHRpbWVzdGFtcCl7XHJcbiAgICAgICAgdGhpcy5pbml0KG1lc3NhZ2UsIHRpbWVzdGFtcCk7XHJcbiAgICAgICAgdGhpcy50eXBlID0gJ3N0YXR1cyc7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgJC5leHRlbmQoQ2hhdFN0YXR1c01lc3NhZ2UucHJvdG90eXBlLCBDaGF0TWVzc2FnZS5wcm90b3R5cGUpO1xyXG4gICAgQ2hhdFN0YXR1c01lc3NhZ2UucHJvdG90eXBlLmh0bWwgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLndyYXAodGhpcy53cmFwVGltZSgpICsgJyA8aSBjbGFzcz1cImljb24tc3RhdHVzXCI+PC9pPiAnICsgdGhpcy53cmFwTWVzc2FnZSgpKTtcclxuICAgIH07XHJcbiAgICAvLyBFTkQgU1RBVFVTIE1FU1NBR0VcclxuXHJcbiAgICAvLyBCUk9BRENBU1QgTUVTU0FHRVxyXG4gICAgQ2hhdEJyb2FkY2FzdE1lc3NhZ2UgPSBmdW5jdGlvbihtZXNzYWdlLCB0aW1lc3RhbXApe1xyXG4gICAgICAgIHRoaXMuaW5pdChtZXNzYWdlLCB0aW1lc3RhbXApO1xyXG4gICAgICAgIHRoaXMudHlwZSA9ICdicm9hZGNhc3QnO1xyXG4gICAgICAgIHRoaXMudXNlciA9IHtmZWF0dXJlczogW251bGxdfTsgLy8gc28gdGhhdCBnbG9iYWwgZW1vdGVzIGFyZSBpbiBlZmZlY3RcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAkLmV4dGVuZChDaGF0QnJvYWRjYXN0TWVzc2FnZS5wcm90b3R5cGUsIENoYXRNZXNzYWdlLnByb3RvdHlwZSk7XHJcbiAgICBDaGF0QnJvYWRjYXN0TWVzc2FnZS5wcm90b3R5cGUuaHRtbCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcCh0aGlzLndyYXBUaW1lKCkgKyAnICcgKyB0aGlzLndyYXBNZXNzYWdlKCkpO1xyXG4gICAgfTtcclxuICAgIENoYXRCcm9hZGNhc3RNZXNzYWdlLnByb3RvdHlwZS53cmFwTWVzc2FnZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIGVsZW0gICAgID0gJCgnPHNwYW4gY2xhc3M9XCJtc2dcIi8+JykudGV4dCh0aGlzLm1lc3NhZ2UpLFxyXG4gICAgICAgICAgICBlbmNvZGVkICA9IGVsZW0uaHRtbCgpO1xyXG5cclxuICAgICAgICBmb3IodmFyIGk9MDsgaTxkZXN0aW55LmNoYXQuZ3VpLmZvcm1hdHRlcnMubGVuZ3RoOyArK2kpXHJcbiAgICAgICAgICAgIGVuY29kZWQgPSBkZXN0aW55LmNoYXQuZ3VpLmZvcm1hdHRlcnNbaV0uZm9ybWF0KGVuY29kZWQsIG51bGwsIHRoaXMubWVzc2FnZSk7XHJcblxyXG4gICAgICAgIGVsZW0uaHRtbChlbmNvZGVkKTtcclxuICAgICAgICByZXR1cm4gZWxlbS5nZXQoMCkub3V0ZXJIVE1MO1xyXG4gICAgfTtcclxuICAgIC8vIEVORCBCUk9BRENBU1QgTUVTU0FHRVxyXG5cclxuICAgIC8vIFVTRVIgTUVTU0FHRVxyXG4gICAgQ2hhdFVzZXJNZXNzYWdlID0gZnVuY3Rpb24obWVzc2FnZSwgdXNlciwgdGltZXN0YW1wKXtcclxuICAgICAgICB0aGlzLmluaXQobWVzc2FnZSwgdGltZXN0YW1wKTtcclxuICAgICAgICB0aGlzLnR5cGUgPSAndXNlcic7XHJcbiAgICAgICAgdGhpcy51c2VyID0gdXNlcjtcclxuICAgICAgICB0aGlzLnByZXBhcmVNZXNzYWdlKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgJC5leHRlbmQoQ2hhdFVzZXJNZXNzYWdlLnByb3RvdHlwZSwgQ2hhdE1lc3NhZ2UucHJvdG90eXBlKTtcclxuICAgIENoYXRVc2VyTWVzc2FnZS5wcm90b3R5cGUucHJlcGFyZU1lc3NhZ2UgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLmlzU2xhc2hNZSA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLm1lc3NhZ2Uuc3Vic3RyaW5nKDAsIDQpID09PSAnL21lICcpIHtcclxuICAgICAgICAgICAgdGhpcy5pc1NsYXNoTWUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2Uuc3Vic3RyaW5nKDQpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5tZXNzYWdlLnN1YnN0cmluZygwLCAyKSA9PT0gJy8vJylcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gdGhpcy5tZXNzYWdlLnN1YnN0cmluZygxKTtcclxuICAgIH07XHJcbiAgICBDaGF0VXNlck1lc3NhZ2UucHJvdG90eXBlLndyYXAgPSBmdW5jdGlvbihodG1sLCBjc3MpIHtcclxuICAgICAgICBpZiAodGhpcy51c2VyICYmIHRoaXMudXNlci51c2VybmFtZSlcclxuICAgICAgICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPVwiJyt0aGlzLnR5cGUrJy1tc2cnKygoY3NzKSA/ICcgJytjc3M6JycpKydcIiBkYXRhLXVzZXJuYW1lPVwiJyt0aGlzLnVzZXIudXNlcm5hbWUudG9Mb3dlckNhc2UoKSsnXCI+JytodG1sKyc8L2Rpdj4nO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPVwiJyt0aGlzLnR5cGUrJy1tc2cnKygoY3NzKSA/ICcgJytjc3M6JycpKydcIj4nK2h0bWwrJzwvZGl2Pic7XHJcbiAgICB9O1xyXG5cclxuICAgIENoYXRVc2VyTWVzc2FnZS5wcm90b3R5cGUuZ2V0RmVhdHVyZUhUTUwgPSBmdW5jdGlvbih1c2VyKXtcclxuICAgICAgICB2YXIgaWNvbnMgPSAnJztcclxuXHJcbiAgICAgICAgaWYodXNlci5oYXNGZWF0dXJlKGRlc3RpbnkuVXNlckZlYXR1cmVzLlNVQlNDUklCRVJUNCkpXHJcbiAgICAgICAgICAgIGljb25zICs9ICc8aSBjbGFzcz1cImljb24tc3Vic2NyaWJlcnQ0XCIgdGl0bGU9XCJTdWJzY3JpYmVyIChUNClcIi8+JztcclxuICAgICAgICBlbHNlIGlmKHVzZXIuaGFzRmVhdHVyZShkZXN0aW55LlVzZXJGZWF0dXJlcy5TVUJTQ1JJQkVSVDMpKVxyXG4gICAgICAgICAgICBpY29ucyArPSAnPGkgY2xhc3M9XCJpY29uLXN1YnNjcmliZXJ0M1wiIHRpdGxlPVwiU3Vic2NyaWJlciAoVDMpXCIvPic7XHJcbiAgICAgICAgZWxzZSBpZih1c2VyLmhhc0ZlYXR1cmUoZGVzdGlueS5Vc2VyRmVhdHVyZXMuU1VCU0NSSUJFUlQyKSlcclxuICAgICAgICAgICAgaWNvbnMgKz0gJzxpIGNsYXNzPVwiaWNvbi1zdWJzY3JpYmVydDJcIiB0aXRsZT1cIlN1YnNjcmliZXIgKFQyKVwiLz4nO1xyXG4gICAgICAgIGVsc2UgaWYodXNlci5oYXNGZWF0dXJlKGRlc3RpbnkuVXNlckZlYXR1cmVzLlNVQlNDUklCRVJUMSkpXHJcbiAgICAgICAgICAgIGljb25zICs9ICc8aSBjbGFzcz1cImljb24tc3Vic2NyaWJlclwiIHRpdGxlPVwiU3Vic2NyaWJlciAoVDEpXCIvPic7XHJcbiAgICAgICAgZWxzZSBpZighdXNlci5oYXNGZWF0dXJlKGRlc3RpbnkuVXNlckZlYXR1cmVzLlNVQlNDUklCRVJUMCkgJiYgdXNlci5oYXNGZWF0dXJlKGRlc3RpbnkuVXNlckZlYXR1cmVzLlNVQlNDUklCRVIpKVxyXG4gICAgICAgICAgICBpY29ucyArPSAnPGkgY2xhc3M9XCJpY29uLXN1YnNjcmliZXJcIiB0aXRsZT1cIlN1YnNjcmliZXIgKFQxKVwiLz4nO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHVzZXIuZmVhdHVyZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgc3dpdGNoKHVzZXIuZmVhdHVyZXNbaV0pe1xyXG4gICAgICAgICAgICAgICAgY2FzZSBkZXN0aW55LlVzZXJGZWF0dXJlcy5TVUJTQ1JJQkVSVDAgOlxyXG4gICAgICAgICAgICAgICAgICAgIGljb25zICs9ICc8aSBjbGFzcz1cImljb24tbWluaXR3aXRjaFwiIHRpdGxlPVwiVHdpdGNoIHN1YnNjcmliZXJcIi8+JztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgZGVzdGlueS5Vc2VyRmVhdHVyZXMuQk9UIDpcclxuICAgICAgICAgICAgICAgICAgICBpY29ucyArPSAnPGkgY2xhc3M9XCJpY29uLWJvdFwiIHRpdGxlPVwiQm90XCIvPic7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGRlc3RpbnkuVXNlckZlYXR1cmVzLkJPVDIgOlxyXG4gICAgICAgICAgICAgICAgICAgIGljb25zICs9ICc8aSBjbGFzcz1cImljb24tYm90MlwiIHRpdGxlPVwiQm90XCIvPic7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGRlc3RpbnkuVXNlckZlYXR1cmVzLk5PVEFCTEUgOlxyXG4gICAgICAgICAgICAgICAgICAgIGljb25zICs9ICc8aSBjbGFzcz1cImljb24tbm90YWJsZVwiIHRpdGxlPVwiTm90YWJsZVwiLz4nO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBkZXN0aW55LlVzZXJGZWF0dXJlcy5UUlVTVEVEIDpcclxuICAgICAgICAgICAgICAgICAgICBpY29ucyArPSAnPGkgY2xhc3M9XCJpY29uLXRydXN0ZWRcIiB0aXRsZT1cIlRydXN0ZWRcIi8+JztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgZGVzdGlueS5Vc2VyRmVhdHVyZXMuQ09OVFJJQlVUT1IgOlxyXG4gICAgICAgICAgICAgICAgICAgIGljb25zICs9ICc8aSBjbGFzcz1cImljb24tY29udHJpYnV0b3JcIiB0aXRsZT1cIkNvbnRyaWJ1dG9yXCIvPic7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGRlc3RpbnkuVXNlckZlYXR1cmVzLkNPTVBDSEFMTEVOR0UgOlxyXG4gICAgICAgICAgICAgICAgICAgIGljb25zICs9ICc8aSBjbGFzcz1cImljb24tY29tcGNoYWxsZW5nZVwiIHRpdGxlPVwiQ29tcG9zaXRpb24gV2lubmVyXCIvPic7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGRlc3RpbnkuVXNlckZlYXR1cmVzLkVWRSA6XHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbnMgKz0gJzxpIGNsYXNzPVwiaWNvbi1ldmVcIiB0aXRsZT1cIkV2ZVwiLz4nO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBkZXN0aW55LlVzZXJGZWF0dXJlcy5TQzIgOlxyXG4gICAgICAgICAgICAgICAgICAgIGljb25zICs9ICc8aSBjbGFzcz1cImljb24tc2MyXCIgdGl0bGU9XCJTdGFyY3JhZnQgMlwiLz4nO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBkZXN0aW55LlVzZXJGZWF0dXJlcy5CUk9BRENBU1RFUiA6XHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbnMgKz0gJzxpIGNsYXNzPVwiaWNvbi1icm9hZGNhc3RlclwiIHRpdGxlPVwiQnJvYWRjYXN0ZXJcIi8+JztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGljb25zO1xyXG4gICAgfTtcclxuXHJcbiAgICBDaGF0VXNlck1lc3NhZ2UucHJvdG90eXBlLndyYXBVc2VyID0gZnVuY3Rpb24odXNlcil7XHJcbiAgICAgICAgcmV0dXJuICgodGhpcy5pc1NsYXNoTWUpID8gJyc6dGhpcy5nZXRGZWF0dXJlSFRNTCh1c2VyKSkgKycgPGEgY2xhc3M9XCJ1c2VyICcrIHVzZXIuZmVhdHVyZXMuam9pbignICcpICsnXCI+JyArdXNlci51c2VybmFtZSsnPC9hPic7XHJcbiAgICB9O1xyXG4gICAgQ2hhdFVzZXJNZXNzYWdlLnByb3RvdHlwZS53cmFwTWVzc2FnZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIGVsZW0gICAgID0gJCgnPHNwYW4gY2xhc3M9XCJtc2dcIi8+JykudGV4dCh0aGlzLm1lc3NhZ2UpLFxyXG4gICAgICAgICAgICBlbmNvZGVkICA9IGVsZW0uaHRtbCgpO1xyXG5cclxuICAgICAgICBpZih0aGlzLmlzU2xhc2hNZSlcclxuICAgICAgICAgICAgZWxlbS5hZGRDbGFzcygnZW1vdGUnKTtcclxuXHJcbiAgICAgICAgZm9yKHZhciBpPTA7IGk8ZGVzdGlueS5jaGF0Lmd1aS5mb3JtYXR0ZXJzLmxlbmd0aDsgKytpKVxyXG4gICAgICAgICAgICBlbmNvZGVkID0gZGVzdGlueS5jaGF0Lmd1aS5mb3JtYXR0ZXJzW2ldLmZvcm1hdChlbmNvZGVkLCB0aGlzLnVzZXIsIHRoaXMubWVzc2FnZSk7XHJcblxyXG4gICAgICAgIGVsZW0uaHRtbChlbmNvZGVkKTtcclxuICAgICAgICByZXR1cm4gZWxlbS5nZXQoMCkub3V0ZXJIVE1MO1xyXG4gICAgfTtcclxuICAgIENoYXRVc2VyTWVzc2FnZS5wcm90b3R5cGUuaHRtbCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcCh0aGlzLndyYXBUaW1lKCkgKyAnICcgKyAoKCF0aGlzLmlzU2xhc2hNZSkgPyAnJyA6ICcqJykgKyB0aGlzLndyYXBVc2VyKHRoaXMudXNlcikgKyAoKCF0aGlzLmlzU2xhc2hNZSkgPyAnOiAnIDogJyAnKSArIHRoaXMud3JhcE1lc3NhZ2UoKSk7XHJcbiAgICB9O1xyXG4gICAgQ2hhdFVzZXJNZXNzYWdlLnByb3RvdHlwZS5hZGRvbkh0bWwgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIGlmKHRoaXMuaXNTbGFzaE1lKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy53cmFwKHRoaXMud3JhcFRpbWUoKSArICcgKicgKyB0aGlzLndyYXBVc2VyKHRoaXMudXNlcikgKyAnICcgKyB0aGlzLndyYXBNZXNzYWdlKCkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLndyYXAodGhpcy53cmFwVGltZSgpICsgJyA8c3BhbiBjbGFzcz1cImNvbnRpbnVlXCI+Jmd0Ozwvc3Bhbj4gJyArIHRoaXMud3JhcE1lc3NhZ2UoKSwgJ2NvbnRpbnVlJyk7XHJcbiAgICB9O1xyXG4gICAgLy8gRU5EIFVTRVIgTUVTU0FHRVxyXG5cclxuICAgIC8vIFBSSVZBVEUgTUVTU0FHRVxyXG4gICAgQ2hhdFVzZXJQcml2YXRlTWVzc2FnZSA9IGZ1bmN0aW9uKGRhdGEsIHVzZXIsIG1lc3NhZ2VpZCwgdGltZXN0YW1wKXtcclxuICAgICAgICB0aGlzLmluaXQoZGF0YSwgdGltZXN0YW1wKTtcclxuICAgICAgICB0aGlzLnR5cGUgPSAndXNlcic7XHJcbiAgICAgICAgdGhpcy51c2VyID0gdXNlcjtcclxuICAgICAgICB0aGlzLm1lc3NhZ2VpZCA9IG1lc3NhZ2VpZDtcclxuICAgICAgICB0aGlzLnByZXBhcmVNZXNzYWdlKCk7XHJcbiAgICAgICAgdGhpcy5pc1NsYXNoTWUgPSBmYWxzZTsgLy8gbWFrZSBzdXJlIGEgcHJpdmF0ZSBtZXNzYWdlIGlzIG5ldmVyIHJlZm9ybWF0dGVkIHRvIC9tZVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgICQuZXh0ZW5kKENoYXRVc2VyUHJpdmF0ZU1lc3NhZ2UucHJvdG90eXBlLCBDaGF0VXNlck1lc3NhZ2UucHJvdG90eXBlKTtcclxuICAgIENoYXRVc2VyUHJpdmF0ZU1lc3NhZ2UucHJvdG90eXBlLndyYXAgPSBmdW5jdGlvbihodG1sLCBjc3MpIHtcclxuICAgICAgICByZXR1cm4gJycgK1xyXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cIicrdGhpcy50eXBlKyctbXNnJysoKGNzcykgPyAnICcrY3NzOicnKSsnIHByaXZhdGUtbWVzc2FnZVwiIGRhdGEtbWVzc2FnZWlkPVwiJyt0aGlzLm1lc3NhZ2VpZCsnXCIgZGF0YS11c2VybmFtZT1cIicrdGhpcy51c2VyLnVzZXJuYW1lLnRvTG93ZXJDYXNlKCkrJ1wiPicrXHJcbiAgICAgICAgICAgIGh0bWwrXHJcbiAgICAgICAgICAgICc8c3BhbiBjbGFzcz1cIm1lc3NhZ2UtYWN0aW9uc1wiPicrXHJcbiAgICAgICAgICAgICc8YSBocmVmPVwiI1wiIGNsYXNzPVwibWFyay1hcy1yZWFkXCI+TWFyayBhcyByZWFkIDxpIGNsYXNzPVwiZmEgZmEtY2hlY2stc3F1YXJlLW9cIj48L2k+PC9hPicrXHJcbiAgICAgICAgICAgICc8L3NwYW4+JytcclxuICAgICAgICAgICAgJzxpIGNsYXNzPVwic3BlZWNoLWFycm93XCI+PC9pPicrXHJcbiAgICAgICAgICAgICc8L2Rpdj4nO1xyXG4gICAgfTtcclxuICAgIENoYXRVc2VyUHJpdmF0ZU1lc3NhZ2UucHJvdG90eXBlLndyYXBVc2VyID0gZnVuY3Rpb24odXNlcil7XHJcbiAgICAgICAgcmV0dXJuICcgPGkgY2xhc3M9XCJpY29uLW1haWwtc2VuZFwiIHRpdGxlPVwiUmVjZWl2ZWQgTWVzc2FnZVwiPjwvaT4gPGEgY2xhc3M9XCJ1c2VyXCI+JyArdXNlci51c2VybmFtZSsnPC9hPic7XHJcbiAgICB9O1xyXG4gICAgLy8gRU5EIFBSSVZBVEUgTUVTU0FHRVxyXG5cclxuICAgIC8vIEVNT1RFIENPVU5UXHJcbiAgICBDaGF0RW1vdGVNZXNzYWdlID0gZnVuY3Rpb24oZW1vdGUsIHRpbWVzdGFtcCl7XHJcbiAgICAgICAgdGhpcy5pbml0KGVtb3RlLCB0aW1lc3RhbXApO1xyXG4gICAgICAgIHRoaXMuZW1vdGVjb3VudCA9IDE7XHJcbiAgICAgICAgdGhpcy5lbW90ZWNvdW50dWkgPSBudWxsO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgICQuZXh0ZW5kKENoYXRFbW90ZU1lc3NhZ2UucHJvdG90eXBlLCBDaGF0TWVzc2FnZS5wcm90b3R5cGUpO1xyXG4gICAgQ2hhdEVtb3RlTWVzc2FnZS5wcm90b3R5cGUuZ2V0RW1vdGVDb3VudExhYmVsID0gZnVuY3Rpb24oKXtcclxuICAgICAgICByZXR1cm4gXCI8aSBjbGFzcz0nY291bnQnPlwiICsgdGhpcy5lbW90ZWNvdW50ICsgXCI8L2k+PGkgY2xhc3M9J3gnPlg8L2k+IEMtQy1DLUNPTUJPXCI7XHJcbiAgICB9O1xyXG4gICAgQ2hhdEVtb3RlTWVzc2FnZS5wcm90b3R5cGUuaHRtbCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcCh0aGlzLndyYXBUaW1lKCkgKyAnICcgKyB0aGlzLndyYXBNZXNzYWdlKCkgKyAnPHNwYW4gY2xhc3M9XCJlbW90ZWNvdW50XCI+JysgdGhpcy5nZXRFbW90ZUNvdW50TGFiZWwoKSArJzxzcGFuPicpO1xyXG4gICAgfTtcclxuICAgIENoYXRFbW90ZU1lc3NhZ2UucHJvdG90eXBlLndyYXBNZXNzYWdlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgZWxlbSAgICAgPSAkKCc8c3BhbiBjbGFzcz1cIm1zZ1wiLz4nKS50ZXh0KHRoaXMubWVzc2FnZSksXHJcbiAgICAgICAgICAgIGVuY29kZWQgID0gZWxlbS5odG1sKCk7XHJcblxyXG4gICAgICAgIGZvcih2YXIgaT0wOyBpPGRlc3RpbnkuY2hhdC5ndWkuZm9ybWF0dGVycy5sZW5ndGg7ICsraSlcclxuICAgICAgICAgICAgZW5jb2RlZCA9IGRlc3RpbnkuY2hhdC5ndWkuZm9ybWF0dGVyc1tpXS5mb3JtYXQoZW5jb2RlZCwgbnVsbCwgdGhpcy5tZXNzYWdlKTtcclxuXHJcbiAgICAgICAgZWxlbS5odG1sKGVuY29kZWQpO1xyXG4gICAgICAgIHJldHVybiBlbGVtLmdldCgwKS5vdXRlckhUTUw7XHJcbiAgICB9O1xyXG4gICAgQ2hhdEVtb3RlTWVzc2FnZS5wcm90b3R5cGUuaW5jRW1vdGVDb3VudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgKyt0aGlzLmVtb3RlY291bnQ7XHJcblxyXG4gICAgICAgIHZhciBzdGVwQ2xhc3MgPSAnJztcclxuICAgICAgICBpZih0aGlzLmVtb3RlY291bnQgPj0gNTApXHJcbiAgICAgICAgICAgIHN0ZXBDbGFzcyA9ICcgeDUwJztcclxuICAgICAgICBlbHNlIGlmKHRoaXMuZW1vdGVjb3VudCA+PSAzMClcclxuICAgICAgICAgICAgc3RlcENsYXNzID0gJyB4MzAnO1xyXG4gICAgICAgIGVsc2UgaWYodGhpcy5lbW90ZWNvdW50ID49IDIwKVxyXG4gICAgICAgICAgICBzdGVwQ2xhc3MgPSAnIHgyMCc7XHJcbiAgICAgICAgZWxzZSBpZih0aGlzLmVtb3RlY291bnQgPj0gMTApXHJcbiAgICAgICAgICAgIHN0ZXBDbGFzcyA9ICcgeDEwJztcclxuICAgICAgICBlbHNlIGlmKHRoaXMuZW1vdGVjb3VudCA+PSA1KVxyXG4gICAgICAgICAgICBzdGVwQ2xhc3MgPSAnIHg1JztcclxuXHJcbiAgICAgICAgaWYodGhpcy5lbW90ZWNvdW50dWkgPT0gbnVsbClcclxuICAgICAgICAgICAgdGhpcy5lbW90ZWNvdW50dWkgPSB0aGlzLnVpLmZpbmQoJy5lbW90ZWNvdW50Jyk7XHJcblxyXG4gICAgICAgIHRoaXMuZW1vdGVjb3VudHVpLmRldGFjaCgpLmF0dHIoJ2NsYXNzJywgJ2Vtb3RlY291bnQnICsgc3RlcENsYXNzKS5odG1sKHRoaXMuZ2V0RW1vdGVDb3VudExhYmVsKCkpLmFwcGVuZFRvKHRoaXMudWkpO1xyXG4gICAgfTtcclxuICAgIC8vIEVORCBFTU9URSBDT1VOVFxyXG5cclxufSkoalF1ZXJ5KTtcclxuIl19
