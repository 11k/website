function chat(e){var t="https:"===location.protocol?"wss://":"ws://";this.server=t+e.options.host+"/ws",this.connected=!1,this.debug=!1,this.users={},this.ignorelist={},this.errorstrings={unknown:"Unknown error, this usually indicates an internal problem :(",nopermission:"You do not have the required permissions to use that",protocolerror:"Invalid or badly formatted",needlogin:"You have to be logged in to use that",invalidmsg:"The message was invalid",throttled:"Throttled! You were trying to send messages too fast",duplicate:"The message is identical to the last one you sent",muted:"You are muted (subscribing auto-removes mutes)",submode:"The channel is currently in subscriber only mode",needbanreason:"Providing a reason for the ban is mandatory",banned:"You have been banned (subscribing auto-removes non-permanent bans), disconnecting",requiresocket:"This chat requires WebSockets",toomanyconnections:"Only 5 concurrent connections allowed",socketerror:"Error contacting server",privmsgbanned:"Cannot send private messages while banned",privmsgaccounttooyoung:"Your account is too recent to send private messages",notfound:"The user was not found"},this.hints={hint:"Type in /hint for more hints",slashhelp:"Type in /help for more advanced features, like modifying the scrollback size",tabcompletion:"Use the tab key to auto-complete usernames and emotes (for user only completion prepend a @ or press shift)",hoveremotes:"Hovering your mouse over an emote will show you the emote code",highlight:"Chat messages containing your username will be highlighted",notify:"Use /msg <username> to send a private message to someone",ignoreuser:"Use /ignore <username> to hide messages from pesky chatters",emotewiki:"For the list of available emotes type /emotes or https://destiny.gg/emotes",mutespermanent:"Mutes are never persistent, don't worry it will pass!"},this.hintindex=[];for(var s in this.hints)this.hints.hasOwnProperty(s)&&this.hintindex.push(s);return this.user=new ChatUser(e.user),this.gui=new ChatGui(this,e.options),this.previousemote=null,this.originemote=null,this.showstarthint=!0,this}!function(e){var t=function(t,s){var i=this;if(!t||0==t.length||!t[0].setSelectionRange)return this;this.minWordLength=1,this.maxResults=10,this.buckets={},this.origVal=null,this.searchResults=[],this.searchIndex=-1,this.searchWord=null,this.input=e(t),this.expireUsers=e.proxy(this.expireUsers,this);for(var u=s.length-1;u>=0;u--)this.addEmote(s[u]);return setInterval(this.expireUsers,1e5),this.input.on({mousedown:function(){i.resetSearch()},keydown:function(e){if(9==e.keyCode){var t=e.shiftKey;return i.searchResults.length<=0&&(i.resetSearch(),i.searchSelectWord(t)),i.showAutoComplete(),!1}return i.resetSearch(),!0}}),this};t.prototype.getBucketId=function(e){return 0==e.length?"":e[0].toLowerCase()},t.prototype.addToBucket=function(e,t,s,i){if(this.input){var u=this.getBucketId(e);return this.buckets[u]||(this.buckets[u]={}),this.buckets[u][e]||(this.buckets[u][e]={data:e,weight:t,isemote:!!s,promoted:i}),this.buckets[u][e]}},t.prototype.addEmote=function(e){return this.addToBucket(e,1,!0,0),this},t.prototype.addNick=function(e){return this.addToBucket(e,1,!1,0),this},t.prototype.updateNick=function(e){if(this.input){var t=Date.now(),s=this.addToBucket(e,t,!1,0);return s.weight=t,this}},t.prototype.promoteNick=function(e){var t=Date.now(),s=this.addToBucket(e,1,!1,t);return s.isemote?this:(s.promoted=t,this)},t.prototype.getSearchWord=function(e,t){var s=e.substring(0,t),i=e.substring(t),u=s.lastIndexOf(" ")+1,n=i.indexOf(" "),r=!1;return u>0&&(s=s.substring(u)),n>-1&&(i=i.substring(0,n)),0===s.lastIndexOf("@")&&(u++,s=s.substring(1),r=!0),{word:s+i,startCaret:u,isUserSearch:r}},t.prototype.sortResults=function(e,t){return e&&t?e.promoted!=t.promoted?e.promoted>t.promoted?-1:1:e.isemote!=t.isemote?e.isemote&&!t.isemote?-1:1:e.weight!=t.weight?e.weight>t.weight?-1:1:(e=e.data.toLowerCase(),t=t.data.toLowerCase(),e==t?0:e>t?1:-1):0},t.prototype.searchBuckets=function(e,t,s){e=e.trim().replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var i=[],u=new RegExp("^"+e,"i"),n=this.buckets[this.getBucketId(e)]||{};for(var r in n)!n.hasOwnProperty(r)||s&&n[r].isemote||u.test(r)&&i.push(n[r]);return i.sort(this.sortResults),i.slice(0,t)},t.prototype.expireUsers=function(){var e=Date.now()-6e5;for(var t in this.buckets)if(this.buckets.hasOwnProperty(t))for(var s in this.buckets[t])if(this.buckets[t].hasOwnProperty(s)){var i=this.buckets[t][s];!i.isemote&&i.promoted<=e&&(i.promoted=0),!i.isemote&&i.weight<=e&&(i.weight=1)}},t.prototype.markLastComplete=function(){if(this.lastComplete){var e=this.buckets[this.getBucketId(this.lastComplete)]||{};if(!e[this.lastComplete])return this.lastComplete=null;if(e[this.lastComplete].isemote){for(var t in e)e.hasOwnProperty(t)&&(e[t].promoted=0);return this.lastComplete=null}this.promoteNick(this.lastComplete),this.lastComplete=null}},t.prototype.resetSearch=function(){this.origVal=null,this.searchResults=[],this.searchIndex=-1,this.searchWord=null},t.prototype.searchSelectWord=function(e){var t=this.getSearchWord(this.input.val(),this.input[0].selectionStart);if(t.word.length>=this.minWordLength){this.searchWord=t;var s=!!e||this.searchWord.isUserSearch;this.searchResults=this.searchBuckets(this.searchWord.word,this.maxResults,s),this.origVal=this.input.val()}},t.prototype.showAutoComplete=function(){this.searchIndex>=this.searchResults.length-1?this.searchIndex=0:this.searchIndex=this.searchIndex+1;var e=this.searchResults[this.searchIndex];if(e&&e.data!=this.searchWord.word){this.lastComplete=e.data;var t=this.origVal.substr(0,this.searchWord.startCaret),s=this.origVal.substr(this.searchWord.startCaret+this.searchWord.word.length);return" "==s[0]&&0!=s.length||(s=" "+s),this.input.focus().val(t+e.data+s),this.input[0].setSelectionRange(t.length+e.data.length+1,t.length+e.data.length+1),!0}},window.ChatAutoComplete=t}(jQuery),function(e){destiny.fn.GreenTextFormatter=function(e){return this},destiny.fn.GreenTextFormatter.prototype.format=function(e,t){return t&&0===e.indexOf("&gt;")&&t.hasAnyFeatures(destiny.UserFeatures.SUBSCRIBERT3,destiny.UserFeatures.SUBSCRIBERT4,destiny.UserFeatures.SUBSCRIBERT2,destiny.UserFeatures.ADMIN,destiny.UserFeatures.MODERATOR)&&(e='<span class="greentext">'+e+"</span>"),e},destiny.fn.EmoteFormatter=function(e){return this.emoteregex=new RegExp("(^|\\s)("+e.emoticons.join("|")+")(?=$|\\s)"),this.gemoteregex=new RegExp("(^|\\s)("+e.emoticons.join("|")+")(?=$|\\s)","gm"),this.twitchemoteregex=new RegExp("(^|\\s)("+e.emoticons.join("|")+"|"+e.twitchemotes.join("|")+")(?=$|\\s)","gm"),this},destiny.fn.EmoteFormatter.prototype.format=function(e,t){var s=this.emoteregex;return t&&t.features.length>0&&(s=t.hasFeature(destiny.UserFeatures.SUBSCRIBERT0)?this.twitchemoteregex:this.gemoteregex),e.replace(s,'$1<div title="$2" class="chat-emote chat-emote-$2">$2 </div>')},destiny.fn.MentionedUserFormatter=function(e){return this.users=e.engine.users,this.userregex=/((?:^|\s)@?)([a-zA-Z0-9_]{3,20})(?=$|\s|[\.\?!,])/g,this},destiny.fn.MentionedUserFormatter.prototype.format=function(e,t){var s=this.users;return e.replace(this.userregex,function(e,t,i){return s.propertyIsEnumerable(i)?t+'<span class="chat-user">'+i+"</span>":e})}}(jQuery),function(e){destiny.fn.UrlFormatter=function(t){var s={"p{L}":"\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC","p{N}":"\\u0030-\\u0039\\u00B2\\u00B3\\u00B9\\u00BC-\\u00BE\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u09F4-\\u09F9\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0B72-\\u0B77\\u0BE6-\\u0BF2\\u0C66-\\u0C6F\\u0C78-\\u0C7E\\u0CE6-\\u0CEF\\u0D66-\\u0D75\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F33\\u1040-\\u1049\\u1090-\\u1099\\u1369-\\u137C\\u16EE-\\u16F0\\u17E0-\\u17E9\\u17F0-\\u17F9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19DA\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\u2070\\u2074-\\u2079\\u2080-\\u2089\\u2150-\\u2182\\u2185-\\u2189\\u2460-\\u249B\\u24EA-\\u24FF\\u2776-\\u2793\\u2CFD\\u3007\\u3021-\\u3029\\u3038-\\u303A\\u3192-\\u3195\\u3220-\\u3229\\u3248-\\u324F\\u3251-\\u325F\\u3280-\\u3289\\u32B1-\\u32BF\\uA620-\\uA629\\uA6E6-\\uA6EF\\uA830-\\uA835\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19","p{Sc}":"\\u0024\\u00A2-\\u00A5\\u058F\\u060B\\u09F2\\u09F3\\u09FB\\u0AF1\\u0BF9\\u0E3F\\u17DB\\u20A0-\\u20B9\\uA838\\uFDFC\\uFE69\\uFF04\\uFFE0\\uFFE1\\uFFE5\\uFFE6","p{Sk}":"\\u005E\\u0060\\u00A8\\u00AF\\u00B4\\u00B8\\u02C2-\\u02C5\\u02D2-\\u02DF\\u02E5-\\u02EB\\u02ED\\u02EF-\\u02FF\\u0375\\u0384\\u0385\\u1FBD\\u1FBF-\\u1FC1\\u1FCD-\\u1FCF\\u1FDD-\\u1FDF\\u1FED-\\u1FEF\\u1FFD\\u1FFE\\u309B\\u309C\\uA700-\\uA716\\uA720\\uA721\\uA789\\uA78A\\uFBB2-\\uFBC1\\uFF3E\\uFF40\\uFFE3","p{So}":"\\u00A6\\u00A9\\u00AE\\u00B0\\u0482\\u060E\\u060F\\u06DE\\u06E9\\u06FD\\u06FE\\u07F6\\u09FA\\u0B70\\u0BF3-\\u0BF8\\u0BFA\\u0C7F\\u0D79\\u0F01-\\u0F03\\u0F13\\u0F15-\\u0F17\\u0F1A-\\u0F1F\\u0F34\\u0F36\\u0F38\\u0FBE-\\u0FC5\\u0FC7-\\u0FCC\\u0FCE\\u0FCF\\u0FD5-\\u0FD8\\u109E\\u109F\\u1390-\\u1399\\u1940\\u19DE-\\u19FF\\u1B61-\\u1B6A\\u1B74-\\u1B7C\\u2100\\u2101\\u2103-\\u2106\\u2108\\u2109\\u2114\\u2116\\u2117\\u211E-\\u2123\\u2125\\u2127\\u2129\\u212E\\u213A\\u213B\\u214A\\u214C\\u214D\\u214F\\u2195-\\u2199\\u219C-\\u219F\\u21A1\\u21A2\\u21A4\\u21A5\\u21A7-\\u21AD\\u21AF-\\u21CD\\u21D0\\u21D1\\u21D3\\u21D5-\\u21F3\\u2300-\\u2307\\u230C-\\u231F\\u2322-\\u2328\\u232B-\\u237B\\u237D-\\u239A\\u23B4-\\u23DB\\u23E2-\\u23F3\\u2400-\\u2426\\u2440-\\u244A\\u249C-\\u24E9\\u2500-\\u25B6\\u25B8-\\u25C0\\u25C2-\\u25F7\\u2600-\\u266E\\u2670-\\u26FF\\u2701-\\u2767\\u2794-\\u27BF\\u2800-\\u28FF\\u2B00-\\u2B2F\\u2B45\\u2B46\\u2B50-\\u2B59\\u2CE5-\\u2CEA\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3004\\u3012\\u3013\\u3020\\u3036\\u3037\\u303E\\u303F\\u3190\\u3191\\u3196-\\u319F\\u31C0-\\u31E3\\u3200-\\u321E\\u322A-\\u3247\\u3250\\u3260-\\u327F\\u328A-\\u32B0\\u32C0-\\u32FE\\u3300-\\u33FF\\u4DC0-\\u4DFF\\uA490-\\uA4C6\\uA828-\\uA82B\\uA836\\uA837\\uA839\\uAA77-\\uAA79\\uFDFD\\uFFE4\\uFFE8\\uFFED\\uFFEE\\uFFFC\\uFFFD"},i=s["p{L}"],u=s["p{N}"],n=i+u,r=n+"/\\-+=_&~*%@|#.,:;'?!"+s["p{Sc}"]+s["p{Sk}"]+s["p{So}"],o=n+"/\\-+=_&~*%;"+s["p{Sc}"],a="(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])",h="(?:\\b"+a+"\\."+a+"\\."+a+"\\."+a+"\\b)",c="["+n+"](?:["+n+"\\-]*["+n+"])?",A="(?:"+c+"\\.)+",l="(?:NORTHWESTERNMUTUAL|TRAVELERSINSURANCE|AMERICANEXPRESS|KERRYPROPERTIES|SANDVIKCOROMANT|AFAMILYCOMPANY|AMERICANFAMILY|BANANAREPUBLIC|CANCERRESEARCH|COOKINGCHANNEL|KERRYLOGISTICS|WEATHERCHANNEL|INTERNATIONAL|LIFEINSURANCE|ORIENTEXPRESS|SPREADBETTING|TRAVELCHANNEL|WOLTERSKLUWER|CONSTRUCTION|LPLFINANCIAL|PAMPEREDCHEF|SCHOLARSHIPS|VERSICHERUNG|ACCOUNTANTS|BARCLAYCARD|BLACKFRIDAY|BLOCKBUSTER|BRIDGESTONE|CALVINKLEIN|CONTRACTORS|CREDITUNION|ENGINEERING|ENTERPRISES|FOODNETWORK|INVESTMENTS|KERRYHOTELS|LAMBORGHINI|MOTORCYCLES|OLAYANGROUP|PHOTOGRAPHY|PLAYSTATION|PRODUCTIONS|PROGRESSIVE|REDUMBRELLA|RIGHTATHOME|WILLIAMHILL|ACCOUNTANT|APARTMENTS|ASSOCIATES|BNPPARIBAS|BOEHRINGER|CAPITALONE|CONSULTING|CREDITCARD|CUISINELLA|EUROVISION|EXTRASPACE|FOUNDATION|HEALTHCARE|IMMOBILIEN|INDUSTRIES|MANAGEMENT|MITSUBISHI|NATIONWIDE|NEXTDIRECT|ONYOURSIDE|PROPERTIES|PROTECTION|PRUDENTIAL|REALESTATE|REPUBLICAN|RESTAURANT|SCHAEFFLER|SWIFTCOVER|TATAMOTORS|TECHNOLOGY|TELEFONICA|UNIVERSITY|VISTAPRINT|VLAANDEREN|VOLKSWAGEN|ACCENTURE|ALFAROMEO|ALLFINANZ|AMSTERDAM|ANALYTICS|AQUARELLE|BARCELONA|BLOOMBERG|CHRISTMAS|COMMUNITY|DIRECTORY|EDUCATION|EQUIPMENT|FAIRWINDS|FINANCIAL|FIRESTONE|FRESENIUS|FRONTDOOR|FUJIXEROX|FURNITURE|GOLDPOINT|GOODHANDS|HISAMITSU|HOMEDEPOT|HOMEGOODS|HOMESENSE|HONEYWELL|INSTITUTE|INSURANCE|KUOKGROUP|LADBROKES|LANCASTER|LANDROVER|LIFESTYLE|MARKETING|MARSHALLS|MCDONALDS|MELBOURNE|MICROSOFT|MONTBLANC|PANASONIC|PASSAGENS|PRAMERICA|RICHARDLI|SCJOHNSON|SHANGRILA|SOLUTIONS|STATEBANK|STATEFARM|STOCKHOLM|TRAVELERS|VACATIONS|YODOBASHI|ABUDHABI|AIRFORCE|ALLSTATE|ATTORNEY|BARCLAYS|BAREFOOT|BARGAINS|BOUTIQUE|BRADESCO|BROADWAY|BRUSSELS|BUDAPEST|BUILDERS|BUSINESS|CAPETOWN|CATERING|CHRYSLER|CIPRIANI|CITYEATS|CLEANING|CLINIQUE|CLOTHING|COMMBANK|COMPUTER|DELIVERY|DELOITTE|DEMOCRAT|DIAMONDS|DISCOUNT|DISCOVER|DOWNLOAD|ENGINEER|ERICSSON|ESURANCE|EVERBANK|EXCHANGE|FEEDBACK|FIDELITY|FIRMDALE|FOOTBALL|FRONTIER|GOODYEAR|GRAINGER|GRAPHICS|GUARDIAN|HDFCBANK|HELSINKI|HOLDINGS|INFINITI|IPIRANGA|ISTANBUL|JPMORGAN|LIGHTING|LUNDBECK|MARRIOTT|MASERATI|MCKINSEY|MEMORIAL|MORTGAGE|MOVISTAR|MUTUELLE|OBSERVER|PARTNERS|PHARMACY|PICTURES|PLUMBING|PROPERTY|REDSTONE|SAARLAND|SAMSCLUB|SECURITY|SERVICES|SHOPPING|SHOWTIME|SOFTBANK|SOFTWARE|STCGROUP|SUPPLIES|SYMANTEC|TELECITY|TRAINING|UCONNECT|VANGUARD|VENTURES|VERISIGN|WOODSIDE|YOKOHAMA|ABOGADO|ACADEMY|AGAKHAN|ALIBABA|ANDROID|ATHLETA|AUCTION|AUDIBLE|AUSPOST|AVIANCA|BANAMEX|BAUHAUS|BENTLEY|BESTBUY|BOOKING|BROTHER|BUGATTI|CAPITAL|CARAVAN|CAREERS|CARTIER|CHANNEL|CHINTAI|CITADEL|CLUBMED|COLLEGE|COLOGNE|COMCAST|COMPANY|COMPARE|CONTACT|COOKING|CORSICA|COUNTRY|COUPONS|COURSES|CRICKET|CRUISES|DENTIST|DIGITAL|DOMAINS|EXPOSED|EXPRESS|FARMERS|FASHION|FERRARI|FERRERO|FINANCE|FISHING|FITNESS|FLIGHTS|FLORIST|FLOWERS|FORSALE|FROGANS|FUJITSU|GALLERY|GENTING|GODADDY|GUITARS|HAMBURG|HANGOUT|HITACHI|HOLIDAY|HOSTING|HOTELES|HOTMAIL|HYUNDAI|ISELECT|ISMAILI|JEWELRY|JUNIPER|KITCHEN|KOMATSU|LACAIXA|LANCOME|LANXESS|LASALLE|LATROBE|LECLERC|LIAISON|LIMITED|LINCOLN|MARKETS|METLIFE|MONSTER|NETBANK|NETFLIX|NETWORK|NEUSTAR|OKINAWA|OLDNAVY|ORGANIC|ORIGINS|PANERAI|PHILIPS|PIONEER|POLITIE|REALTOR|RECIPES|RENTALS|REVIEWS|REXROTH|SAMSUNG|SANDVIK|SCHMIDT|SCHWARZ|SCIENCE|SHIKSHA|SHRIRAM|SINGLES|SPIEGEL|STAPLES|STARHUB|STATOIL|STORAGE|SUPPORT|SURGERY|SYSTEMS|TEMASEK|THEATER|THEATRE|TICKETS|TIFFANY|TOSHIBA|TRADING|WALMART|WANGGOU|WATCHES|WEATHER|WEBSITE|WEDDING|WHOSWHO|WINDOWS|WINNERS|XFINITY|YAMAXUN|YOUTUBE|ZUERICH|ABARTH|ABBOTT|ABBVIE|ACTIVE|AGENCY|AIRBUS|AIRTEL|ALIPAY|ALSACE|ALSTOM|ANQUAN|ARAMCO|AUTHOR|BAYERN|BEAUTY|BERLIN|BHARTI|BLANCO|BOSTIK|BROKER|CAMERA|CAREER|CASINO|CENTER|CHANEL|CHROME|CHURCH|CIRCLE|CLAIMS|CLINIC|COFFEE|COMSEC|CONDOS|COUPON|CREDIT|DATING|DATSUN|DEALER|DEGREE|DENTAL|DESIGN|DIRECT|DOCTOR|DUNLOP|DUPONT|DURBAN|EMERCK|ENERGY|ESTATE|EVENTS|EXPERT|FAMILY|FLICKR|FUTBOL|GALLUP|GARDEN|GEORGE|GIVING|GLOBAL|GOOGLE|GRATIS|HEALTH|HERMES|HIPHOP|HOCKEY|HUGHES|IMAMAT|INSURE|INTUIT|JAGUAR|JOBURG|JUEGOS|KAUFEN|KINDER|KINDLE|KOSHER|LANCIA|LATINO|LAWYER|LEFRAK|LIVING|LOCKER|LONDON|LUXURY|MADRID|MAISON|MAKEUP|MARKET|MATTEL|MOBILY|MONASH|MORMON|MOSCOW|MUSEUM|MUTUAL|NAGOYA|NATURA|NISSAN|NISSAY|NORTON|NOWRUZ|OFFICE|OLAYAN|ONLINE|ORACLE|ORANGE|OTSUKA|PFIZER|PHOTOS|PHYSIO|PIAGET|PICTET|QUEBEC|RACING|REALTY|REISEN|REPAIR|REPORT|REVIEW|ROCHER|ROGERS|RYUKYU|SAFETY|SAKURA|SANOFI|SCHOOL|SCHULE|SECURE|SELECT|SHOUJI|SOCCER|SOCIAL|STREAM|STUDIO|SUPPLY|SUZUKI|SWATCH|SYDNEY|TAIPEI|TAOBAO|TARGET|TATTOO|TENNIS|TIENDA|TJMAXX|TKMAXX|TOYOTA|TRAVEL|UNICOM|VIAJES|VIKING|VILLAS|VIRGIN|VISION|VOTING|VOYAGE|VUELOS|WALTER|WARMAN|WEBCAM|XIHUAN|XPERIA|YACHTS|YANDEX|ZAPPOS|ACTOR|ADULT|AETNA|AMFAM|AMICA|APPLE|ARCHI|AUDIO|AUTOS|AZURE|BAIDU|BEATS|BIBLE|BINGO|BLACK|BOATS|BOOTS|BOSCH|BUILD|CANON|CARDS|CHASE|CHEAP|CHLOE|CISCO|CITIC|CLICK|CLOUD|COACH|CODES|CROWN|CYMRU|DABUR|DANCE|DEALS|DELTA|DODGE|DRIVE|DUBAI|EARTH|EDEKA|EMAIL|EPOST|EPSON|FAITH|FEDEX|FINAL|FOREX|FORUM|GALLO|GAMES|GIFTS|GIVES|GLADE|GLASS|GLOBO|GMAIL|GREEN|GRIPE|GROUP|GUCCI|GUIDE|HOMES|HONDA|HORSE|HOUSE|HYATT|IINET|IKANO|INTEL|IRISH|JETZT|KOELN|KYOTO|LAMER|LEASE|LEGAL|LEXUS|LILLY|LINDE|LIPSY|LIXIL|LOANS|LOCUS|LOTTE|LOTTO|LUPIN|MACYS|MANGO|MEDIA|MIAMI|MONEY|MOPAR|MOVIE|NADEX|NEXUS|NIKON|NINJA|NOKIA|NOWTV|OMEGA|OSAKA|PARIS|PARTS|PARTY|PHOTO|PIZZA|PLACE|POKER|PRAXI|PRESS|PRIME|PROMO|QUEST|RADIO|REHAB|REISE|RICOH|ROCKS|RODEO|SALON|SENER|SEVEN|SHARP|SHELL|SHOES|SKYPE|SLING|SMART|SMILE|SOLAR|SPACE|STADA|STORE|STUDY|STYLE|SUCKS|SWISS|TATAR|TIRES|TIROL|TMALL|TODAY|TOKYO|TOOLS|TORAY|TOTAL|TOURS|TRADE|TRUST|TUNES|TUSHU|UBANK|VEGAS|VIDEO|VISTA|VODKA|WALES|WATCH|WEBER|WEIBO|WORKS|WORLD|XEROX|YAHOO|ZIPPO|local|onion|AARP|ABLE|ADAC|AERO|AIGO|AKDN|ALLY|AMEX|ARMY|ARPA|ARTE|ASDA|ASIA|AUDI|AUTO|BABY|BAND|BANK|BBVA|BEER|BEST|BIKE|BING|BLOG|BLUE|BOFA|BOND|BOOK|BUZZ|CAFE|CALL|CAMP|CARE|CARS|CASA|CASH|CBRE|CERN|CHAT|CITI|CITY|CLUB|COOL|COOP|CYOU|DATE|DCLK|DEAL|DELL|DESI|DIET|DISH|DOCS|DOHA|DUCK|DUNS|DVAG|ERNI|FAGE|FAIL|FANS|FARM|FAST|FIAT|FIDO|FILM|FIRE|FISH|FLIR|FORD|FUND|GAME|GBIZ|GENT|GGEE|GIFT|GMBH|GOLD|GOLF|GOOG|GUGE|GURU|HAUS|HDFC|HELP|HERE|HGTV|HOST|HSBC|ICBC|IEEE|IMDB|IMMO|INFO|ITAU|JAVA|JEEP|JOBS|JPRS|KDDI|KIWI|KPMG|KRED|LAND|LEGO|LGBT|LIDL|LIFE|LIKE|LIMO|LINK|LIVE|LOAN|LOFT|LOVE|LTDA|LUXE|MAIF|MEET|MEME|MENU|MINI|MINT|MOBI|MODA|MTPC|NAME|NAVY|NEWS|NEXT|NICO|NIKE|OLLO|OPEN|PAGE|PARS|PCCW|PICS|PING|PINK|PLAY|PLUS|POHL|PORN|POST|PROD|PROF|QPON|RAID|READ|REIT|RENT|REST|RICH|ROOM|RSVP|RUHR|SAFE|SALE|SAPO|SARL|SAVE|SAXO|SCOR|SCOT|SEAT|SEEK|SEXY|SHAW|SHIA|SHOP|SHOW|SILK|SINA|SITE|SKIN|SNCF|SOHU|SONG|SONY|SPOT|STAR|SURF|TALK|TAXI|TEAM|TECH|TEVA|TIAA|TIPS|TOWN|TOYS|TUBE|VANA|VISA|VIVA|VIVO|VOTE|VOTO|WANG|WEIR|WIEN|WIKI|WINE|WORK|XBOX|YOGA|ZARA|ZERO|ZONE|exit|zkey|AAA|ABB|ABC|ACO|ADS|AEG|AFL|AIG|ANZ|APP|ART|AWS|AXA|BAR|BBC|BBT|BCG|BCN|BET|BID|BIO|BIZ|BMS|BMW|BNL|BOM|BOO|BOT|BUY|BZH|CAB|CAL|CAM|CAR|CAT|CBA|CBN|CBS|CEB|CEO|CFA|CFD|COM|CRS|CSC|DAD|DAY|DDS|DEV|DHL|DIY|DNP|DOG|DOT|DTV|DVR|EAT|ECO|EDU|ESQ|EUS|FAN|FIT|FLY|FOO|FOX|FRL|FTR|FYI|GAL|GAP|GDN|GEA|GLE|GMO|GMX|GOO|GOP|GOT|GOV|HBO|HIV|HKT|HOT|HOW|HTC|IBM|ICE|ICU|IFM|ING|INK|INT|IST|ITV|IWC|JCB|JCP|JLC|JLL|JMP|JNJ|JOT|JOY|KFH|KIA|KIM|KPN|KRD|LAT|LAW|LDS|LOL|LPL|LTD|MAN|MBA|MCD|MED|MEN|MEO|MIL|MIT|MLB|MLS|MMA|MOE|MOI|MOM|MOV|MSD|MTN|MTR|NAB|NBA|NEC|NET|NEW|NFL|NGO|NHK|NOW|NRA|NRW|NTT|NYC|OBI|OFF|ONE|ONG|ONL|OOO|ORG|OTT|OVH|PAY|PET|PID|PIN|PNC|PRO|PRU|PUB|PWC|QVC|RED|REN|RIO|RIP|RUN|RWE|SAP|SAS|SBI|SBS|SCA|SCB|SES|SEW|SEX|SFR|SKI|SKY|SOY|SRL|SRT|STC|TAB|TAX|TCI|TDK|TEL|THD|TJX|TOP|TRV|TUI|TVS|UBS|UNO|UOL|UPS|VET|VIG|VIN|VIP|WED|WIN|WME|WOW|WTC|WTF|XIN|XXX|XYZ|YOU|YUN|ZIP|bit|gnu|i2p|AC|AD|AE|AF|AG|AI|AL|AM|AO|AQ|AR|AS|AT|AU|AW|AX|AZ|BA|BB|BD|BE|BF|BG|BH|BI|BJ|BM|BN|BO|BR|BS|BT|BV|BW|BY|BZ|CA|CC|CD|CF|CG|CH|CI|CK|CL|CM|CN|CO|CR|CU|CV|CW|CX|CY|CZ|DE|DJ|DK|DM|DO|DZ|EC|EE|EG|ER|ES|ET|EU|FI|FJ|FK|FM|FO|FR|GA|GB|GD|GE|GF|GG|GH|GI|GL|GM|GN|GP|GQ|GR|GS|GT|GU|GW|GY|HK|HM|HN|HR|HT|HU|ID|IE|IL|IM|IN|IO|IQ|IR|IS|IT|JE|JM|JO|JP|KE|KG|KH|KI|KM|KN|KP|KR|KW|KY|KZ|LA|LB|LC|LI|LK|LR|LS|LT|LU|LV|LY|MA|MC|MD|ME|MG|MH|MK|ML|MM|MN|MO|MP|MQ|MR|MS|MT|MU|MV|MW|MX|MY|MZ|NA|NC|NE|NF|NG|NI|NL|NO|NP|NR|NU|NZ|OM|PA|PE|PF|PG|PH|PK|PL|PM|PN|PR|PS|PT|PW|PY|QA|RE|RO|RS|RU|RW|SA|SB|SC|SD|SE|SG|SH|SI|SJ|SK|SL|SM|SN|SO|SR|ST|SU|SV|SX|SY|SZ|TC|TD|TF|TG|TH|TJ|TK|TL|TM|TN|TO|TR|TT|TV|TW|TZ|UA|UG|UK|US|UY|UZ|VA|VC|VE|VG|VI|VN|VU|WF|WS|YE|YT|ZA|ZM|ZW)",E="(?:"+A+l+"|"+h+")",g="\\[["+r+"]*(?:\\[["+r+"]*\\]["+r+"]*)*\\]",C="\\(["+r+"]*(?:\\(["+r+"]*\\)["+r+"]*)*\\)",p=C+"|"+g,d="(?:["+r+"]*(?:"+p+"|["+o+"])+)+",m="(?:"+d+"|/|\\b|$)",S="(?::[0-9]+)?",f="(?:"+E+S+"/"+m+")|(?:"+E+S+"(?:\\b|$))",I="(https?|ftp)://",F="\\b"+I+d,T=F+"|"+f;return this.linkregex=new RegExp(T,"gi"),this._elem=e("<div/>"),this},destiny.fn.UrlFormatter.prototype.encodeUrl=function(e){return e.replace(/&/g,"&amp;").replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,function(e){var t=e.charCodeAt(0),s=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(s-56320)+65536)+";"}).replace(/([^\#-~| |!])/g,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")},destiny.fn.UrlFormatter.prototype.format=function(e){if(e){var t=this,s="";return/\b(?:NSFL)\b/i.test(e)?s=" nsfl-link":/\b(?:NSFW|SPOILER)\b/i.test(e)&&(s=" nsfw-link"),e.replace(t.linkregex,function(e,i){i=i?"":"http://";var u=t._elem.html(e).text(),n=u.match(t.linkregex);if(!n)return e;e=t.encodeUrl(n[0]);var r=t.encodeUrl(u.substring(n[0].length));return'<a target="_blank" class="externallink'+s+'" href="'+i+e+'" rel="nofollow">'+e+"</a>"+r})}}}(jQuery),ChatMenu=function(){function e(e,s){var i=null;this.ui=e,this.chat=s,this.btn=null,this.visible=!1,this.shown=!1,this.on=function(e,t){$(this).on(e,t)},this.show=function(e){this.visible||(this.shown||$(this).triggerHandler("init"),this.visible=!0,this.shown=!0,this.btn=e,$(this.btn).addClass("active"),$(this.ui).addClass("active"),$(this).triggerHandler("show"),$(this.ui).find(".scrollable").each(function(){i?i.reset():i=$(this).nanoScroller({disableResize:!0,preventPageScrolling:!0})[0].nanoscroller}))},this.hide=function(){this.visible&&(this.visible=!1,$(this.btn).removeClass("active"),$(this.ui).removeClass("active"),$(this).triggerHandler("hide"))},this.toggle=function(e){var t=this.visible;ChatMenu.closeMenus(null),t||this.show(e)},this.redraw=function(){i&&i.reset()},this.ui.on("click",".close",this.hide.bind(this)),t.push(this)}var t=[];return e.closeMenus=function(){for(var e=0;e<t.length;++e)t[e].hide()},e}(),function(e){ChatGui=function(t,s){return this.ui=e("#destinychat"),this.engine=t,e.extend(this,s),this.init()},e.extend(ChatGui.prototype,{loaded:!1,maxlines:500,scrollPlugin:null,autoCompletePlugin:null,ui:null,lines:null,output:null,input:null,userMessages:[],focusedUsers:[],inputhistory:[],currenthistoryline:-1,storedinputline:null,backlog:[],backlogLoading:!1,highlightregex:{},lastMessage:null,emoticons:[],twitchemotes:[],formatters:[],pmcountnum:0,pmcount:null,stylesheet:null,preferences:{showtime:{value:!1,default:!1},hideflairicons:{value:!1,default:!1},timestampformat:{value:"HH:mm",default:"HH:mm"},maxlines:{value:500,default:500},allowNotifications:{value:!1,default:!1},highlight:{value:!0,default:!0},customhighlight:{value:[],default:[]},highlightnicks:{value:{},default:{}}},trigger:function(t,s){e(this).trigger(t,s)},on:function(t,s){e(this).on(t,s)},init:function(){var t=this;this.pmcount=this.ui.find("#chat-pm-count:first").eq(0),this.lines=this.ui.find("#chat-lines:first").eq(0),this.output=this.ui.find("#chat-output:first").eq(0),this.input=this.ui.find("#chat-input .input:first").eq(0),this.stylesheet=e("#chat-styles")[0].sheet,this.formatters.push(new destiny.fn.UrlFormatter(this)),this.formatters.push(new destiny.fn.EmoteFormatter(this)),this.formatters.push(new destiny.fn.MentionedUserFormatter(this)),this.formatters.push(new destiny.fn.GreenTextFormatter(this)),this.preferences.maxlines.value=this.maxlines,this.preferences.maxlines.default=this.maxlines,this.scrollPlugin=this.output.nanoScroller({disableResize:!0,preventPageScrolling:!0,sliderMinHeight:40,tabIndex:1})[0].nanoscroller,this.scrollPlugin.isScrolledToBottom=function(){return this.contentScrollTop>=this.maxScrollTop-30},this.scrollPlugin.updateAndScroll=function(e){this.isActive&&(this.reset(),e&&this.scrollBottom(0))},this.loadPreferences(),this.loadHighlighters(),this.loadInputHistory(),this.autoCompletePlugin=new ChatAutoComplete(this.input,this.emoticons.concat(this.twitchemotes));var s=this.ui.find("#chat-settings:first").eq(0),i=new ChatMenu(s,t),u=this.ui.find("#chat-settings-notification-permissions"),n=function(){u.text("(Permission "+("default"===Notification.permission?"required":Notification.permission)+")")};s.on("keypress blur","input[name=customhighlight]",function(s){var i=s.keyCode?s.keyCode:s.which;if(!i||13==i){for(var u=e(this).val().trim().split(","),n=u.length-1;n>=0;n--)u[n]=u[n].trim(),u[n]||u.splice(n,1);return t.setPreference("customhighlight",u),t.loadHighlighters(),!1}}),s.on("change",'input[type="checkbox"]',function(){var s=e(this).attr("name"),i=e(this).is(":checked");switch(s){case"showtime":t.setPreference(s,i),t.scrollPlugin.updateAndScroll(t.scrollPlugin.isScrolledToBottom());break;case"hideflairicons":t.setPreference(s,i),t.scrollPlugin.updateAndScroll(t.scrollPlugin.isScrolledToBottom());break;case"highlight":t.setPreference(s,i);break;case"allowNotifications":i?t.notificationPermission().then(function(){n(),t.setPreference(s,!0)},function(){n(),t.setPreference(s,!1)}):t.setPreference(s,!1)}}),i.on("show",function(){s.find("input[name=customhighlight]").val(t.getPreference("customhighlight").join(", ")),s.find('input[type="checkbox"]').each(function(){var s=e(this).attr("name");e(this).prop("checked",t.getPreference(s))}),"granted"!==Notification.permission&&s.find('input[name="allowNotifications"]').prop("checked",!1),n()});var r=this.ui.find("#chat-emote-list:first").eq(0),o=new ChatMenu(r,t);o.on("init",function(){for(var s=r.find("#destiny-emotes"),i=r.find("#twitch-emotes"),u=0;u<t.emoticons.length;u++)s.append('<div class="emote"><span title="'+t.emoticons[u]+'" class="chat-emote chat-emote-'+t.emoticons[u]+'">'+t.emoticons[u]+"</span></div>");for(var n=0;n<t.twitchemotes.length;n++)i.append('<div class="emote"><span title="'+t.twitchemotes[n]+'" class="chat-emote chat-emote-'+t.twitchemotes[n]+'">'+t.twitchemotes[n]+"</span></div>");r.on("click",".chat-emote",function(s){var i=t.input.val().trim();return t.input.val(i+(""==i?"":" ")+e(this).text()+" "),t.input.focus(),!1})});var a=this.ui.find("#chat-pm-notification:first").eq(0),h=new ChatMenu(a,t);a.on("click",".user-list-link",function(e){return ChatMenu.closeMenus(t),A.show(h.btn),!1}),a.on("click","#markread-privmsg",function(s){return t.setUnreadMessageCount(0),ChatMenu.closeMenus(t),e.ajax({type:"POST",url:"/profile/messages/openall"}),!1}),a.on("click","#inbox-privmsg",function(e){t.setUnreadMessageCount(0),ChatMenu.closeMenus(t)});var c=this.ui.find("#chat-user-list:first").eq(0),A=new ChatMenu(c,t);A.groups=c.find("#chat-groups"),A.clearAll=function(){A.groups.find("li").remove()},A.sortByName=function(e,t){try{return e.firstChild.getAttribute("data-username").localeCompare(t.firstChild.getAttribute("data-username"))}catch(e){}},A.sortUsers=function(){A.groups.children().each(function(){var t=e(this).find("li").get();t.sort(A.sortByName);for(var s=0;s<t.length;s++)t[s].parentNode.appendChild(t[s])})},c.on("click",".user",function(){t.toggleUserFocus(this.textContent)}),c.each(function(){var s=c.find("h5 span"),i=A.groups,u=e('<ul id="chat-group1">').appendTo(i),n=e('<ul id="chat-group2">').appendTo(i),r=e('<ul id="chat-group3">').appendTo(i),o=e('<ul id="chat-group4">').appendTo(i),a=e('<ul id="chat-group5">').appendTo(i),h=function(){var e=Object.keys(t.engine.users).length;return s.text(e),e},l=function(e){return c.find('a[data-username="'+e+'"]').length>0},E=function(e){return c.find('a[data-username="'+e+'"]').closest("li").remove()},g=function(e){var s=t.engine.users[e],i='<li><a data-username="'+s.username+'" class="user '+s.features.join(" ")+'">'+s.username+"</a></li>";s.hasFeature(destiny.UserFeatures.BOT)||s.hasFeature(destiny.UserFeatures.BOT2)?a.append(i):s.hasFeature(destiny.UserFeatures.ADMIN)||s.hasFeature(destiny.UserFeatures.VIP)?u.append(i):s.hasFeature(destiny.UserFeatures.BROADCASTER)?n.append(i):s.hasFeature(destiny.UserFeatures.SUBSCRIBER)?r.append(i):o.append(i)};t.on("join",function(e,t){A.visible&&!l(t.nick)&&(g(t.nick),h(),A.sortUsers(),A.redraw())}),t.on("quit",function(e,t){A.visible&&l(t.nick)&&(E(t.nick),h(),A.redraw())}),A.on("show",function(){A.clearAll(),h();for(var e in t.engine.users)t.engine.users.hasOwnProperty(e)&&g(e);A.sortUsers(),A.redraw()})}),this.ui.find("#chat-users-btn").on("click",function(e){return t.pmcountnum>0?h.toggle(this):A.toggle(this),
!1}),this.ui.find("#chat-settings-btn").on("click",function(e){return i.toggle(this),!1}),this.ui.find("#emoticon-btn").on("click",function(e){return o.toggle(this),!1}),this.lines.on("mousedown",".user-msg a.user",function(s){var i=e(this).closest(".user-msg").data("username");return t.toggleUserFocus(i),!1}),this.lines.on("mousedown",".user-msg .chat-user",function(s){var i=e(this).closest(".user-msg").data("username"),u=this.textContent.toLowerCase();return t.addUserFocus(i),t.toggleUserFocus(u),!1}),this.ui.on("submit","form#chat-input",function(e){return t.send(),!1}),this.input.on("keydown mousedown",e.proxy(function(){ChatMenu.closeMenus(this)},this)),this.output.on("mousedown",e.proxy(function(){ChatMenu.closeMenus(this),t.clearUserFocus()},this));var l=t.ui.find("#chat-scroll-notify");l.on("click",function(){t.scrollPlugin.updateAndScroll(!0)}),t.output.debounce("scrolled",function(){l.toggle(!t.scrollPlugin.isScrolledToBottom())},100),t.output.debounce("scrollend",function(){l.hide()},100);var E=t.scrollPlugin.updateScrollValues;t.scrollPlugin.updateScrollValues=function(){E.call(this,arguments),t.output.trigger("scrolled")},this.ui.find('#chat-login-msg a[href="/login"]').on("click",function(t){try{window.self!==window.top?window.parent.location.href=e(this).attr("href")+"?follow="+encodeURIComponent(window.parent.location.pathname):window.location.href=e(this).attr("href")+"?follow="+encodeURIComponent(window.location.pathname)}catch(e){}return!1});var g,C;return this.lines.on("click mousedown keydown",function(e){var s=e.clientX+"-"+e.clientY;switch(e.type){case"click":if(g!==s)return;C=setTimeout(function(){t.input.focus()},500);break;case"mousedown":g=s;break;case"keydown":C&&(clearTimeout(C),C=0)}}),this.lines.on("click",".mark-as-read",function(s){var i=e(this).closest(".private-message"),u=i.data("message"),n=u.ui.find(".icon-mail-send"),r=u.ui.find(".message-actions");return e.ajax({type:"POST",url:"/profile/messages/"+encodeURIComponent(u.messageid)+"/open",complete:function(e){n.attr("class","icon-mail-open-document"),r.remove(),t.setUnreadMessageCount(e.unread)}}),!1}),e(window).on({"resize.chat":function(){t.resize()},"focus.chat":function(){t.input.focus()},"load.chat":function(){t.input.focus(),t.loaded=!0}}),this},addUserFocusRule:function(e){this.stylesheet.insertRule('.user-msg[data-username="'+e+'"]{opacity:1 !important;}',this.focusedUsers.length),this.focusedUsers.push(e),this.ui.toggleClass("focus-user",this.focusedUsers.length>0)},removeUserFocusRule:function(e,t){this.stylesheet.deleteRule(t),this.focusedUsers.splice(t,1),this.ui.toggleClass("focus-user",this.focusedUsers.length>0)},clearUserFocus:function(){for(var e=this.focusedUsers.length-1;e>=0;--e)this.removeUserFocusRule(this.focusedUsers[e],e);this.ui.toggleClass("focus-user",!1)},addUserFocus:function(e){e&&this.focusedUsers.indexOf(e)===-1&&this.addUserFocusRule(e)},removeUserFocus:function(e){if(e){e=e.toLowerCase();var t=this.focusedUsers.indexOf(e);t!==-1&&this.removeUserFocusRule(e,t)}},toggleUserFocus:function(e){if(e){e=e.toLowerCase();var t=this.focusedUsers.indexOf(e);t===-1?this.addUserFocus(e):this.removeUserFocus(e,t)}},loadBacklog:function(){if(this.backlogLoading=!0,0==this.backlog.length)return void(this.backlogLoading=!1);for(var e=0,t=this.backlog.length;e<t;e++)this.engine.dispatchBacklog(this.backlog[e]);this.put(new ChatUIMessage("<hr/>")),this.scrollPlugin.updateAndScroll(!0),this.backlogLoading=!1},put:function(t,s){return t instanceof ChatUserMessage?(this.lastMessage&&this.lastMessage.user&&t.user&&this.lastMessage.user.username==t.user.username?t.ui=e(t.addonHtml()):t.ui=e(t.html()),t.user&&this.engine.user&&this.engine.user.username==t.user.username&&t.ui.addClass("own-msg")):t.ui=e(t.html()),t.ui.data("message",t),t.ui.appendTo(this.lines),void 0!=s&&t.status(s),this.lastMessage=t,t},push:function(t,s){var i=this.scrollPlugin.isScrolledToBottom(),u=this.lines.children(),n=this.getPreference("maxlines"),r=u.length;if(i&&r>=n)for(var o=u.slice(0,r-n),a=o.length-1;a>=0;a--)e(o[a]).remove();return this.userMessages.push(t),this.put(t,s),this.scrollPlugin.content.scrollHeight>this.scrollPlugin.el.clientHeight&&!this.scrollPlugin.isActive&&this.scrollPlugin.reset(),this.scrollPlugin.updateAndScroll(i),this.handleHighlight(t),t},send:function(){var e=this.input.val().trim();if(""!=e){if(this.input.val("").focus(),null==this.engine.user||!this.engine.user.username)return this.push(new ChatErrorMessage(this.engine.errorstrings.needlogin));var t="/me "===e.substring(0,4)?e.substring(4):e;if(this.emoticons.indexOf(t)!==-1&&this.engine.previousemote&&this.engine.previousemote.message==t)return this.engine.emit("MSG",{data:e});if("/"===e.substring(0,1))return this.engine.handleCommand(e.substring(1));this.push(new ChatUserMessage(e,this.engine.user),this.engine.connected?"pending":"unsent"),this.engine.emit("MSG",{data:e}),this.insertInputHistory(e),this.currenthistoryline=-1,this.autoCompletePlugin.markLastComplete()}return e=null,this},resize:function(){return this.scrollPlugin.updateAndScroll(this.scrollPlugin.isScrolledToBottom()),this},setupInputHistory:function(){var t=!1,s=this;e(this.input).on("keyup",function(e){if((e.shiftKey||e.metaKey||e.ctrlKey)&&(t=!0),38!=e.keyCode&&40!=e.keyCode||t)return void(t=!1);var i=38==e.keyCode?-1:1;if(s.currenthistoryline<0&&38==e.keyCode){if(s.currenthistoryline=s.inputhistory.length,s.storedinputline=s.input.val(),s.currenthistoryline<=0)return}else if(s.currenthistoryline<0&&40==e.keyCode)return;var u=s.currenthistoryline+i;return u>=s.inputhistory.length||u<0?void(u>=s.inputhistory.length&&(s.input.val(s.storedinputline),s.currenthistoryline=-1)):(s.currenthistoryline=u,void s.input.val(s.inputhistory[u]))})},loadInputHistory:function(){try{this.inputhistory=JSON.parse(localStorage.inputhistory||"[]"),this.setupInputHistory()}catch(e){}},insertInputHistory:function(e){this.inputhistory.push(e),this.inputhistory.length>20&&this.inputhistory.shift(),localStorage.inputhistory=JSON.stringify(this.inputhistory)},resolveMessage:function(e){for(var t=0;t<this.userMessages.length;++t)if(this.userMessages[t].message==e.data){var s=this.userMessages.splice(t,1)[0];return s.status(),s}return null},notificationPermission:function(){var t=e.Deferred();switch(Notification.permission){case"default":Notification.requestPermission(function(e){switch(e){case"granted":t.resolve(e);break;default:t.reject(e)}});break;case"granted":t.resolve(Notification.permission);break;case"denied":default:t.reject(Notification.permission)}return t.promise()},showNotification:function(e){if("granted"===Notification.permission){var t=new Notification(e.user.username+" said ...",{body:e.message,tag:e.timestamp.unix(),icon:destiny.cdn+"/chat/img/notifyicon.png",dir:"auto"});setTimeout(t.close.bind(t),5e3),t.onclick=function(){}}},loadHighlighters:function(){this.engine.user&&this.engine.user.username&&(this.highlightregex.user=new RegExp("\\b@?(?:"+this.engine.user.username+")\\b","i"));var e=this.getPreference("customhighlight");if(e.length>0){for(var t=e.length-1;t>=0;t--)e[t]=e[t].replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");this.highlightregex.custom=new RegExp("\\b(?:"+e.join("|")+")\\b","i")}},renewHighlight:function(e,t){t?this.lines.children('div[data-username="'+e.toLowerCase()+'"]').addClass("highlight"):this.lines.children('div[data-username="'+e.toLowerCase()+'"]').removeClass("highlight")},handleHighlight:function(e){if(!e.user||!e.user.username||e.user.username==this.engine.user.username||!this.getPreference("highlight"))return!1;if(e.user.hasFeature(destiny.UserFeatures.BOT))return!1;var t=this.getPreference("highlightnicks");return(t[e.user.username.toLowerCase()]||t[e.user.username]||this.highlightregex.user&&this.highlightregex.user.test(e.message)||this.highlightregex.custom&&this.highlightregex.custom.test(e.message))&&(e.ui.addClass("highlight"),!this.getPreference("allowNotifications")||this.hasFocus()||this.backlogLoading||this.showNotification(e)),!1},setPreference:function(e,t){this.preferences[e].value=t,this.applyPreferencesCss(),this.savePreferences()},getPreference:function(e){return this.preferences[e].value||null},loadPreferences:function(){try{var e=JSON.parse(localStorage.chatoptions||"{}");for(var t in e)e.hasOwnProperty(t)&&this.preferences.hasOwnProperty(t)&&(this.preferences[t].value=e[t]);this.applyPreferencesCss()}catch(e){}},savePreferences:function(){try{var e={};for(var t in this.preferences)this.preferences.hasOwnProperty(t)&&(e[t]=this.preferences[t].value);localStorage.chatoptions=JSON.stringify(e)}catch(e){}},applyPreferencesCss:function(){for(var e in this.preferences)this.preferences.hasOwnProperty(e)&&"boolean"==typeof this.preferences[e].value&&this.ui.toggleClass("pref-"+e,this.preferences[e].value)},removeUserMessages:function(e){this.lines.children('div[data-username="'+e.toLowerCase()+'"]').remove(),this.scrollPlugin.reset()},setUnreadMessageCount:function(e){this.pmcountnum=Math.max(0,e),this.pmcount.toggleClass("hidden",!this.pmcountnum).text(this.pmcountnum)},hasFocus:function(){return this.input.is(":focus")}}),ChatUser=function(e){return e=e||{},this.nick=e.nick||"",this.username=e.nick||"",this.features=e.features||[],this},ChatUser.prototype.hasAnyFeatures=function(){for(var e=0;e<arguments.length;e++)if(this.features.indexOf(arguments[e])!==-1)return!0;return!1},ChatUser.prototype.hasFeature=function(e){return this.hasAnyFeatures(e)},ChatUIMessage=function(e){return this.init(e)},ChatUIMessage.prototype.init=function(e){return this.message=e,this},ChatUIMessage.prototype.html=function(){return this.wrap(this.wrapMessage())},ChatUIMessage.prototype.wrap=function(e){return'<div class="ui-msg">'+e+"</div>"},ChatUIMessage.prototype.wrapMessage=function(){return this.message},ChatMessage=function(e,t){return this.init(e,t)},ChatMessage.prototype.init=function(e,t){return this.message=e,this.timestamp=moment.utc(t).local(),this.state=null,this.type="chat",this.timestampformat=destiny.chat.gui.getPreference("timestampformat"),this},ChatMessage.prototype.status=function(e){return this.ui&&(e?this.ui.addClass(e):this.ui.removeClass(this.state)),this.state=e,this},ChatMessage.prototype.wrapTime=function(){return'<time title="'+this.timestamp.format("MMMM Do YYYY, h:mm:ss a")+'" datetime="'+this.timestamp.format("MMMM Do YYYY, h:mm:ss a")+'">'+this.timestamp.format(this.timestampformat)+"</time>"},ChatMessage.prototype.wrapMessage=function(){return e('<span class="msg"/>').text(this.message).get(0).outerHTML},ChatMessage.prototype.html=function(){return this.wrap(this.wrapTime()+" "+this.wrapMessage())},ChatMessage.prototype.wrap=function(e){return'<div class="'+this.type+'-msg">'+e+"</div>"},ChatErrorMessage=function(e,t){return this.init(e,t),this.type="error",this},e.extend(ChatErrorMessage.prototype,ChatMessage.prototype),ChatErrorMessage.prototype.html=function(){return this.wrap(this.wrapTime()+' <i class="icon-error"></i> '+this.wrapMessage())},ChatInfoMessage=function(e,t){return this.init(e,t),this.type="info",this},e.extend(ChatInfoMessage.prototype,ChatMessage.prototype),ChatInfoMessage.prototype.html=function(){return this.wrap(this.wrapTime()+' <i class="icon-info"></i> '+this.wrapMessage())},ChatInfoMessage.prototype.wrapMessage=function(){for(var t=e('<span class="msg"/>').text(this.message),s=t.html(),i=0;i<destiny.chat.gui.formatters.length;++i)s=destiny.chat.gui.formatters[i].format(s,null,this.message);return t.html(s),t.get(0).outerHTML},ChatCommandMessage=function(e,t){return this.init(e,t),this.type="command",this},e.extend(ChatCommandMessage.prototype,ChatMessage.prototype),ChatCommandMessage.prototype.html=function(){return this.wrap(this.wrapTime()+' <i class="icon-command"></i> '+this.wrapMessage())},ChatStatusMessage=function(e,t){return this.init(e,t),this.type="status",this},e.extend(ChatStatusMessage.prototype,ChatMessage.prototype),ChatStatusMessage.prototype.html=function(){return this.wrap(this.wrapTime()+' <i class="icon-status"></i> '+this.wrapMessage())},ChatBroadcastMessage=function(e,t){return this.init(e,t),this.type="broadcast",this.user={features:[null]},this},e.extend(ChatBroadcastMessage.prototype,ChatMessage.prototype),ChatBroadcastMessage.prototype.html=function(){return this.wrap(this.wrapTime()+" "+this.wrapMessage())},ChatBroadcastMessage.prototype.wrapMessage=function(){for(var t=e('<span class="msg"/>').text(this.message),s=t.html(),i=0;i<destiny.chat.gui.formatters.length;++i)s=destiny.chat.gui.formatters[i].format(s,null,this.message);return t.html(s),t.get(0).outerHTML},ChatUserMessage=function(e,t,s){return this.init(e,s),this.type="user",this.user=t,this.prepareMessage(),this},e.extend(ChatUserMessage.prototype,ChatMessage.prototype),ChatUserMessage.prototype.prepareMessage=function(){this.isSlashMe=!1,"/me "===this.message.substring(0,4)?(this.isSlashMe=!0,this.message=this.message.substring(4)):"//"===this.message.substring(0,2)&&(this.message=this.message.substring(1))},ChatUserMessage.prototype.wrap=function(e,t){return this.user&&this.user.username?'<div class="'+this.type+"-msg"+(t?" "+t:"")+'" data-username="'+this.user.username.toLowerCase()+'">'+e+"</div>":'<div class="'+this.type+"-msg"+(t?" "+t:"")+'">'+e+"</div>"},ChatUserMessage.prototype.getFeatureHTML=function(e){var t="";e.hasFeature(destiny.UserFeatures.SUBSCRIBERT4)?t+='<i class="icon-subscribert4" title="Subscriber (T4)"/>':e.hasFeature(destiny.UserFeatures.SUBSCRIBERT3)?t+='<i class="icon-subscribert3" title="Subscriber (T3)"/>':e.hasFeature(destiny.UserFeatures.SUBSCRIBERT2)?t+='<i class="icon-subscribert2" title="Subscriber (T2)"/>':e.hasFeature(destiny.UserFeatures.SUBSCRIBERT1)?t+='<i class="icon-subscriber" title="Subscriber (T1)"/>':!e.hasFeature(destiny.UserFeatures.SUBSCRIBERT0)&&e.hasFeature(destiny.UserFeatures.SUBSCRIBER)&&(t+='<i class="icon-subscriber" title="Subscriber (T1)"/>');for(var s=0;s<e.features.length;s++)switch(e.features[s]){case destiny.UserFeatures.SUBSCRIBERT0:t+='<i class="icon-minitwitch" title="Twitch subscriber"/>';break;case destiny.UserFeatures.BOT:t+='<i class="icon-bot" title="Bot"/>';break;case destiny.UserFeatures.BOT2:t+='<i class="icon-bot2" title="Bot"/>';break;case destiny.UserFeatures.NOTABLE:t+='<i class="icon-notable" title="Notable"/>';break;case destiny.UserFeatures.TRUSTED:t+='<i class="icon-trusted" title="Trusted"/>';break;case destiny.UserFeatures.CONTRIBUTOR:t+='<i class="icon-contributor" title="Contributor"/>';break;case destiny.UserFeatures.COMPCHALLENGE:t+='<i class="icon-compchallenge" title="Composition Winner"/>';break;case destiny.UserFeatures.EVE:t+='<i class="icon-eve" title="Eve"/>';break;case destiny.UserFeatures.SC2:t+='<i class="icon-sc2" title="Starcraft 2"/>';break;case destiny.UserFeatures.BROADCASTER:t+='<i class="icon-broadcaster" title="Broadcaster"/>'}return t},ChatUserMessage.prototype.wrapUser=function(e){return(this.isSlashMe?"":this.getFeatureHTML(e))+' <a class="user '+e.features.join(" ")+'">'+e.username+"</a>"},ChatUserMessage.prototype.wrapMessage=function(){var t=e('<span class="msg"/>').text(this.message),s=t.html();this.isSlashMe&&t.addClass("emote");for(var i=0;i<destiny.chat.gui.formatters.length;++i)s=destiny.chat.gui.formatters[i].format(s,this.user,this.message);return t.html(s),t.get(0).outerHTML},ChatUserMessage.prototype.html=function(){return this.wrap(this.wrapTime()+" "+(this.isSlashMe?"*":"")+this.wrapUser(this.user)+(this.isSlashMe?" ":": ")+this.wrapMessage())},ChatUserMessage.prototype.addonHtml=function(){return this.isSlashMe?this.wrap(this.wrapTime()+" *"+this.wrapUser(this.user)+" "+this.wrapMessage()):this.wrap(this.wrapTime()+' <span class="continue">&gt;</span> '+this.wrapMessage(),"continue")},ChatUserPrivateMessage=function(e,t,s,i){return this.init(e,i),this.type="user",this.user=t,this.messageid=s,this.prepareMessage(),this.isSlashMe=!1,this},e.extend(ChatUserPrivateMessage.prototype,ChatUserMessage.prototype),ChatUserPrivateMessage.prototype.wrap=function(e,t){return'<div class="'+this.type+"-msg"+(t?" "+t:"")+' private-message" data-messageid="'+this.messageid+'" data-username="'+this.user.username.toLowerCase()+'">'+e+'<span class="message-actions"><a href="#" class="mark-as-read">Mark as read <i class="fa fa-check-square-o"></i></a></span><i class="speech-arrow"></i></div>'},ChatUserPrivateMessage.prototype.wrapUser=function(e){return' <i class="icon-mail-send" title="Received Message"></i> <a class="user">'+e.username+"</a>"},ChatEmoteMessage=function(e,t){return this.init(e,t),this.emotecount=1,this.emotecountui=null,this},e.extend(ChatEmoteMessage.prototype,ChatMessage.prototype),ChatEmoteMessage.prototype.getEmoteCountLabel=function(){return"<i class='count'>"+this.emotecount+"</i><i class='x'>X</i> C-C-C-COMBO"},ChatEmoteMessage.prototype.html=function(){return this.wrap(this.wrapTime()+" "+this.wrapMessage()+'<span class="emotecount">'+this.getEmoteCountLabel()+"<span>")},ChatEmoteMessage.prototype.wrapMessage=function(){for(var t=e('<span class="msg"/>').text(this.message),s=t.html(),i=0;i<destiny.chat.gui.formatters.length;++i)s=destiny.chat.gui.formatters[i].format(s,null,this.message);return t.html(s),t.get(0).outerHTML},ChatEmoteMessage.prototype.incEmoteCount=function(){++this.emotecount;var e="";this.emotecount>=50?e=" x50":this.emotecount>=30?e=" x30":this.emotecount>=20?e=" x20":this.emotecount>=10?e=" x10":this.emotecount>=5&&(e=" x5"),null==this.emotecountui&&(this.emotecountui=this.ui.find(".emotecount")),this.emotecountui.detach().attr("class","emotecount"+e).html(this.getEmoteCountLabel()).appendTo(this.ui)}}(jQuery),destiny.UserFeatures={PROTECTED:"protected",SUBSCRIBER:"subscriber",SUBSCRIBERT0:"flair9",SUBSCRIBERT1:"flair13",SUBSCRIBERT2:"flair1",SUBSCRIBERT3:"flair3",SUBSCRIBERT4:"flair8",VIP:"vip",MODERATOR:"moderator",ADMIN:"admin",BROADCASTER:"flair12",BOT:"bot",BOT2:"flair11",NOTABLE:"flair2",TRUSTED:"flair4",CONTRIBUTOR:"flair5",COMPCHALLENGE:"flair6",EVE:"flair7",SC2:"flair10"},chat.prototype.start=function(){return window.MozWebSocket&&(window.WebSocket=MozWebSocket),window.WebSocket?(this.dispatchBacklog=$.proxy(this.dispatchBacklog,this),this.gui.loadBacklog(),this.loadIgnoreList(),this.gui.push(new ChatStatusMessage("Connecting...")),this.init(),this):this.gui.push(new ChatErrorMessage(this.errorstrings.requiresocket))},chat.prototype.l=function(){if(this.debug){var e=Function.prototype.bind.call(console.log,console);e.apply(console,arguments)}},chat.prototype.init=function(){this.sock=new WebSocket(this.server),this.sock.onopen=$.proxy(function(){var e={data:'OPEN ""'};this.parseAndDispatch(e)},this),this.sock.onerror=$.proxy(function(){var e={data:'ERR "socketerror"'};this.parseAndDispatch(e)},this),this.sock.onmessage=$.proxy(this.parseAndDispatch,this),this.sock.onclose=$.proxy(function(){var e={data:'CLOSE ""'};this.parseAndDispatch(e)},this),this.l=$.proxy(this.l,this),this.emit=$.proxy(this.emit,this)},chat.prototype.loadIgnoreList=function(){try{this.ignorelist=JSON.parse(localStorage.chatignorelist||"{}")}catch(e){}this.ignoreregex=null},chat.prototype.parseAndDispatch=function(e){var t=e.data.split(" ",1)[0],s="on"+t,i=JSON.parse(e.data.substring(t.length+1));return this.l(s,i),"PING"==t?this.sock.send("PONG "+e.data.substring(t.length+1)):void(this[s]&&this[s](i))},chat.prototype.dispatchBacklog=function(e){var t=e.split(" ",1)[0],s="on"+t,i=JSON.parse(e.substring(t.length+1));this.users[i.nick]||(this.users[i.nick]=new ChatUser(i)),this[s]&&this[s](i)},chat.prototype.emit=function(e,t){this.sock.send(e+" "+JSON.stringify(t))},chat.prototype.onOPEN=function(){this.connected=!0},chat.prototype.onCLOSE=function(){if(!this.dontconnect){var e=this.connected?getRandomInt(501,3e3):getRandomInt(5e3,3e4);setTimeout($.proxy(this.onRECONNECT,this),e),this.connected=!1,this.gui.push(new ChatStatusMessage("Disconnected... reconnecting in "+Math.round(e/1e3)+" seconds"))}},chat.prototype.onNAMES=function(e){if(e.users){for(var t=e.users.length-1;t>=0;t--){var s=e.users[t];this.users[s.nick]=new ChatUser(s),this.shouldIgnore(s.nick,"")||this.gui.autoCompletePlugin.addNick(s.nick)}this.gui.trigger("names",e)}this.gui.push(new ChatStatusMessage("Connected. Server connections: "+e.connectioncount)),this.showstarthint&&(this.showstarthint=!1,this.handleCommand("hint"))},chat.prototype.onJOIN=function(e){this.users[e.nick]=new ChatUser(e),this.shouldIgnore(e.nick,"")||this.gui.autoCompletePlugin.addNick(e.nick),this.gui.trigger("join",e)},chat.prototype.onQUIT=function(e){this.users[e.nick]&&(delete this.users[e.nick],this.gui.trigger("quit",e))},chat.prototype.shouldIgnore=function(e,t){if(!this.ignorelist)return!1;if(!this.ignoreregex){var s=[];if($.each(this.ignorelist,function(e){s.push(e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"))}),0==s.length)return!1;this.ignoreregex=new RegExp(s.join("|"),"i")}return e=e.toLowerCase(),this.ignorelist[e]||this.ignoreregex.test(t)},chat.prototype.onPRIVMSG=function(e){var t=this.users[e.nick];t||(t=new ChatUser(e)),this.shouldIgnore(e.nick,e.data)||(this.gui.autoCompletePlugin.updateNick(t.username),this.gui.setUnreadMessageCount(this.gui.pmcountnum+1),this.gui.push(new ChatUserPrivateMessage(e.data,t,e.messageid,e.timestamp)))},chat.prototype.onMSG=function(e){this.user.username==e.nick&&Array.isArray(e.features)&&(this.user.features=e.features);var t="/me "===e.data.substring(0,4)?e.data.substring(4):e.data;if(this.gui.emoticons.indexOf(t)!==-1||this.gui.twitchemotes.indexOf(t)!==-1){if(this.previousemote&&this.previousemote.message==t)return 1===this.previousemote.emotecount?(this.previousemote.emotecount=2,this.originemote&&(this.originemote.ui.remove(),this.originemote=null),void this.gui.push(this.previousemote)):void this.previousemote.incEmoteCount();this.previousemote=new ChatEmoteMessage(t,e.timestamp)}else this.previousemote=null;var s=this.gui.resolveMessage(e);if(s&&this.previousemote&&(this.originemote=s),this.user.username!=e.nick||!s){if(this.shouldIgnore(e.nick,e.data))return;var i=this.users[e.nick];i?this.gui.autoCompletePlugin.updateNick(e.nick):(i=new ChatUser(e),""!=i.nick&&i.nick==this.user.nick&&(this.user=i)),i&&i.features.length!=e.features.length&&(this.users[e.nick]=i);var u=new ChatUserMessage(e.data,i,e.timestamp);this.previousemote&&(this.originemote=u),this.gui.push(u)}},chat.prototype.onMUTE=function(e){var t=e.data;this.user.username.toLowerCase()==e.data.toLowerCase()?t="You have been":this.user.hasAnyFeatures(destiny.UserFeatures.SUBSCRIBERT3,destiny.UserFeatures.SUBSCRIBERT4,destiny.UserFeatures.SUBSCRIBERT2,destiny.UserFeatures.ADMIN,destiny.UserFeatures.MODERATOR)||this.gui.removeUserMessages(e.data),this.gui.push(new ChatCommandMessage(t+" muted by "+e.nick,e.timestamp))},chat.prototype.onUNMUTE=function(e){var t=e.data;this.user.username.toLowerCase()==e.data.toLowerCase()&&(t="You have been"),this.gui.push(new ChatCommandMessage(t+" unmuted by "+e.nick,e.timestamp))},chat.prototype.onBAN=function(e){var t=e.data;this.user.username.toLowerCase()==e.data.toLowerCase()?(t="You have been",this.gui.backlogLoading||setTimeout(function(){window.location.href="/banned"},1500)):this.user.hasAnyFeatures(destiny.UserFeatures.SUBSCRIBERT3,destiny.UserFeatures.SUBSCRIBERT4,destiny.UserFeatures.SUBSCRIBERT2,destiny.UserFeatures.ADMIN,destiny.UserFeatures.MODERATOR)||this.gui.removeUserMessages(e.data),this.gui.push(new ChatCommandMessage(t+" banned by "+e.nick,e.timestamp))},chat.prototype.onUNBAN=function(e){var t=e.data;this.user.username.toLowerCase()==e.data.toLowerCase()&&(t="You have been"),this.gui.push(new ChatCommandMessage(t+" unbanned by "+e.nick,e.timestamp))},chat.prototype.onERR=function(e){"toomanyconnections"!=e&&"banned"!=e||(this.dontconnect=!0),"banned"!=e||this.gui.backlogLoading||(window.location.href="/banned"),this.gui.push(new ChatErrorMessage(this.errorstrings[e]))},chat.prototype.onREFRESH=function(){window.location.href=window.location.href},chat.prototype.onRECONNECT=function(){this.init()},chat.prototype.onSUBONLY=function(e){var t="on"==e.data?"enabled":"disabled";this.gui.push(new ChatCommandMessage("Subscriber only mode "+t+" by "+e.nick,e.timestamp))},chat.prototype.onBROADCAST=function(e){if(!this.gui.backlogLoading)if("redirect:"==e.data.substring(0,9)){var t=e.data.substring(9);_gaq.push(["_trackEvent","outbound","chat-redirect",t]),_gaq.push(function(){setTimeout(function(){window.parent&&(window.parent.location.href=t),window.location.href=t},5e3)}),this.gui.push(new ChatBroadcastMessage("Redirecting in 5 seconds to "+t,e.timestamp))}else this.gui.push(new ChatBroadcastMessage(e.data,e.timestamp))},chat.prototype.onPRIVMSGSENT=function(e){this.gui.push(new ChatInfoMessage("Your message has been sent!"))},chat.prototype.handleCommand=function(e){if(!e.length)return void this.gui.push(new ChatErrorMessage("Empty command"));var t=e.match(/([^ ]+)/g),s=t[0].toLowerCase(),i=/^[a-zA-Z0-9_]{3,20}$/,u={},n=[],r="";if("/"===e.substring(0,1))return u.data="/"+e,void this.emit("MSG",u);switch(this.l(s,t),s){default:this.gui.push(new ChatErrorMessage("Unknown command"));break;case"emotes":this.gui.push(new ChatInfoMessage("Available emoticons: "+this.gui.emoticons.join(", ")+" (www.destiny.gg/emotes)"));break;case"help":this.gui.push(new ChatInfoMessage("Available commands: /emotes /me /msg /ignore (without arguments to list the nicks ignored) /unignore /highlight (highlights target nicks messages for easier visibility) /unhighlight /maxlines /mute /unmute /subonly /ban /ipban /unban (also unbans ip bans) /timestampformat"));break;case"me":u.data="/"+e,this.emit("MSG",u);break;case"message":case"msg":case"whisper":case"w":case"tell":case"t":case"notify":if(!t[1]||!i.test(t[1].toLowerCase()))return void this.gui.push(new ChatErrorMessage("Invalid nick - /msg nick message"));if(t[1].toLowerCase()==this.user.username.toLowerCase())return void this.gui.push(new ChatErrorMessage("Cannot send a message to yourself"));u.nick=t[1],t.shift(),t.shift(),u.data=t.join(" "),this.emit("PRIVMSG",u),this.gui.autoCompletePlugin.markLastComplete();break;case"ignore":if(!localStorage)return void this.gui.push(new ChatErrorMessage("Ignore is unavailable, no localStorage"));if(!t[1])return n=[],$.each(this.ignorelist,function(e){n.push(e)}),0==n.length?void this.gui.push(new ChatInfoMessage("Your ignore list is empty")):void this.gui.push(new ChatInfoMessage("Ignoring the following people: "+n.join(", ")));if(r=t[1].toLowerCase(),!i.test(r))return void this.gui.push(new ChatErrorMessage("Invalid nick - /ignore nick"));this.ignorelist[r]=!0,this.gui.removeUserMessages(r),this.gui.push(new ChatStatusMessage("Ignoring "+r)),localStorage.chatignorelist=JSON.stringify(this.ignorelist),this.loadIgnoreList();break;case"unignore":if(!localStorage)return void this.gui.push(new ChatErrorMessage("Ignore is unavailable, no localStorage"));if(!t[1]||!i.test(t[1].toLowerCase()))return void this.gui.push(new ChatErrorMessage("Invalid nick - /ignore nick"));r=t[1].toLowerCase(),delete this.ignorelist[r],this.gui.push(new ChatStatusMessage(""+r+" has been removed from your ignore list")),localStorage.chatignorelist=JSON.stringify(this.ignorelist),this.loadIgnoreList();break;case"mute":if(1==t.length)return void this.gui.push(new ChatInfoMessage("Usage: /"+s+" nick[ time]"));if(!i.test(t[1]))return void this.gui.push(new ChatErrorMessage("Invalid nick - /"+s+" nick[ time]"));var o=null;t[2]&&(o=this.parseTimeInterval(t[2])),u.data=t[1],o&&o>0&&(u.duration=o),this.emit(s.toUpperCase(),u);break;case"ban":case"ipban":if(t.length<4)return void this.gui.push(new ChatInfoMessage("Usage: /"+s+" nick time reason (time can be 'permanent')"));if(!i.test(t[1]))return void this.gui.push(new ChatErrorMessage("Invalid nick"));if(u.nick=t[1],"ipban"==s&&(u.banip=!0),/^perm/i.test(t[2])?u.ispermanent=!0:u.duration=this.parseTimeInterval(t[2]),u.reason=t.slice(3,t.length).join(" "),!u.reason)return void this.gui.push(new ChatErrorMessage("Providing a reason is mandatory"));this.emit("BAN",u);break;case"unmute":case"unban":if(1==t.length)return void this.gui.push(new ChatInfoMessage("Usage: /"+s+" nick"));if(!i.test(t[1]))return void this.gui.push(new ChatErrorMessage("Invalid nick - /"+s+" nick"));u.data=t[1],this.emit(s.toUpperCase(),u);break;case"subonly":if("on"!=t[1]&&"off"!=t[1])return void this.gui.push(new ChatErrorMessage("Invalid argument - /"+s+" on/off"));u.data=t[1],this.emit(s.toUpperCase(),u);break;case"maxlines":if(!t[1])return void this.gui.push(new ChatInfoMessage("Current number of lines shown: "+this.gui.getPreference("maxlines")));var a=Math.abs(parseInt(t[1],10));if(!a)return void this.gui.push(new ChatErrorMessage("Invalid argument - /maxlines is expecting a number"));this.gui.setPreference("maxlines",a),this.gui.push(new ChatInfoMessage("Current number of lines shown: "+this.gui.getPreference("maxlines")));break;case"unhighlight":case"highlight":var h=this.gui.getPreference("highlightnicks");if(!t[1])return n=[],$.each(h,function(e){n.push(e)}),void this.gui.push(new ChatInfoMessage("Currently highlighted users: "+n.join(", ")));if(!i.test(t[1]))return void this.gui.push(new ChatErrorMessage("Invalid nick - /"+s+" nick"));r=t[1].toLowerCase();var c="highlight"==s;c?(h[r]=!0,this.gui.push(new ChatInfoMessage("Now highlighting: "+r))):(delete h[r],this.gui.push(new ChatInfoMessage("No longer highlighting: "+r))),this.gui.renewHighlight(r,c),this.gui.setPreference("highlightnicks",h);break;case"timestampformat":if(!t[1])return void this.gui.push(new ChatInfoMessage("Current format: "+this.gui.getPreference("timestampformat")+" (the default is 'HH:mm', for more info: http://momentjs.com/docs/#/displaying/format/)"));var A=e.substring(s.length);if(!/^[a-z :.,-\\*]+$/i.test(A))return void this.gui.push(new ChatErrorMessage("Invalid format, see: http://momentjs.com/docs/#/displaying/format/"));this.gui.setPreference("timestampformat",A),this.gui.push(new ChatInfoMessage("New format: "+this.gui.getPreference("timestampformat")));break;case"broadcast":u.data=e.substring(s.length+1),this.emit(s.toUpperCase(),u);break;case"hint":for(var l="",E=null,g=JSON.parse(localStorage.hiddenhints||"[]"),C=0;++C;){if(C>=this.hintindex.length){l=this.hintindex[0],E=this.hints[l],g=[l];break}if(g.indexOf(this.hintindex[C])===-1){l=this.hintindex[C],E=this.hints[l],g.push(l);break}}localStorage.hiddenhints=JSON.stringify(g),this.gui.push(new ChatInfoMessage(E))}},chat.prototype.parseTimeInterval=function(e){var t=0,s={s:1e9,sec:1e9,secs:1e9,second:1e9,seconds:1e9,m:6e10,min:6e10,mins:6e10,minute:6e10,minutes:6e10,h:36e11,hr:36e11,hrs:36e11,hour:36e11,hours:36e11,d:864e11,day:864e11,days:864e11};return e.replace(/(\d+(?:\.\d*)?)([a-z]+)?/gi,function(e,i,u){i*=u?s[u.toLowerCase()]||s.s:s.s,t+=+i}),t};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNoYXQuanMiLCJhdXRvY29tcGxldGUuanMiLCJmb3JtYXR0ZXJzLmpzIiwidXJsLmZvcm1hdHRlci5qcyIsIm1lbnUuanMiLCJndWkuanMiXSwibmFtZXMiOlsiY2hhdCIsImFyZ3MiLCJwcm90b2NvbCIsImxvY2F0aW9uIiwidGhpcyIsInNlcnZlciIsIm9wdGlvbnMiLCJob3N0IiwiY29ubmVjdGVkIiwiZGVidWciLCJ1c2VycyIsImlnbm9yZWxpc3QiLCJlcnJvcnN0cmluZ3MiLCJ1bmtub3duIiwibm9wZXJtaXNzaW9uIiwicHJvdG9jb2xlcnJvciIsIm5lZWRsb2dpbiIsImludmFsaWRtc2ciLCJ0aHJvdHRsZWQiLCJkdXBsaWNhdGUiLCJtdXRlZCIsInN1Ym1vZGUiLCJuZWVkYmFucmVhc29uIiwiYmFubmVkIiwicmVxdWlyZXNvY2tldCIsInRvb21hbnljb25uZWN0aW9ucyIsInNvY2tldGVycm9yIiwicHJpdm1zZ2Jhbm5lZCIsInByaXZtc2dhY2NvdW50dG9veW91bmciLCJub3Rmb3VuZCIsImhpbnRzIiwiaGludCIsInNsYXNoaGVscCIsInRhYmNvbXBsZXRpb24iLCJob3ZlcmVtb3RlcyIsImhpZ2hsaWdodCIsIm5vdGlmeSIsImlnbm9yZXVzZXIiLCJlbW90ZXdpa2kiLCJtdXRlc3Blcm1hbmVudCIsImhpbnRpbmRleCIsImlkIiwiaGFzT3duUHJvcGVydHkiLCJwdXNoIiwidXNlciIsIkNoYXRVc2VyIiwiZ3VpIiwiQ2hhdEd1aSIsInByZXZpb3VzZW1vdGUiLCJvcmlnaW5lbW90ZSIsInNob3dzdGFydGhpbnQiLCIkIiwiQ2hhdEF1dG9Db21wbGV0ZSIsImlucHV0IiwiZW1vdGljb25zIiwic2VsZiIsImxlbmd0aCIsInNldFNlbGVjdGlvblJhbmdlIiwibWluV29yZExlbmd0aCIsIm1heFJlc3VsdHMiLCJidWNrZXRzIiwib3JpZ1ZhbCIsInNlYXJjaFJlc3VsdHMiLCJzZWFyY2hJbmRleCIsInNlYXJjaFdvcmQiLCJleHBpcmVVc2VycyIsInByb3h5IiwiaSIsImFkZEVtb3RlIiwic2V0SW50ZXJ2YWwiLCJvbiIsIm1vdXNlZG93biIsInJlc2V0U2VhcmNoIiwia2V5ZG93biIsImUiLCJrZXlDb2RlIiwiZm9yY2VVc2VyU2VhcmNoIiwic2hpZnRLZXkiLCJzZWFyY2hTZWxlY3RXb3JkIiwic2hvd0F1dG9Db21wbGV0ZSIsInByb3RvdHlwZSIsImdldEJ1Y2tldElkIiwic3RyIiwidG9Mb3dlckNhc2UiLCJhZGRUb0J1Y2tldCIsImRhdGEiLCJ3ZWlnaHQiLCJpc2Vtb3RlIiwicHJvbW90ZVRpbWVzdGFtcCIsInByb21vdGVkIiwiZW1vdGUiLCJhZGROaWNrIiwibmljayIsInVwZGF0ZU5pY2siLCJEYXRlIiwibm93IiwicHJvbW90ZU5pY2siLCJnZXRTZWFyY2hXb3JkIiwib2Zmc2V0IiwicHJlIiwic3Vic3RyaW5nIiwicG9zdCIsInN0YXJ0Q2FyZXQiLCJsYXN0SW5kZXhPZiIsImVuZENhcmV0IiwiaW5kZXhPZiIsImlzVXNlclNlYXJjaCIsIndvcmQiLCJzb3J0UmVzdWx0cyIsImEiLCJiIiwic2VhcmNoQnVja2V0cyIsImxpbWl0IiwidXNlcm5hbWVzT25seSIsInRyaW0iLCJyZXBsYWNlIiwicmVzIiwiZiIsIlJlZ0V4cCIsInRlc3QiLCJzb3J0Iiwic2xpY2UiLCJ0ZW5taW51dGVzYWdvIiwiaiIsIm1hcmtMYXN0Q29tcGxldGUiLCJsYXN0Q29tcGxldGUiLCJ2YWwiLCJzZWxlY3Rpb25TdGFydCIsInJlc3VsdCIsInN1YnN0ciIsImZvY3VzIiwid2luZG93IiwialF1ZXJ5IiwiZGVzdGlueSIsImZuIiwiR3JlZW5UZXh0Rm9ybWF0dGVyIiwiZm9ybWF0IiwiaGFzQW55RmVhdHVyZXMiLCJVc2VyRmVhdHVyZXMiLCJTVUJTQ1JJQkVSVDMiLCJTVUJTQ1JJQkVSVDQiLCJTVUJTQ1JJQkVSVDIiLCJBRE1JTiIsIk1PREVSQVRPUiIsIkVtb3RlRm9ybWF0dGVyIiwiZW1vdGVyZWdleCIsImpvaW4iLCJnZW1vdGVyZWdleCIsInR3aXRjaGVtb3RlcmVnZXgiLCJ0d2l0Y2hlbW90ZXMiLCJmZWF0dXJlcyIsImhhc0ZlYXR1cmUiLCJTVUJTQ1JJQkVSVDAiLCJNZW50aW9uZWRVc2VyRm9ybWF0dGVyIiwiZW5naW5lIiwidXNlcnJlZ2V4IiwibWF0Y2giLCJwcmVmaXgiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsIlVybEZvcm1hdHRlciIsInVuaWNvZGVTaG9ydGN1dHMiLCJwe0x9IiwicHtOfSIsInB7U2N9IiwicHtTa30iLCJwe1NvfSIsImxldHRlciIsIm51bWJlciIsImlyaUNoYXIiLCJwYXRoQ2hhciIsImVuZENoYXIiLCJvY3RldCIsImlwQWRkciIsImlyaSIsImRvbWFpbiIsImd0bGQiLCJob3N0TmFtZSIsIndlbGxCcmFjayIsIndlbGxQYXJlbiIsIndlbGxBbGwiLCJwYXRoQ29udCIsInBhdGgiLCJwb3J0Iiwid2ViVVJMIiwic2NoZW1lIiwic3RyaWN0IiwicmVsYXhlZCIsImxpbmtyZWdleCIsIl9lbGVtIiwiZW5jb2RlVXJsIiwidmFsdWUiLCJoaSIsImNoYXJDb2RlQXQiLCJsb3ciLCJleHRyYWNsYXNzIiwidXJsIiwiZGVjb2RlZFVybCIsImh0bWwiLCJ0ZXh0IiwibSIsImV4dHJhIiwiQ2hhdE1lbnUiLCJjbHMiLCJ1aSIsInNjcm9sbFBsdWdpbiIsImJ0biIsInZpc2libGUiLCJzaG93biIsIm5hbWUiLCJzaG93IiwidHJpZ2dlckhhbmRsZXIiLCJhZGRDbGFzcyIsImZpbmQiLCJlYWNoIiwicmVzZXQiLCJuYW5vU2Nyb2xsZXIiLCJkaXNhYmxlUmVzaXplIiwicHJldmVudFBhZ2VTY3JvbGxpbmciLCJuYW5vc2Nyb2xsZXIiLCJoaWRlIiwicmVtb3ZlQ2xhc3MiLCJ0b2dnbGUiLCJ3YXNWaXNpYmxlIiwiY2xvc2VNZW51cyIsInJlZHJhdyIsImJpbmQiLCJtZW51cyIsImV4dGVuZCIsImluaXQiLCJsb2FkZWQiLCJtYXhsaW5lcyIsImF1dG9Db21wbGV0ZVBsdWdpbiIsImxpbmVzIiwib3V0cHV0IiwidXNlck1lc3NhZ2VzIiwiZm9jdXNlZFVzZXJzIiwiaW5wdXRoaXN0b3J5IiwiY3VycmVudGhpc3RvcnlsaW5lIiwic3RvcmVkaW5wdXRsaW5lIiwiYmFja2xvZyIsImJhY2tsb2dMb2FkaW5nIiwiaGlnaGxpZ2h0cmVnZXgiLCJsYXN0TWVzc2FnZSIsImZvcm1hdHRlcnMiLCJwbWNvdW50bnVtIiwicG1jb3VudCIsInN0eWxlc2hlZXQiLCJwcmVmZXJlbmNlcyIsInNob3d0aW1lIiwiZGVmYXVsdCIsImhpZGVmbGFpcmljb25zIiwidGltZXN0YW1wZm9ybWF0IiwiYWxsb3dOb3RpZmljYXRpb25zIiwiY3VzdG9taGlnaGxpZ2h0IiwiaGlnaGxpZ2h0bmlja3MiLCJ0cmlnZ2VyIiwiZXEiLCJzbGlkZXJNaW5IZWlnaHQiLCJ0YWJJbmRleCIsImlzU2Nyb2xsZWRUb0JvdHRvbSIsImNvbnRlbnRTY3JvbGxUb3AiLCJtYXhTY3JvbGxUb3AiLCJ1cGRhdGVBbmRTY3JvbGwiLCJzY3JvbGxCb3R0b20iLCJpc0FjdGl2ZSIsImxvYWRQcmVmZXJlbmNlcyIsImxvYWRIaWdobGlnaHRlcnMiLCJsb2FkSW5wdXRIaXN0b3J5IiwiY29uY2F0IiwiY2hhdFNldHRpbmdzVWkiLCJjaGF0U2V0dGluZ3NNZW51IiwiY2hhdFNldHRpbmdzTm90aWZpY2F0aW9uVGV4dCIsInVwZGF0ZUNoYXRTZXR0aW5nc05vdGlmaWNhdGlvblRleHQiLCJOb3RpZmljYXRpb24iLCJwZXJtaXNzaW9uIiwia2V5Y29kZSIsIndoaWNoIiwic3BsaXQiLCJzcGxpY2UiLCJzZXRQcmVmZXJlbmNlIiwiYXR0ciIsImNoZWNrZWQiLCJpcyIsIm5vdGlmaWNhdGlvblBlcm1pc3Npb24iLCJ0aGVuIiwiZ2V0UHJlZmVyZW5jZSIsInByb3AiLCJjaGF0RW1vdGVzVWkiLCJjaGF0RW1vdGVzVWlNZW51IiwiZGVtb3RlcyIsInRlbW90ZXMiLCJhcHBlbmQiLCJ4IiwicG1Qb3B1cFVpIiwicG1Qb3B1cFVpTWVudSIsInVzZXJMaXN0VWlNZW51Iiwic2V0VW5yZWFkTWVzc2FnZUNvdW50IiwiYWpheCIsInR5cGUiLCJ1c2VyTGlzdFVpIiwiZ3JvdXBzIiwiY2xlYXJBbGwiLCJyZW1vdmUiLCJzb3J0QnlOYW1lIiwiZmlyc3RDaGlsZCIsImdldEF0dHJpYnV0ZSIsImxvY2FsZUNvbXBhcmUiLCJzb3J0VXNlcnMiLCJjaGlsZHJlbiIsImdldCIsInBhcmVudE5vZGUiLCJhcHBlbmRDaGlsZCIsInRvZ2dsZVVzZXJGb2N1cyIsInRleHRDb250ZW50IiwiaGVhZGVyIiwiZ3JvdXAxIiwiYXBwZW5kVG8iLCJncm91cDIiLCJncm91cDMiLCJncm91cDQiLCJncm91cDUiLCJ1cGRhdGVDb3VudCIsIm4iLCJPYmplY3QiLCJrZXlzIiwiaGFzVXNlciIsInVzZXJuYW1lIiwicmVtb3ZlVXNlciIsImNsb3Nlc3QiLCJhZGRVc2VyIiwidSIsImVsZW0iLCJCT1QiLCJCT1QyIiwiVklQIiwiQlJPQURDQVNURVIiLCJTVUJTQ1JJQkVSIiwidXNlcm5hbWUxIiwidXNlcm5hbWUyIiwiYWRkVXNlckZvY3VzIiwic2VuZCIsImNsZWFyVXNlckZvY3VzIiwic2Nyb2xsTm90aWZ5IiwiZGVib3VuY2UiLCJmblVwZGF0ZVNjcm9sbFZhbHVlcyIsInVwZGF0ZVNjcm9sbFZhbHVlcyIsImNhbGwiLCJhcmd1bWVudHMiLCJ0b3AiLCJwYXJlbnQiLCJocmVmIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicGF0aG5hbWUiLCJtb3VzZURvd25Db29yZHMiLCJmb2N1c1RpbWVyIiwiY29vcmRzIiwiY2xpZW50WCIsImNsaWVudFkiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwibWVzc2FnZUVsIiwibWVzc2FnZSIsIm1lc3NhZ2VJY25TZW5kIiwibWVzc2FnZUFjdGlvbnMiLCJtZXNzYWdlaWQiLCJjb21wbGV0ZSIsInVucmVhZCIsInJlc2l6ZS5jaGF0IiwicmVzaXplIiwiZm9jdXMuY2hhdCIsImxvYWQuY2hhdCIsImFkZFVzZXJGb2N1c1J1bGUiLCJpbnNlcnRSdWxlIiwidG9nZ2xlQ2xhc3MiLCJyZW1vdmVVc2VyRm9jdXNSdWxlIiwiaW5kZXgiLCJkZWxldGVSdWxlIiwicmVtb3ZlVXNlckZvY3VzIiwibG9hZEJhY2tsb2ciLCJkaXNwYXRjaEJhY2tsb2ciLCJwdXQiLCJDaGF0VUlNZXNzYWdlIiwic3RhdGUiLCJDaGF0VXNlck1lc3NhZ2UiLCJhZGRvbkh0bWwiLCJ1bmRlZmluZWQiLCJzdGF0dXMiLCJ3YXNTY3JvbGxlZEJvdHRvbSIsImxpbmVDb3VudCIsInVud2FudGVkbGluZXMiLCJjb250ZW50Iiwic2Nyb2xsSGVpZ2h0IiwiZWwiLCJjbGllbnRIZWlnaHQiLCJoYW5kbGVIaWdobGlnaHQiLCJDaGF0RXJyb3JNZXNzYWdlIiwiZW1pdCIsImhhbmRsZUNvbW1hbmQiLCJpbnNlcnRJbnB1dEhpc3RvcnkiLCJzZXR1cElucHV0SGlzdG9yeSIsIm1vZGlmaWVycHJlc3NlZCIsIm1ldGFLZXkiLCJjdHJsS2V5IiwibnVtIiwiSlNPTiIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwic2hpZnQiLCJzdHJpbmdpZnkiLCJyZXNvbHZlTWVzc2FnZSIsImRlZmVycmVkIiwiRGVmZXJyZWQiLCJyZXF1ZXN0UGVybWlzc2lvbiIsInJlc29sdmUiLCJyZWplY3QiLCJwcm9taXNlIiwic2hvd05vdGlmaWNhdGlvbiIsImJvZHkiLCJ0YWciLCJ0aW1lc3RhbXAiLCJ1bml4IiwiaWNvbiIsImNkbiIsImRpciIsImNsb3NlIiwib25jbGljayIsImhpZ2hsaWdodHMiLCJjdXN0b20iLCJyZW5ld0hpZ2hsaWdodCIsImRvaGlnaGxpZ2h0Iiwibmlja3MiLCJoYXNGb2N1cyIsImtleSIsImFwcGx5UHJlZmVyZW5jZXNDc3MiLCJzYXZlUHJlZmVyZW5jZXMiLCJpZ25vcmVkIiwicmVtb3ZlVXNlck1lc3NhZ2VzIiwiTWF0aCIsIm1heCIsImZlYXR1cmUiLCJ3cmFwIiwid3JhcE1lc3NhZ2UiLCJDaGF0TWVzc2FnZSIsIm1vbWVudCIsInV0YyIsImxvY2FsIiwid3JhcFRpbWUiLCJvdXRlckhUTUwiLCJlcnJvciIsIkNoYXRJbmZvTWVzc2FnZSIsImVuY29kZWQiLCJDaGF0Q29tbWFuZE1lc3NhZ2UiLCJDaGF0U3RhdHVzTWVzc2FnZSIsIkNoYXRCcm9hZGNhc3RNZXNzYWdlIiwicHJlcGFyZU1lc3NhZ2UiLCJpc1NsYXNoTWUiLCJjc3MiLCJnZXRGZWF0dXJlSFRNTCIsImljb25zIiwiU1VCU0NSSUJFUlQxIiwiTk9UQUJMRSIsIlRSVVNURUQiLCJDT05UUklCVVRPUiIsIkNPTVBDSEFMTEVOR0UiLCJFVkUiLCJTQzIiLCJ3cmFwVXNlciIsIkNoYXRVc2VyUHJpdmF0ZU1lc3NhZ2UiLCJDaGF0RW1vdGVNZXNzYWdlIiwiZW1vdGVjb3VudCIsImVtb3RlY291bnR1aSIsImdldEVtb3RlQ291bnRMYWJlbCIsImluY0Vtb3RlQ291bnQiLCJzdGVwQ2xhc3MiLCJkZXRhY2giLCJQUk9URUNURUQiLCJzdGFydCIsIk1veldlYlNvY2tldCIsIldlYlNvY2tldCIsImxvYWRJZ25vcmVMaXN0IiwibCIsImxvZyIsIkZ1bmN0aW9uIiwiY29uc29sZSIsImFwcGx5Iiwic29jayIsIm9ub3BlbiIsImV2ZW50IiwicGFyc2VBbmREaXNwYXRjaCIsIm9uZXJyb3IiLCJvbm1lc3NhZ2UiLCJvbmNsb3NlIiwiaWdub3JlcmVnZXgiLCJldmVudG5hbWUiLCJoYW5kbGVyIiwib2JqIiwibGluZSIsIm9uT1BFTiIsIm9uQ0xPU0UiLCJkb250Y29ubmVjdCIsInJhbmQiLCJnZXRSYW5kb21JbnQiLCJvblJFQ09OTkVDVCIsInJvdW5kIiwib25OQU1FUyIsInNob3VsZElnbm9yZSIsImNvbm5lY3Rpb25jb3VudCIsIm9uSk9JTiIsIm9uUVVJVCIsIm9uUFJJVk1TRyIsIm9uTVNHIiwiQXJyYXkiLCJpc0FycmF5IiwiZW1vdGljb24iLCJtZXNzYWdldWkiLCJ1c2VybWVzc2FnZSIsIm9uTVVURSIsInN1cHByZXNzZWRuaWNrIiwib25VTk1VVEUiLCJvbkJBTiIsIm9uVU5CQU4iLCJvbkVSUiIsIm9uUkVGUkVTSCIsIm9uU1VCT05MWSIsIm9uQlJPQURDQVNUIiwiX2dhcSIsIm9uUFJJVk1TR1NFTlQiLCJwYXJ0cyIsImNvbW1hbmQiLCJuaWNrcmVnZXgiLCJwYXlsb2FkIiwiZHVyYXRpb24iLCJwYXJzZVRpbWVJbnRlcnZhbCIsInRvVXBwZXJDYXNlIiwiYmFuaXAiLCJpc3Blcm1hbmVudCIsInJlYXNvbiIsIm5ld21heGxpbmVzIiwiYWJzIiwicGFyc2VJbnQiLCJrIiwic2hvd25oaW50cyIsIm5hbm9zZWNvbmRzIiwidW5pdHMiLCJzIiwic2VjIiwic2VjcyIsInNlY29uZCIsInNlY29uZHMiLCJtaW4iLCJtaW5zIiwibWludXRlIiwibWludXRlcyIsImgiLCJociIsImhycyIsImhvdXIiLCJob3VycyIsImQiLCJkYXkiLCJkYXlzIiwiJDAiLCJ1bml0Il0sIm1hcHBpbmdzIjoiQUF3QkEsUUFBQUEsTUFBQUMsR0FDQSxHQUFBQyxHQUFBLFdBQUFDLFNBQUFELFNBQUEsU0FBQSxPQUNBRSxNQUFBQyxPQUFBSCxFQUFBRCxFQUFBSyxRQUFBQyxLQUFBLE1BQ0FILEtBQUFJLFdBQUEsRUFDQUosS0FBQUssT0FBQSxFQUNBTCxLQUFBTSxTQUNBTixLQUFBTyxjQUNBUCxLQUFBUSxjQUNBQyxRQUFBLCtEQUNBQyxhQUFBLHVEQUNBQyxjQUFBLDZCQUNBQyxVQUFBLHVDQUNBQyxXQUFBLDBCQUNBQyxVQUFBLHVEQUNBQyxVQUFBLG9EQUNBQyxNQUFBLGlEQUNBQyxRQUFBLG1EQUNBQyxjQUFBLDhDQUNBQyxPQUFBLG9GQUNBQyxjQUFBLGdDQUNBQyxtQkFBQSx3Q0FDQUMsWUFBQSwwQkFDQUMsY0FBQSw0Q0FDQUMsdUJBQUEsc0RBQ0FDLFNBQUEsMEJBRUF6QixLQUFBMEIsT0FDQUMsS0FBQSwrQkFDQUMsVUFBQSwrRUFDQUMsY0FBQSw4R0FDQUMsWUFBQSxpRUFDQUMsVUFBQSw2REFDQUMsT0FBQSwyREFDQUMsV0FBQSw4REFDQUMsVUFBQSw2RUFDQUMsZUFBQSx5REFFQW5DLEtBQUFvQyxZQUNBLEtBQUEsR0FBQUMsS0FBQXJDLE1BQUEwQixNQUNBMUIsS0FBQTBCLE1BQUFZLGVBQUFELElBQ0FyQyxLQUFBb0MsVUFBQUcsS0FBQUYsRUFRQSxPQUxBckMsTUFBQXdDLEtBQUEsR0FBQUMsVUFBQTVDLEVBQUEyQyxNQUNBeEMsS0FBQTBDLElBQUEsR0FBQUMsU0FBQTNDLEtBQUFILEVBQUFLLFNBQ0FGLEtBQUE0QyxjQUFBLEtBQ0E1QyxLQUFBNkMsWUFBQSxLQUNBN0MsS0FBQThDLGVBQUEsRUFDQTlDLE1DeEVBLFNBQUErQyxHQUVBLEdBQUFDLEdBQUEsU0FBQUMsRUFBQUMsR0FDQSxHQUFBQyxHQUFBbkQsSUFFQSxLQUFBaUQsR0FBQSxHQUFBQSxFQUFBRyxTQUFBSCxFQUFBLEdBQUFJLGtCQUNBLE1BQUFyRCxLQUVBQSxNQUFBc0QsY0FBQSxFQUNBdEQsS0FBQXVELFdBQUEsR0FDQXZELEtBQUF3RCxXQUNBeEQsS0FBQXlELFFBQUEsS0FDQXpELEtBQUEwRCxpQkFDQTFELEtBQUEyRCxhQUFBLEVBQ0EzRCxLQUFBNEQsV0FBQSxLQUNBNUQsS0FBQWlELE1BQUFGLEVBQUFFLEdBQ0FqRCxLQUFBNkQsWUFBQWQsRUFBQWUsTUFBQTlELEtBQUE2RCxZQUFBN0QsS0FFQSxLQUFBLEdBQUErRCxHQUFBYixFQUFBRSxPQUFBLEVBQUFXLEdBQUEsRUFBQUEsSUFDQS9ELEtBQUFnRSxTQUFBZCxFQUFBYSxHQXdCQSxPQXRCQUUsYUFBQWpFLEtBQUE2RCxZQUFBLEtBQ0E3RCxLQUFBaUQsTUFBQWlCLElBQ0FDLFVBQUEsV0FDQWhCLEVBQUFpQixlQUVBQyxRQUFBLFNBQUFDLEdBQ0EsR0FBQSxHQUFBQSxFQUFBQyxRQUFBLENBQ0EsR0FBQUMsR0FBQUYsRUFBQUcsUUFNQSxPQUxBdEIsR0FBQU8sY0FBQU4sUUFBQSxJQUNBRCxFQUFBaUIsY0FDQWpCLEVBQUF1QixpQkFBQUYsSUFFQXJCLEVBQUF3QixvQkFDQSxFQUtBLE1BREF4QixHQUFBaUIsZUFDQSxLQUlBcEUsS0FFQWdELEdBQUE0QixVQUFBQyxZQUFBLFNBQUFDLEdBQ0EsTUFBQSxJQUFBQSxFQUFBMUIsT0FDQSxHQUVBMEIsRUFBQSxHQUFBQyxlQUVBL0IsRUFBQTRCLFVBQUFJLFlBQUEsU0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FDQSxHQUFBcEYsS0FBQWlELE1BQUEsQ0FHQSxHQUFBWixHQUFBckMsS0FBQTZFLFlBQUFJLEVBYUEsT0FYQWpGLE1BQUF3RCxRQUFBbkIsS0FDQXJDLEtBQUF3RCxRQUFBbkIsT0FFQXJDLEtBQUF3RCxRQUFBbkIsR0FBQTRDLEtBQ0FqRixLQUFBd0QsUUFBQW5CLEdBQUE0QyxJQUNBQSxLQUFBQSxFQUNBQyxPQUFBQSxFQUNBQyxVQUFBQSxFQUNBRSxTQUFBRCxJQUdBcEYsS0FBQXdELFFBQUFuQixHQUFBNEMsS0FFQWpDLEVBQUE0QixVQUFBWixTQUFBLFNBQUFzQixHQUdBLE1BRkF0RixNQUFBZ0YsWUFBQU0sRUFBQSxHQUFBLEVBQUEsR0FFQXRGLE1BRUFnRCxFQUFBNEIsVUFBQVcsUUFBQSxTQUFBQyxHQUdBLE1BRkF4RixNQUFBZ0YsWUFBQVEsRUFBQSxHQUFBLEVBQUEsR0FFQXhGLE1BRUFnRCxFQUFBNEIsVUFBQWEsV0FBQSxTQUFBRCxHQUNBLEdBQUF4RixLQUFBaUQsTUFBQSxDQUdBLEdBQUFpQyxHQUFBUSxLQUFBQyxNQUNBVixFQUFBakYsS0FBQWdGLFlBQUFRLEVBQUFOLEdBQUEsRUFBQSxFQUdBLE9BREFELEdBQUFDLE9BQUFBLEVBQ0FsRixPQUVBZ0QsRUFBQTRCLFVBQUFnQixZQUFBLFNBQUFKLEdBQ0EsR0FBQUosR0FBQU0sS0FBQUMsTUFDQVYsRUFBQWpGLEtBQUFnRixZQUFBUSxFQUFBLEdBQUEsRUFBQUosRUFFQSxPQUFBSCxHQUFBRSxRQUNBbkYsTUFFQWlGLEVBQUFJLFNBQUFELEVBQ0FwRixPQUdBZ0QsRUFBQTRCLFVBQUFpQixjQUFBLFNBQUFmLEVBQUFnQixHQUNBLEdBQUFDLEdBQUFqQixFQUFBa0IsVUFBQSxFQUFBRixHQUNBRyxFQUFBbkIsRUFBQWtCLFVBQUFGLEdBQ0FJLEVBQUFILEVBQUFJLFlBQUEsS0FBQSxFQUNBQyxFQUFBSCxFQUFBSSxRQUFBLEtBQ0FDLEdBQUEsQ0FlQSxPQWJBSixHQUFBLElBQ0FILEVBQUFBLEVBQUFDLFVBQUFFLElBRUFFLEdBQUEsSUFDQUgsRUFBQUEsRUFBQUQsVUFBQSxFQUFBSSxJQUdBLElBQUFMLEVBQUFJLFlBQUEsT0FDQUQsSUFDQUgsRUFBQUEsRUFBQUMsVUFBQSxHQUNBTSxHQUFBLElBSUFDLEtBQUFSLEVBQUFFLEVBQ0FDLFdBQUFBLEVBQ0FJLGFBQUFBLElBR0F0RCxFQUFBNEIsVUFBQTRCLFlBQUEsU0FBQUMsRUFBQUMsR0FDQSxNQUFBRCxJQUFBQyxFQUlBRCxFQUFBcEIsVUFBQXFCLEVBQUFyQixTQUNBb0IsRUFBQXBCLFNBQUFxQixFQUFBckIsVUFBQSxFQUFBLEVBR0FvQixFQUFBdEIsU0FBQXVCLEVBQUF2QixRQUNBc0IsRUFBQXRCLFVBQUF1QixFQUFBdkIsU0FBQSxFQUFBLEVBR0FzQixFQUFBdkIsUUFBQXdCLEVBQUF4QixPQUNBdUIsRUFBQXZCLE9BQUF3QixFQUFBeEIsUUFBQSxFQUFBLEdBR0F1QixFQUFBQSxFQUFBeEIsS0FBQUYsY0FDQTJCLEVBQUFBLEVBQUF6QixLQUFBRixjQUVBMEIsR0FBQUMsRUFDQSxFQUVBRCxFQUFBQyxFQUFBLEdBQUEsR0FyQkEsR0F1QkExRCxFQUFBNEIsVUFBQStCLGNBQUEsU0FBQTdCLEVBQUE4QixFQUFBQyxHQUVBL0IsRUFBQUEsRUFBQWdDLE9BQUFDLFFBQUEsc0NBQUEsT0FDQSxJQUFBQyxNQUNBQyxFQUFBLEdBQUFDLFFBQUEsSUFBQXBDLEVBQUEsS0FDQUcsRUFBQWpGLEtBQUF3RCxRQUFBeEQsS0FBQTZFLFlBQUFDLE9BRUEsS0FBQSxHQUFBVSxLQUFBUCxJQUNBQSxFQUFBM0MsZUFBQWtELElBQUFxQixHQUFBNUIsRUFBQU8sR0FBQUwsU0FHQThCLEVBQUFFLEtBQUEzQixJQUNBd0IsRUFBQXpFLEtBQUEwQyxFQUFBTyxHQUlBLE9BREF3QixHQUFBSSxLQUFBcEgsS0FBQXdHLGFBQ0FRLEVBQUFLLE1BQUEsRUFBQVQsSUFFQTVELEVBQUE0QixVQUFBZixZQUFBLFdBR0EsR0FBQXlELEdBQUE1QixLQUFBQyxNQUFBLEdBQ0EsS0FBQSxHQUFBNUIsS0FBQS9ELE1BQUF3RCxRQUNBLEdBQUF4RCxLQUFBd0QsUUFBQWxCLGVBQUF5QixHQUdBLElBQUEsR0FBQXdELEtBQUF2SCxNQUFBd0QsUUFBQU8sR0FDQSxHQUFBL0QsS0FBQXdELFFBQUFPLEdBQUF6QixlQUFBaUYsR0FBQSxDQUdBLEdBQUF0QyxHQUFBakYsS0FBQXdELFFBQUFPLEdBQUF3RCxJQUNBdEMsRUFBQUUsU0FBQUYsRUFBQUksVUFBQWlDLElBQ0FyQyxFQUFBSSxTQUFBLElBRUFKLEVBQUFFLFNBQUFGLEVBQUFDLFFBQUFvQyxJQUNBckMsRUFBQUMsT0FBQSxLQUlBbEMsRUFBQTRCLFVBQUE0QyxpQkFBQSxXQUNBLEdBQUF4SCxLQUFBeUgsYUFBQSxDQUdBLEdBQUF4QyxHQUFBakYsS0FBQXdELFFBQUF4RCxLQUFBNkUsWUFBQTdFLEtBQUF5SCxrQkFHQSxLQUFBeEMsRUFBQWpGLEtBQUF5SCxjQUNBLE1BQUF6SCxNQUFBeUgsYUFBQSxJQUVBLElBQUF4QyxFQUFBakYsS0FBQXlILGNBQUF0QyxRQUFBLENBRUEsSUFBQSxHQUFBb0MsS0FBQXRDLEdBQ0FBLEVBQUEzQyxlQUFBaUYsS0FHQXRDLEVBQUFzQyxHQUFBbEMsU0FBQSxFQUVBLE9BQUFyRixNQUFBeUgsYUFBQSxLQUdBekgsS0FBQTRGLFlBQUE1RixLQUFBeUgsY0FDQXpILEtBQUF5SCxhQUFBLE9BRUF6RSxFQUFBNEIsVUFBQVIsWUFBQSxXQUNBcEUsS0FBQXlELFFBQUEsS0FDQXpELEtBQUEwRCxpQkFDQTFELEtBQUEyRCxhQUFBLEVBQ0EzRCxLQUFBNEQsV0FBQSxNQUVBWixFQUFBNEIsVUFBQUYsaUJBQUEsU0FBQUYsR0FDQSxHQUFBWixHQUFBNUQsS0FBQTZGLGNBQUE3RixLQUFBaUQsTUFBQXlFLE1BQUExSCxLQUFBaUQsTUFBQSxHQUFBMEUsZUFDQSxJQUFBL0QsRUFBQTJDLEtBQUFuRCxRQUFBcEQsS0FBQXNELGNBQUEsQ0FDQXRELEtBQUE0RCxXQUFBQSxDQUNBLElBQUEwQyxLQUFBOUIsR0FBQXhFLEtBQUE0RCxXQUFBMEMsWUFDQXRHLE1BQUEwRCxjQUFBMUQsS0FBQTJHLGNBQUEzRyxLQUFBNEQsV0FBQTJDLEtBQUF2RyxLQUFBdUQsV0FBQStDLEdBQ0F0RyxLQUFBeUQsUUFBQXpELEtBQUFpRCxNQUFBeUUsUUFHQTFFLEVBQUE0QixVQUFBRCxpQkFBQSxXQUNBM0UsS0FBQTJELGFBQUEzRCxLQUFBMEQsY0FBQU4sT0FBQSxFQUNBcEQsS0FBQTJELFlBQUEsRUFFQTNELEtBQUEyRCxZQUFBM0QsS0FBQTJELFlBQUEsQ0FFQSxJQUFBaUUsR0FBQTVILEtBQUEwRCxjQUFBMUQsS0FBQTJELFlBQ0EsSUFBQWlFLEdBQUFBLEVBQUEzQyxNQUFBakYsS0FBQTRELFdBQUEyQyxLQUFBLENBR0F2RyxLQUFBeUgsYUFBQUcsRUFBQTNDLElBQ0EsSUFBQWMsR0FBQS9GLEtBQUF5RCxRQUFBb0UsT0FBQSxFQUFBN0gsS0FBQTRELFdBQUFzQyxZQUNBRCxFQUFBakcsS0FBQXlELFFBQUFvRSxPQUFBN0gsS0FBQTRELFdBQUFzQyxXQUFBbEcsS0FBQTRELFdBQUEyQyxLQUFBbkQsT0FXQSxPQVBBLEtBQUE2QyxFQUFBLElBQUEsR0FBQUEsRUFBQTdDLFNBQ0E2QyxFQUFBLElBQUFBLEdBRUFqRyxLQUFBaUQsTUFBQTZFLFFBQUFKLElBQUEzQixFQUFBNkIsRUFBQTNDLEtBQUFnQixHQUdBakcsS0FBQWlELE1BQUEsR0FBQUksa0JBQUEwQyxFQUFBM0MsT0FBQXdFLEVBQUEzQyxLQUFBN0IsT0FBQSxFQUFBMkMsRUFBQTNDLE9BQUF3RSxFQUFBM0MsS0FBQTdCLE9BQUEsSUFDQSxJQUdBMkUsT0FBQS9FLGlCQUFBQSxHQUVBZ0YsUUNsUUEsU0FBQWpGLEdBTUFrRixRQUFBQyxHQUFBQyxtQkFBQSxTQUFBdkksR0FDQSxNQUFBSSxPQUdBaUksUUFBQUMsR0FBQUMsbUJBQUF2RCxVQUFBd0QsT0FBQSxTQUFBdEQsRUFBQXRDLEdBV0EsTUFWQUEsSUFBQSxJQUFBc0MsRUFBQXVCLFFBQUEsU0FDQTdELEVBQUE2RixlQUNBSixRQUFBSyxhQUFBQyxhQUNBTixRQUFBSyxhQUFBRSxhQUNBUCxRQUFBSyxhQUFBRyxhQUNBUixRQUFBSyxhQUFBSSxNQUNBVCxRQUFBSyxhQUFBSyxhQUVBN0QsRUFBQSwyQkFBQUEsRUFBQSxXQUVBQSxHQUtBbUQsUUFBQUMsR0FBQVUsZUFBQSxTQUFBaEosR0FJQSxNQUhBSSxNQUFBNkksV0FBQSxHQUFBM0IsUUFBQSxXQUFBdEgsRUFBQXNELFVBQUE0RixLQUFBLEtBQUEsY0FDQTlJLEtBQUErSSxZQUFBLEdBQUE3QixRQUFBLFdBQUF0SCxFQUFBc0QsVUFBQTRGLEtBQUEsS0FBQSxhQUFBLE1BQ0E5SSxLQUFBZ0osaUJBQUEsR0FBQTlCLFFBQUEsV0FBQXRILEVBQUFzRCxVQUFBNEYsS0FBQSxLQUFBLElBQUFsSixFQUFBcUosYUFBQUgsS0FBQSxLQUFBLGFBQUEsTUFDQTlJLE1BR0FpSSxRQUFBQyxHQUFBVSxlQUFBaEUsVUFBQXdELE9BQUEsU0FBQXRELEVBQUF0QyxHQUNBLEdBQUFxRyxHQUFBN0ksS0FBQTZJLFVBT0EsT0FOQXJHLElBQUFBLEVBQUEwRyxTQUFBOUYsT0FBQSxJQUVBeUYsRUFEQXJHLEVBQUEyRyxXQUFBbEIsUUFBQUssYUFBQWMsY0FDQXBKLEtBQUFnSixpQkFFQWhKLEtBQUErSSxhQUVBakUsRUFBQWlDLFFBQUE4QixFQUFBLGlFQUlBWixRQUFBQyxHQUFBbUIsdUJBQUEsU0FBQXpKLEdBR0EsTUFGQUksTUFBQU0sTUFBQVYsRUFBQTBKLE9BQUFoSixNQUNBTixLQUFBdUosVUFBQSxxREFDQXZKLE1BR0FpSSxRQUFBQyxHQUFBbUIsdUJBQUF6RSxVQUFBd0QsT0FBQSxTQUFBdEQsRUFBQXRDLEdBQ0EsR0FBQWxDLEdBQUFOLEtBQUFNLEtBQ0EsT0FBQXdFLEdBQUFpQyxRQUFBL0csS0FBQXVKLFVBQUEsU0FBQUMsRUFBQUMsRUFBQWpFLEdBQ0EsTUFBQWxGLEdBQUFvSixxQkFBQWxFLEdBQ0FpRSxFQUFBLDJCQUFBakUsRUFBQSxVQUVBZ0UsTUFLQXhCLFFDOURBLFNBQUFqRixHQU1Ba0YsUUFBQUMsR0FBQXlCLGFBQUEsU0FBQS9KLEdBQ0EsR0FBQWdLLElBQ0FDLE9BQUEsd3dKQUNBQyxPQUFBLGs2QkFDQUMsUUFBQSwrSkFDQUMsUUFBQSxtVEFDQUMsUUFBQSw0ekNBR0FDLEVBQUFOLEVBQUEsUUFDQU8sRUFBQVAsRUFBQSxRQUNBUSxFQUFBRixFQUFBQyxFQUNBRSxFQUFBRCxFQUFBLHdCQUFBUixFQUFBLFNBQUFBLEVBQUEsU0FBQUEsRUFBQSxTQUNBVSxFQUFBRixFQUFBLGVBQUFSLEVBQUEsU0FDQVcsRUFBQSxxREFDQUMsRUFBQSxTQUFBRCxFQUFBLE1BQUFBLEVBQUEsTUFBQUEsRUFBQSxNQUFBQSxFQUFBLE9BQ0FFLEVBQUEsSUFBQUwsRUFBQSxRQUFBQSxFQUFBLFNBQUFBLEVBQUEsTUFDQU0sRUFBQSxNQUFBRCxFQUFBLFFBQ0FFLEVBQUEsd2xRQUNBQyxFQUFBLE1BQUFGLEVBQUFDLEVBQUEsSUFBQUgsRUFBQSxJQUNBSyxFQUFBLE9BQUFSLEVBQUEsWUFBQUEsRUFBQSxTQUFBQSxFQUFBLFVBQ0FTLEVBQUEsT0FBQVQsRUFBQSxZQUFBQSxFQUFBLFNBQUFBLEVBQUEsVUFDQVUsRUFBQUQsRUFBQSxJQUFBRCxFQUNBRyxFQUFBLE9BQUFYLEVBQUEsUUFBQVUsRUFBQSxLQUFBVCxFQUFBLFFBQ0FXLEVBQUEsTUFBQUQsRUFBQSxZQUNBRSxFQUFBLGVBQ0FDLEVBQUEsTUFBQVAsRUFBQU0sRUFBQSxJQUFBRCxFQUFBLFFBQUFMLEVBQUFNLEVBQUEsYUFFQUUsRUFBQSxrQkFDQUMsRUFBQSxNQUFBRCxFQUFBSixFQUNBTSxFQUFBRCxFQUFBLElBQUFGLENBSUEsT0FGQW5MLE1BQUF1TCxVQUFBLEdBQUFyRSxRQUFBb0UsRUFBQSxNQUNBdEwsS0FBQXdMLE1BQUF6SSxFQUFBLFVBQ0EvQyxNQUtBaUksUUFBQUMsR0FBQXlCLGFBQUEvRSxVQUFBNkcsVUFBQSxTQUFBQyxHQUNBLE1BQUFBLEdBQ0EzRSxRQUFBLEtBQUEsU0FDQUEsUUFBQSxrQ0FBQSxTQUFBMkUsR0FDQSxHQUFBQyxHQUFBRCxFQUFBRSxXQUFBLEdBQ0FDLEVBQUFILEVBQUFFLFdBQUEsRUFDQSxPQUFBLE1BQUEsTUFBQUQsRUFBQSxRQUFBRSxFQUFBLE9BQUEsT0FBQSxNQUVBOUUsUUFBQSxpQkFBQSxTQUFBMkUsR0FDQSxNQUFBLEtBQUFBLEVBQUFFLFdBQUEsR0FBQSxNQUVBN0UsUUFBQSxLQUFBLFFBQ0FBLFFBQUEsS0FBQSxTQUdBa0IsUUFBQUMsR0FBQXlCLGFBQUEvRSxVQUFBd0QsT0FBQSxTQUFBdEQsR0FDQSxHQUFBQSxFQUFBLENBQ0EsR0FBQTNCLEdBQUFuRCxLQUNBOEwsRUFBQSxFQU9BLE9BTEEsZ0JBQUEzRSxLQUFBckMsR0FDQWdILEVBQUEsYUFDQSx3QkFBQTNFLEtBQUFyQyxLQUNBZ0gsRUFBQSxjQUVBaEgsRUFBQWlDLFFBQUE1RCxFQUFBb0ksVUFBQSxTQUFBUSxFQUFBWCxHQUNBQSxFQUFBQSxFQUFBLEdBQUEsU0FDQSxJQUFBWSxHQUFBN0ksRUFBQXFJLE1BQUFTLEtBQUFGLEdBQUFHLE9BQ0FDLEVBQUFILEVBQUF4QyxNQUFBckcsRUFBQW9JLFVBQ0EsS0FBQVksRUFDQSxNQUFBSixFQUVBQSxHQUFBNUksRUFBQXNJLFVBQUFVLEVBQUEsR0FDQSxJQUFBQyxHQUFBakosRUFBQXNJLFVBQUFPLEVBQUFoRyxVQUFBbUcsRUFBQSxHQUFBL0ksUUFDQSxPQUFBLHlDQUFBMEksRUFBQSxXQUFBVixFQUFBVyxFQUFBLG9CQUFBQSxFQUFBLE9BQUFLLE9BSUFwRSxRQ25GQXFFLFNBQUEsV0FXQSxRQUFBQyxHQUFBQyxFQUFBM00sR0FFQSxHQUFBNE0sR0FBQSxJQUVBeE0sTUFBQXVNLEdBQUFBLEVBQ0F2TSxLQUFBSixLQUFBQSxFQUNBSSxLQUFBeU0sSUFBQSxLQUNBek0sS0FBQTBNLFNBQUEsRUFDQTFNLEtBQUEyTSxPQUFBLEVBRUEzTSxLQUFBa0UsR0FBQSxTQUFBMEksRUFBQTFFLEdBQ0FuRixFQUFBL0MsTUFBQWtFLEdBQUEwSSxFQUFBMUUsSUFHQWxJLEtBQUE2TSxLQUFBLFNBQUFKLEdBQ0F6TSxLQUFBME0sVUFDQTFNLEtBQUEyTSxPQUFBNUosRUFBQS9DLE1BQUE4TSxlQUFBLFFBRUE5TSxLQUFBME0sU0FBQSxFQUNBMU0sS0FBQTJNLE9BQUEsRUFDQTNNLEtBQUF5TSxJQUFBQSxFQUVBMUosRUFBQS9DLEtBQUF5TSxLQUFBTSxTQUFBLFVBQ0FoSyxFQUFBL0MsS0FBQXVNLElBQUFRLFNBQUEsVUFDQWhLLEVBQUEvQyxNQUFBOE0sZUFBQSxRQUVBL0osRUFBQS9DLEtBQUF1TSxJQUFBUyxLQUFBLGVBQUFDLEtBQUEsV0FDQVQsRUFNQUEsRUFBQVUsUUFMQVYsRUFBQXpKLEVBQUEvQyxNQUFBbU4sY0FDQUMsZUFBQSxFQUNBQyxzQkFBQSxJQUNBLEdBQUFDLGlCQU1BdE4sS0FBQXVOLEtBQUEsV0FDQXZOLEtBQUEwTSxVQUNBMU0sS0FBQTBNLFNBQUEsRUFDQTNKLEVBQUEvQyxLQUFBeU0sS0FBQWUsWUFBQSxVQUNBekssRUFBQS9DLEtBQUF1TSxJQUFBaUIsWUFBQSxVQUNBekssRUFBQS9DLE1BQUE4TSxlQUFBLFVBSUE5TSxLQUFBeU4sT0FBQSxTQUFBaEIsR0FDQSxHQUFBaUIsR0FBQTFOLEtBQUEwTSxPQUNBTCxVQUFBc0IsV0FBQSxNQUNBRCxHQUFBMU4sS0FBQTZNLEtBQUFKLElBR0F6TSxLQUFBNE4sT0FBQSxXQUNBcEIsR0FBQUEsRUFBQVUsU0FHQWxOLEtBQUF1TSxHQUFBckksR0FBQSxRQUFBLFNBQUFsRSxLQUFBdU4sS0FBQU0sS0FBQTdOLE9BQ0E4TixFQUFBdkwsS0FBQXZDLE1BL0RBLEdBQUE4TixLQXVFQSxPQUxBeEIsR0FBQXFCLFdBQUEsV0FDQSxJQUFBLEdBQUE1SixHQUFBLEVBQUFBLEVBQUErSixFQUFBMUssU0FBQVcsRUFDQStKLEVBQUEvSixHQUFBd0osUUFHQWpCLEtDNUVBLFNBQUF2SixHQUVBSixRQUFBLFNBQUEyRyxFQUFBcEosR0FJQSxNQUhBRixNQUFBdU0sR0FBQXhKLEVBQUEsZ0JBQ0EvQyxLQUFBc0osT0FBQUEsRUFDQXZHLEVBQUFnTCxPQUFBL04sS0FBQUUsR0FDQUYsS0FBQWdPLFFBR0FqTCxFQUFBZ0wsT0FBQXBMLFFBQUFpQyxXQUVBcUosUUFBQSxFQUNBQyxTQUFBLElBRUExQixhQUFBLEtBQ0EyQixtQkFBQSxLQUNBNUIsR0FBQSxLQUNBNkIsTUFBQSxLQUNBQyxPQUFBLEtBQ0FwTCxNQUFBLEtBQ0FxTCxnQkFDQUMsZ0JBRUFDLGdCQUNBQyxvQkFBQSxFQUNBQyxnQkFBQSxLQUVBQyxXQUNBQyxnQkFBQSxFQUVBQyxrQkFDQUMsWUFBQSxLQUVBNUwsYUFDQStGLGdCQUNBOEYsY0FFQUMsV0FBQSxFQUNBQyxRQUFBLEtBRUFDLFdBQUEsS0FFQUMsYUFDQUMsVUFDQTFELE9BQUEsRUFDQTJELFNBQUEsR0FFQUMsZ0JBQ0E1RCxPQUFBLEVBQ0EyRCxTQUFBLEdBRUFFLGlCQUNBN0QsTUFBQSxRQUNBMkQsUUFBQSxTQUVBbkIsVUFDQXhDLE1BQUEsSUFDQTJELFFBQUEsS0FFQUcsb0JBQ0E5RCxPQUFBLEVBQ0EyRCxTQUFBLEdBRUF0TixXQUNBMkosT0FBQSxFQUNBMkQsU0FBQSxHQUVBSSxpQkFDQS9ELFNBQ0EyRCxZQUVBSyxnQkFDQWhFLFNBQ0EyRCxhQUlBTSxRQUFBLFNBQUEvQyxFQUFBM0gsR0FDQWxDLEVBQUEvQyxNQUFBMlAsUUFBQS9DLEVBQUEzSCxJQUdBZixHQUFBLFNBQUEwSSxFQUFBMUUsR0FDQW5GLEVBQUEvQyxNQUFBa0UsR0FBQTBJLEVBQUExRSxJQUdBOEYsS0FBQSxXQUdBLEdBQUFwTyxHQUFBSSxJQUdBQSxNQUFBaVAsUUFBQWpQLEtBQUF1TSxHQUFBUyxLQUFBLHdCQUFBNEMsR0FBQSxHQUNBNVAsS0FBQW9PLE1BQUFwTyxLQUFBdU0sR0FBQVMsS0FBQSxxQkFBQTRDLEdBQUEsR0FDQTVQLEtBQUFxTyxPQUFBck8sS0FBQXVNLEdBQUFTLEtBQUEsc0JBQUE0QyxHQUFBLEdBQ0E1UCxLQUFBaUQsTUFBQWpELEtBQUF1TSxHQUFBUyxLQUFBLDRCQUFBNEMsR0FBQSxHQUNBNVAsS0FBQWtQLFdBQUFuTSxFQUFBLGdCQUFBLEdBQUEsTUFHQS9DLEtBQUErTyxXQUFBeE0sS0FBQSxHQUFBMEYsU0FBQUMsR0FBQXlCLGFBQUEzSixPQUNBQSxLQUFBK08sV0FBQXhNLEtBQUEsR0FBQTBGLFNBQUFDLEdBQUFVLGVBQUE1SSxPQUNBQSxLQUFBK08sV0FBQXhNLEtBQUEsR0FBQTBGLFNBQUFDLEdBQUFtQix1QkFBQXJKLE9BQ0FBLEtBQUErTyxXQUFBeE0sS0FBQSxHQUFBMEYsU0FBQUMsR0FBQUMsbUJBQUFuSSxPQUdBQSxLQUFBbVAsWUFBQWpCLFNBQUF4QyxNQUFBMUwsS0FBQWtPLFNBQ0FsTyxLQUFBbVAsWUFBQWpCLFNBQUFtQixRQUFBclAsS0FBQWtPLFNBR0FsTyxLQUFBd00sYUFBQXhNLEtBQUFxTyxPQUFBbEIsY0FDQUMsZUFBQSxFQUNBQyxzQkFBQSxFQUNBd0MsZ0JBQUEsR0FDQUMsU0FBQSxJQUNBLEdBQUF4QyxhQUNBdE4sS0FBQXdNLGFBQUF1RCxtQkFBQSxXQUNBLE1BQUEvUCxNQUFBZ1Esa0JBQUFoUSxLQUFBaVEsYUFBQSxJQUVBalEsS0FBQXdNLGFBQUEwRCxnQkFBQSxTQUFBQyxHQUNBblEsS0FBQW9RLFdBQ0FwUSxLQUFBa04sUUFDQWlELEdBQUFuUSxLQUFBbVEsYUFBQSxLQUlBblEsS0FBQXFRLGtCQUNBclEsS0FBQXNRLG1CQUNBdFEsS0FBQXVRLG1CQUdBdlEsS0FBQW1PLG1CQUFBLEdBQUFuTCxrQkFBQWhELEtBQUFpRCxNQUFBakQsS0FBQWtELFVBQUFzTixPQUFBeFEsS0FBQWlKLGNBR0EsSUFBQXdILEdBQUF6USxLQUFBdU0sR0FBQVMsS0FBQSx3QkFBQTRDLEdBQUEsR0FDQWMsRUFBQSxHQUFBckUsVUFBQW9FLEVBQUE3USxHQUNBK1EsRUFBQTNRLEtBQUF1TSxHQUFBUyxLQUFBLDJDQUNBNEQsRUFBQSxXQUNBRCxFQUFBekUsS0FBQSxnQkFBQSxZQUFBMkUsYUFBQUMsV0FBQSxXQUFBRCxhQUFBQyxZQUFBLEtBR0FMLEdBQUF2TSxHQUFBLGdCQUFBLDhCQUFBLFNBQUFJLEdBQ0EsR0FBQXlNLEdBQUF6TSxFQUFBQyxRQUFBRCxFQUFBQyxRQUFBRCxFQUFBME0sS0FDQSxLQUFBRCxHQUFBLElBQUFBLEVBQUEsQ0FJQSxJQUFBLEdBREE5TCxHQUFBbEMsRUFBQS9DLE1BQUEwSCxNQUFBWixPQUFBbUssTUFBQSxLQUNBbE4sRUFBQWtCLEVBQUE3QixPQUFBLEVBQUFXLEdBQUEsRUFBQUEsSUFDQWtCLEVBQUFsQixHQUFBa0IsRUFBQWxCLEdBQUErQyxPQUNBN0IsRUFBQWxCLElBQ0FrQixFQUFBaU0sT0FBQW5OLEVBQUEsRUFJQSxPQUZBbkUsR0FBQXVSLGNBQUEsa0JBQUFsTSxHQUNBckYsRUFBQTBRLG9CQUNBLEtBRUFHLEVBQUF2TSxHQUFBLFNBQUEseUJBQUEsV0FDQSxHQUFBMEksR0FBQTdKLEVBQUEvQyxNQUFBb1IsS0FBQSxRQUNBQyxFQUFBdE8sRUFBQS9DLE1BQUFzUixHQUFBLFdBQ0EsUUFBQTFFLEdBRUEsSUFBQSxXQUNBaE4sRUFBQXVSLGNBQUF2RSxFQUFBeUUsR0FDQXpSLEVBQUE0TSxhQUFBMEQsZ0JBQUF0USxFQUFBNE0sYUFBQXVELHFCQUNBLE1BRUEsS0FBQSxpQkFDQW5RLEVBQUF1UixjQUFBdkUsRUFBQXlFLEdBQ0F6UixFQUFBNE0sYUFBQTBELGdCQUFBdFEsRUFBQTRNLGFBQUF1RCxxQkFDQSxNQUVBLEtBQUEsWUFDQW5RLEVBQUF1UixjQUFBdkUsRUFBQXlFLEVBQ0EsTUFFQSxLQUFBLHFCQUNBQSxFQUNBelIsRUFBQTJSLHlCQUFBQyxLQUNBLFdBQ0FaLElBQ0FoUixFQUFBdVIsY0FBQXZFLEdBQUEsSUFFQSxXQUNBZ0UsSUFDQWhSLEVBQUF1UixjQUFBdkUsR0FBQSxLQUlBaE4sRUFBQXVSLGNBQUF2RSxHQUFBLE1BS0E4RCxFQUFBeE0sR0FBQSxPQUFBLFdBQ0F1TSxFQUFBekQsS0FBQSwrQkFBQXRGLElBQUE5SCxFQUFBNlIsY0FBQSxtQkFBQTNJLEtBQUEsT0FDQTJILEVBQUF6RCxLQUFBLDBCQUFBQyxLQUFBLFdBQ0EsR0FBQUwsR0FBQTdKLEVBQUEvQyxNQUFBb1IsS0FBQSxPQUNBck8sR0FBQS9DLE1BQUEwUixLQUFBLFVBQUE5UixFQUFBNlIsY0FBQTdFLE1BRUEsWUFBQWlFLGFBQUFDLFlBQ0FMLEVBQUF6RCxLQUFBLG9DQUFBMEUsS0FBQSxXQUFBLEdBQ0FkLEtBSUEsSUFBQWUsR0FBQTNSLEtBQUF1TSxHQUFBUyxLQUFBLDBCQUFBNEMsR0FBQSxHQUNBZ0MsRUFBQSxHQUFBdkYsVUFBQXNGLEVBQUEvUixFQUVBZ1MsR0FBQTFOLEdBQUEsT0FBQSxXQUlBLElBQUEsR0FIQTJOLEdBQUFGLEVBQUEzRSxLQUFBLG1CQUNBOEUsRUFBQUgsRUFBQTNFLEtBQUEsa0JBRUFqSixFQUFBLEVBQUFBLEVBQUFuRSxFQUFBc0QsVUFBQUUsT0FBQVcsSUFDQThOLEVBQUFFLE9BQUEsbUNBQUFuUyxFQUFBc0QsVUFBQWEsR0FBQSxrQ0FBQW5FLEVBQUFzRCxVQUFBYSxHQUFBLEtBQUFuRSxFQUFBc0QsVUFBQWEsR0FBQSxnQkFDQSxLQUFBLEdBQUFpTyxHQUFBLEVBQUFBLEVBQUFwUyxFQUFBcUosYUFBQTdGLE9BQUE0TyxJQUNBRixFQUFBQyxPQUFBLG1DQUFBblMsRUFBQXFKLGFBQUErSSxHQUFBLGtDQUFBcFMsRUFBQXFKLGFBQUErSSxHQUFBLEtBQUFwUyxFQUFBcUosYUFBQStJLEdBQUEsZ0JBRUFMLEdBQUF6TixHQUFBLFFBQUEsY0FBQSxTQUFBSSxHQUNBLEdBQUFvSCxHQUFBOUwsRUFBQXFELE1BQUF5RSxNQUFBWixNQUdBLE9BRkFsSCxHQUFBcUQsTUFBQXlFLElBQUFnRSxHQUFBLElBQUFBLEVBQUEsR0FBQSxLQUFBM0ksRUFBQS9DLE1BQUFrTSxPQUFBLEtBQ0F0TSxFQUFBcUQsTUFBQTZFLFNBQ0EsS0FLQSxJQUFBbUssR0FBQWpTLEtBQUF1TSxHQUFBUyxLQUFBLCtCQUFBNEMsR0FBQSxHQUNBc0MsRUFBQSxHQUFBN0YsVUFBQTRGLEVBQUFyUyxFQUVBcVMsR0FBQS9OLEdBQUEsUUFBQSxrQkFBQSxTQUFBSSxHQUdBLE1BRkErSCxVQUFBc0IsV0FBQS9OLEdBQ0F1UyxFQUFBdEYsS0FBQXFGLEVBQUF6RixNQUNBLElBRUF3RixFQUFBL04sR0FBQSxRQUFBLG9CQUFBLFNBQUFJLEdBT0EsTUFOQTFFLEdBQUF3UyxzQkFBQSxHQUNBL0YsU0FBQXNCLFdBQUEvTixHQUNBbUQsRUFBQXNQLE1BQ0FDLEtBQUEsT0FDQXZHLElBQUEsK0JBRUEsSUFFQWtHLEVBQUEvTixHQUFBLFFBQUEsaUJBQUEsU0FBQUksR0FDQTFFLEVBQUF3UyxzQkFBQSxHQUNBL0YsU0FBQXNCLFdBQUEvTixJQUlBLElBQUEyUyxHQUFBdlMsS0FBQXVNLEdBQUFTLEtBQUEseUJBQUE0QyxHQUFBLEdBQ0F1QyxFQUFBLEdBQUE5RixVQUFBa0csRUFBQTNTLEVBRUF1UyxHQUFBSyxPQUFBRCxFQUFBdkYsS0FBQSxnQkFDQW1GLEVBQUFNLFNBQUEsV0FDQU4sRUFBQUssT0FBQXhGLEtBQUEsTUFBQTBGLFVBRUFQLEVBQUFRLFdBQUEsU0FBQWxNLEVBQUFDLEdBQ0EsSUFDQSxNQUFBRCxHQUFBbU0sV0FBQUMsYUFBQSxpQkFBQUMsY0FBQXBNLEVBQUFrTSxXQUFBQyxhQUFBLGtCQUNBLE1BQUF2TyxNQUVBNk4sRUFBQVksVUFBQSxXQUNBWixFQUFBSyxPQUFBUSxXQUFBL0YsS0FBQSxXQUNBLEdBQUEzTSxHQUFBeUMsRUFBQS9DLE1BQUFnTixLQUFBLE1BQUFpRyxLQUNBM1MsR0FBQThHLEtBQUErSyxFQUFBUSxXQUNBLEtBQUEsR0FBQTVPLEdBQUEsRUFBQUEsRUFBQXpELEVBQUE4QyxPQUFBVyxJQUNBekQsRUFBQXlELEdBQUFtUCxXQUFBQyxZQUFBN1MsRUFBQXlELE9BR0F3TyxFQUFBck8sR0FBQSxRQUFBLFFBQUEsV0FDQXRFLEVBQUF3VCxnQkFBQXBULEtBQUFxVCxlQUVBZCxFQUFBdEYsS0FBQSxXQUNBLEdBQUFxRyxHQUFBZixFQUFBdkYsS0FBQSxXQUNBd0YsRUFBQUwsRUFBQUssT0FDQWUsRUFBQXhRLEVBQUEseUJBQUF5USxTQUFBaEIsR0FDQWlCLEVBQUExUSxFQUFBLHlCQUFBeVEsU0FBQWhCLEdBQ0FrQixFQUFBM1EsRUFBQSx5QkFBQXlRLFNBQUFoQixHQUNBbUIsRUFBQTVRLEVBQUEseUJBQUF5USxTQUFBaEIsR0FDQW9CLEVBQUE3USxFQUFBLHlCQUFBeVEsU0FBQWhCLEdBRUFxQixFQUFBLFdBQ0EsR0FBQUMsR0FBQUMsT0FBQUMsS0FBQXBVLEVBQUEwSixPQUFBaEosT0FBQThDLE1BRUEsT0FEQWtRLEdBQUFwSCxLQUFBNEgsR0FDQUEsR0FFQUcsRUFBQSxTQUFBQyxHQUNBLE1BQUEzQixHQUFBdkYsS0FBQSxvQkFBQWtILEVBQUEsTUFBQTlRLE9BQUEsR0FFQStRLEVBQUEsU0FBQUQsR0FDQSxNQUFBM0IsR0FBQXZGLEtBQUEsb0JBQUFrSCxFQUFBLE1BQUFFLFFBQUEsTUFBQTFCLFVBRUEyQixFQUFBLFNBQUFILEdBQ0EsR0FBQUksR0FBQTFVLEVBQUEwSixPQUFBaEosTUFBQTRULEdBQ0FLLEVBQUEseUJBQUFELEVBQUFKLFNBQUEsaUJBQUFJLEVBQUFwTCxTQUFBSixLQUFBLEtBQUEsS0FBQXdMLEVBQUFKLFNBQUEsV0FDQUksR0FBQW5MLFdBQUFsQixRQUFBSyxhQUFBa00sTUFBQUYsRUFBQW5MLFdBQUFsQixRQUFBSyxhQUFBbU0sTUFDQWIsRUFBQTdCLE9BQUF3QyxHQUNBRCxFQUFBbkwsV0FBQWxCLFFBQUFLLGFBQUFJLFFBQUE0TCxFQUFBbkwsV0FBQWxCLFFBQUFLLGFBQUFvTSxLQUNBbkIsRUFBQXhCLE9BQUF3QyxHQUNBRCxFQUFBbkwsV0FBQWxCLFFBQUFLLGFBQUFxTSxhQUNBbEIsRUFBQTFCLE9BQUF3QyxHQUNBRCxFQUFBbkwsV0FBQWxCLFFBQUFLLGFBQUFzTSxZQUNBbEIsRUFBQTNCLE9BQUF3QyxHQUVBWixFQUFBNUIsT0FBQXdDLEdBRUEzVSxHQUFBc0UsR0FBQSxPQUFBLFNBQUFJLEVBQUFXLEdBQ0FrTixFQUFBekYsVUFBQXVILEVBQUFoUCxFQUFBTyxRQUNBNk8sRUFBQXBQLEVBQUFPLE1BQ0FxTyxJQUNBMUIsRUFBQVksWUFDQVosRUFBQXZFLFlBR0FoTyxFQUFBc0UsR0FBQSxPQUFBLFNBQUFJLEVBQUFXLEdBQ0FrTixFQUFBekYsU0FBQXVILEVBQUFoUCxFQUFBTyxRQUNBMk8sRUFBQWxQLEVBQUFPLE1BQ0FxTyxJQUNBMUIsRUFBQXZFLFlBR0F1RSxFQUFBak8sR0FBQSxPQUFBLFdBQ0FpTyxFQUFBTSxXQUNBb0IsR0FDQSxLQUFBLEdBQUFLLEtBQUF0VSxHQUFBMEosT0FBQWhKLE1BQ0FWLEVBQUEwSixPQUFBaEosTUFBQWdDLGVBQUE0UixJQUNBRyxFQUFBSCxFQUVBL0IsR0FBQVksWUFDQVosRUFBQXZFLGFBSUE1TixLQUFBdU0sR0FBQVMsS0FBQSxtQkFBQTlJLEdBQUEsUUFBQSxTQUFBSSxHQUtBLE1BSkExRSxHQUFBb1AsV0FBQSxFQUNBa0QsRUFBQXpFLE9BQUF6TixNQUVBbVMsRUFBQTFFLE9BQUF6TjtDQUNBLElBRUFBLEtBQUF1TSxHQUFBUyxLQUFBLHNCQUFBOUksR0FBQSxRQUFBLFNBQUFJLEdBRUEsTUFEQW9NLEdBQUFqRCxPQUFBek4sT0FDQSxJQUVBQSxLQUFBdU0sR0FBQVMsS0FBQSxpQkFBQTlJLEdBQUEsUUFBQSxTQUFBSSxHQUVBLE1BREFzTixHQUFBbkUsT0FBQXpOLE9BQ0EsSUFHQUEsS0FBQW9PLE1BQUFsSyxHQUFBLFlBQUEsbUJBQUEsU0FBQUksR0FDQSxHQUFBNFAsR0FBQW5SLEVBQUEvQyxNQUFBb1UsUUFBQSxhQUFBblAsS0FBQSxXQUVBLE9BREFyRixHQUFBd1QsZ0JBQUFjLElBQ0EsSUFHQWxVLEtBQUFvTyxNQUFBbEssR0FBQSxZQUFBLHVCQUFBLFNBQUFJLEdBQ0EsR0FBQXVRLEdBQUE5UixFQUFBL0MsTUFBQW9VLFFBQUEsYUFBQW5QLEtBQUEsWUFDQTZQLEVBQUE5VSxLQUFBcVQsWUFBQXRPLGFBR0EsT0FGQW5GLEdBQUFtVixhQUFBRixHQUNBalYsRUFBQXdULGdCQUFBMEIsSUFDQSxJQUlBOVUsS0FBQXVNLEdBQUFySSxHQUFBLFNBQUEsa0JBQUEsU0FBQUksR0FFQSxNQURBMUUsR0FBQW9WLFFBQ0EsSUFJQWhWLEtBQUFpRCxNQUFBaUIsR0FBQSxvQkFBQW5CLEVBQUFlLE1BQUEsV0FDQXVJLFNBQUFzQixXQUFBM04sT0FDQUEsT0FHQUEsS0FBQXFPLE9BQUFuSyxHQUFBLFlBQUFuQixFQUFBZSxNQUFBLFdBQ0F1SSxTQUFBc0IsV0FBQTNOLE1BQ0FKLEVBQUFxVixrQkFDQWpWLE1BRUEsSUFBQWtWLEdBQUF0VixFQUFBMk0sR0FBQVMsS0FBQSxzQkFDQWtJLEdBQUFoUixHQUFBLFFBQUEsV0FDQXRFLEVBQUE0TSxhQUFBMEQsaUJBQUEsS0FHQXRRLEVBQUF5TyxPQUFBOEcsU0FBQSxXQUFBLFdBQ0FELEVBQUF6SCxRQUFBN04sRUFBQTRNLGFBQUF1RCx1QkFDQSxLQUVBblEsRUFBQXlPLE9BQUE4RyxTQUFBLFlBQUEsV0FDQUQsRUFBQTNILFFBQ0EsSUFFQSxJQUFBNkgsR0FBQXhWLEVBQUE0TSxhQUFBNkksa0JBQ0F6VixHQUFBNE0sYUFBQTZJLG1CQUFBLFdBQ0FELEVBQUFFLEtBQUF0VixLQUFBdVYsV0FDQTNWLEVBQUF5TyxPQUFBc0IsUUFBQSxhQUtBM1AsS0FBQXVNLEdBQUFTLEtBQUEsb0NBQUE5SSxHQUFBLFFBQUEsU0FBQUksR0FDQSxJQUNBeUQsT0FBQTVFLE9BQUE0RSxPQUFBeU4sSUFDQXpOLE9BQUEwTixPQUFBMVYsU0FBQTJWLEtBQUEzUyxFQUFBL0MsTUFBQW9SLEtBQUEsUUFBQSxXQUFBdUUsbUJBQUE1TixPQUFBME4sT0FBQTFWLFNBQUE2VixVQUVBN04sT0FBQWhJLFNBQUEyVixLQUFBM1MsRUFBQS9DLE1BQUFvUixLQUFBLFFBQUEsV0FBQXVFLG1CQUFBNU4sT0FBQWhJLFNBQUE2VixVQUVBLE1BQUF0UixJQUNBLE9BQUEsR0FJQSxJQUFBdVIsR0FDQUMsQ0FzREEsT0FyREE5VixNQUFBb08sTUFBQWxLLEdBQUEsMEJBQUEsU0FBQUksR0FDQSxHQUFBeVIsR0FBQXpSLEVBQUEwUixRQUFBLElBQUExUixFQUFBMlIsT0FDQSxRQUFBM1IsRUFBQWdPLE1BQ0EsSUFBQSxRQUNBLEdBQUF1RCxJQUFBRSxFQUNBLE1BRUFELEdBQUFJLFdBQUEsV0FBQXRXLEVBQUFxRCxNQUFBNkUsU0FBQSxJQUNBLE1BQ0EsS0FBQSxZQUNBK04sRUFBQUUsQ0FDQSxNQUNBLEtBQUEsVUFDQUQsSUFDQUssYUFBQUwsR0FDQUEsRUFBQSxNQU9BOVYsS0FBQW9PLE1BQUFsSyxHQUFBLFFBQUEsZ0JBQUEsU0FBQUksR0FDQSxHQUFBOFIsR0FBQXJULEVBQUEvQyxNQUFBb1UsUUFBQSxvQkFDQWlDLEVBQUFELEVBQUFuUixLQUFBLFdBQ0FxUixFQUFBRCxFQUFBOUosR0FBQVMsS0FBQSxtQkFDQXVKLEVBQUFGLEVBQUE5SixHQUFBUyxLQUFBLG1CQVVBLE9BVEFqSyxHQUFBc1AsTUFDQUMsS0FBQSxPQUNBdkcsSUFBQSxxQkFBQTRKLG1CQUFBVSxFQUFBRyxXQUFBLFFBQ0FDLFNBQUEsU0FBQXhSLEdBQ0FxUixFQUFBbEYsS0FBQSxRQUFBLDJCQUNBbUYsRUFBQTdELFNBQ0E5UyxFQUFBd1Msc0JBQUFuTixFQUFBeVIsWUFHQSxJQUlBM1QsRUFBQWdGLFFBQUE3RCxJQUNBeVMsY0FBQSxXQUNBL1csRUFBQWdYLFVBRUFDLGFBQUEsV0FDQWpYLEVBQUFxRCxNQUFBNkUsU0FFQWdQLFlBQUEsV0FDQWxYLEVBQUFxRCxNQUFBNkUsUUFDQWxJLEVBQUFxTyxRQUFBLEtBSUFqTyxNQUdBK1csaUJBQUEsU0FBQTdDLEdBQ0FsVSxLQUFBa1AsV0FBQThILFdBQUEsNEJBQUE5QyxFQUFBLDRCQUFBbFUsS0FBQXVPLGFBQUFuTCxRQUNBcEQsS0FBQXVPLGFBQUFoTSxLQUFBMlIsR0FDQWxVLEtBQUF1TSxHQUFBMEssWUFBQSxhQUFBalgsS0FBQXVPLGFBQUFuTCxPQUFBLElBR0E4VCxvQkFBQSxTQUFBaEQsRUFBQWlELEdBQ0FuWCxLQUFBa1AsV0FBQWtJLFdBQUFELEdBQ0FuWCxLQUFBdU8sYUFBQTJDLE9BQUFpRyxFQUFBLEdBQ0FuWCxLQUFBdU0sR0FBQTBLLFlBQUEsYUFBQWpYLEtBQUF1TyxhQUFBbkwsT0FBQSxJQUdBNlIsZUFBQSxXQUNBLElBQUEsR0FBQWxSLEdBQUEvRCxLQUFBdU8sYUFBQW5MLE9BQUEsRUFBQVcsR0FBQSxJQUFBQSxFQUNBL0QsS0FBQWtYLG9CQUFBbFgsS0FBQXVPLGFBQUF4SyxHQUFBQSxFQUNBL0QsTUFBQXVNLEdBQUEwSyxZQUFBLGNBQUEsSUFHQWxDLGFBQUEsU0FBQWIsR0FDQUEsR0FBQWxVLEtBQUF1TyxhQUFBbEksUUFBQTZOLE1BQUEsR0FDQWxVLEtBQUErVyxpQkFBQTdDLElBR0FtRCxnQkFBQSxTQUFBbkQsR0FDQSxHQUFBQSxFQUFBLENBQ0FBLEVBQUFBLEVBQUFuUCxhQUNBLElBQUFvUyxHQUFBblgsS0FBQXVPLGFBQUFsSSxRQUFBNk4sRUFDQWlELE1BQUEsR0FBQW5YLEtBQUFrWCxvQkFBQWhELEVBQUFpRCxLQUdBL0QsZ0JBQUEsU0FBQWMsR0FDQSxHQUFBQSxFQUFBLENBQ0FBLEVBQUFBLEVBQUFuUCxhQUNBLElBQUFvUyxHQUFBblgsS0FBQXVPLGFBQUFsSSxRQUFBNk4sRUFDQWlELE1BQUEsRUFDQW5YLEtBQUErVSxhQUFBYixHQUVBbFUsS0FBQXFYLGdCQUFBbkQsRUFBQWlELEtBR0FHLFlBQUEsV0FFQSxHQURBdFgsS0FBQTRPLGdCQUFBLEVBQ0EsR0FBQTVPLEtBQUEyTyxRQUFBdkwsT0FFQSxZQURBcEQsS0FBQTRPLGdCQUFBLEVBSUEsS0FBQSxHQUFBN0ssR0FBQSxFQUFBd0QsRUFBQXZILEtBQUEyTyxRQUFBdkwsT0FBQVcsRUFBQXdELEVBQUF4RCxJQUNBL0QsS0FBQXNKLE9BQUFpTyxnQkFBQXZYLEtBQUEyTyxRQUFBNUssR0FFQS9ELE1BQUF3WCxJQUFBLEdBQUFDLGVBQUEsVUFDQXpYLEtBQUF3TSxhQUFBMEQsaUJBQUEsR0FDQWxRLEtBQUE0TyxnQkFBQSxHQUlBNEksSUFBQSxTQUFBbkIsRUFBQXFCLEdBbUJBLE1BbEJBckIsYUFBQXNCLGtCQUNBM1gsS0FBQThPLGFBQUE5TyxLQUFBOE8sWUFBQXRNLE1BQUE2VCxFQUFBN1QsTUFBQXhDLEtBQUE4TyxZQUFBdE0sS0FBQTBSLFVBQUFtQyxFQUFBN1QsS0FBQTBSLFNBQ0FtQyxFQUFBOUosR0FBQXhKLEVBQUFzVCxFQUFBdUIsYUFFQXZCLEVBQUE5SixHQUFBeEosRUFBQXNULEVBQUFwSyxRQUVBb0ssRUFBQTdULE1BQUF4QyxLQUFBc0osT0FBQTlHLE1BQUF4QyxLQUFBc0osT0FBQTlHLEtBQUEwUixVQUFBbUMsRUFBQTdULEtBQUEwUixVQUNBbUMsRUFBQTlKLEdBQUFRLFNBQUEsWUFFQXNKLEVBQUE5SixHQUFBeEosRUFBQXNULEVBQUFwSyxRQUVBb0ssRUFBQTlKLEdBQUF0SCxLQUFBLFVBQUFvUixHQUNBQSxFQUFBOUosR0FBQWlILFNBQUF4VCxLQUFBb08sT0FFQXlKLFFBQUFILEdBQ0FyQixFQUFBeUIsT0FBQUosR0FFQTFYLEtBQUE4TyxZQUFBdUgsRUFDQUEsR0FJQTlULEtBQUEsU0FBQThULEVBQUFxQixHQUVBLEdBQUFLLEdBQUEvWCxLQUFBd00sYUFBQXVELHFCQUNBM0IsRUFBQXBPLEtBQUFvTyxNQUFBNEUsV0FDQTlFLEVBQUFsTyxLQUFBeVIsY0FBQSxZQUVBdUcsRUFBQTVKLEVBQUFoTCxNQUNBLElBQUEyVSxHQUFBQyxHQUFBOUosRUFFQSxJQUFBLEdBREErSixHQUFBN0osRUFBQS9HLE1BQUEsRUFBQTJRLEVBQUE5SixHQUNBbkssRUFBQWtVLEVBQUE3VSxPQUFBLEVBQUFXLEdBQUEsRUFBQUEsSUFDQWhCLEVBQUFrVixFQUFBbFUsSUFBQTJPLFFBZUEsT0FYQTFTLE1BQUFzTyxhQUFBL0wsS0FBQThULEdBQ0FyVyxLQUFBd1gsSUFBQW5CLEVBQUFxQixHQUdBMVgsS0FBQXdNLGFBQUEwTCxRQUFBQyxhQUFBblksS0FBQXdNLGFBQUE0TCxHQUFBQyxlQUFBclksS0FBQXdNLGFBQUE0RCxVQUNBcFEsS0FBQXdNLGFBQUFVLFFBR0FsTixLQUFBd00sYUFBQTBELGdCQUFBNkgsR0FFQS9YLEtBQUFzWSxnQkFBQWpDLEdBQ0FBLEdBR0FyQixLQUFBLFdBQ0EsR0FBQWxRLEdBQUE5RSxLQUFBaUQsTUFBQXlFLE1BQUFaLE1BQ0EsSUFBQSxJQUFBaEMsRUFBQSxDQUdBLEdBRkE5RSxLQUFBaUQsTUFBQXlFLElBQUEsSUFBQUksUUFFQSxNQUFBOUgsS0FBQXNKLE9BQUE5RyxPQUFBeEMsS0FBQXNKLE9BQUE5RyxLQUFBMFIsU0FDQSxNQUFBbFUsTUFBQXVDLEtBQUEsR0FBQWdXLGtCQUFBdlksS0FBQXNKLE9BQUE5SSxhQUFBSSxXQUVBLElBQUF5VixHQUFBLFNBQUF2UixFQUFBa0IsVUFBQSxFQUFBLEdBQUFsQixFQUFBa0IsVUFBQSxHQUFBbEIsQ0FHQSxJQUFBOUUsS0FBQWtELFVBQUFtRCxRQUFBZ1EsTUFBQSxHQUFBclcsS0FBQXNKLE9BQUExRyxlQUFBNUMsS0FBQXNKLE9BQUExRyxjQUFBeVQsU0FBQUEsRUFDQSxNQUFBclcsTUFBQXNKLE9BQUFrUCxLQUFBLE9BQUF2VCxLQUFBSCxHQUVBLElBQUEsTUFBQUEsRUFBQWtCLFVBQUEsRUFBQSxHQUNBLE1BQUFoRyxNQUFBc0osT0FBQW1QLGNBQUEzVCxFQUFBa0IsVUFBQSxHQUdBaEcsTUFBQXVDLEtBQUEsR0FBQW9WLGlCQUFBN1MsRUFBQTlFLEtBQUFzSixPQUFBOUcsTUFBQXhDLEtBQUFzSixPQUFBbEosVUFBQSxVQUFBLFVBQ0FKLEtBQUFzSixPQUFBa1AsS0FBQSxPQUFBdlQsS0FBQUgsSUFFQTlFLEtBQUEwWSxtQkFBQTVULEdBQ0E5RSxLQUFBeU8sb0JBQUEsRUFDQXpPLEtBQUFtTyxtQkFBQTNHLG1CQUdBLE1BREExQyxHQUFBLEtBQ0E5RSxNQUdBNFcsT0FBQSxXQUVBLE1BREE1VyxNQUFBd00sYUFBQTBELGdCQUFBbFEsS0FBQXdNLGFBQUF1RCxzQkFDQS9QLE1BR0EyWSxrQkFBQSxXQUNBLEdBQUFDLElBQUEsRUFDQWhaLEVBQUFJLElBQ0ErQyxHQUFBL0MsS0FBQWlELE9BQUFpQixHQUFBLFFBQUEsU0FBQUksR0FLQSxJQUhBQSxFQUFBRyxVQUFBSCxFQUFBdVUsU0FBQXZVLEVBQUF3VSxXQUNBRixHQUFBLEdBRUEsSUFBQXRVLEVBQUFDLFNBQUEsSUFBQUQsRUFBQUMsU0FBQXFVLEVBRUEsWUFEQUEsR0FBQSxFQUlBLElBQUFHLEdBQUEsSUFBQXpVLEVBQUFDLFNBQUEsRUFBQSxDQUdBLElBQUEzRSxFQUFBNk8sbUJBQUEsR0FBQSxJQUFBbkssRUFBQUMsU0FPQSxHQUpBM0UsRUFBQTZPLG1CQUFBN08sRUFBQTRPLGFBQUFwTCxPQUVBeEQsRUFBQThPLGdCQUFBOU8sRUFBQXFELE1BQUF5RSxNQUVBOUgsRUFBQTZPLG9CQUFBLEVBQ0EsV0FFQSxJQUFBN08sRUFBQTZPLG1CQUFBLEdBQUEsSUFBQW5LLEVBQUFDLFFBQ0EsTUFFQSxJQUFBNFMsR0FBQXZYLEVBQUE2TyxtQkFBQXNLLENBRUEsT0FBQTVCLElBQUF2WCxFQUFBNE8sYUFBQXBMLFFBQUErVCxFQUFBLE9BR0FBLEdBQUF2WCxFQUFBNE8sYUFBQXBMLFNBQ0F4RCxFQUFBcUQsTUFBQXlFLElBQUE5SCxFQUFBOE8saUJBQ0E5TyxFQUFBNk8sb0JBQUEsS0FLQTdPLEVBQUE2TyxtQkFBQTBJLE1BQ0F2WCxHQUFBcUQsTUFBQXlFLElBQUE5SCxFQUFBNE8sYUFBQTJJLFFBS0E1RyxpQkFBQSxXQUNBLElBQ0F2USxLQUFBd08sYUFBQXdLLEtBQUFDLE1BQUFDLGFBQUEsY0FBQSxNQUNBbFosS0FBQTJZLG9CQUNBLE1BQUFyVSxNQUdBb1UsbUJBQUEsU0FBQXJDLEdBQ0FyVyxLQUFBd08sYUFBQWpNLEtBQUE4VCxHQUNBclcsS0FBQXdPLGFBQUFwTCxPQUFBLElBQ0FwRCxLQUFBd08sYUFBQTJLLFFBQ0FELGFBQUEsYUFBQUYsS0FBQUksVUFBQXBaLEtBQUF3TyxlQUdBNkssZUFBQSxTQUFBcFUsR0FDQSxJQUFBLEdBQUFsQixHQUFBLEVBQUFBLEVBQUEvRCxLQUFBc08sYUFBQWxMLFNBQUFXLEVBQ0EsR0FBQS9ELEtBQUFzTyxhQUFBdkssR0FBQXNTLFNBQUFwUixFQUFBQSxLQUFBLENBQ0EsR0FBQW9SLEdBQUFyVyxLQUFBc08sYUFBQTRDLE9BQUFuTixFQUFBLEdBQUEsRUFFQSxPQURBc1MsR0FBQXlCLFNBQ0F6QixFQUdBLE1BQUEsT0FHQTlFLHVCQUFBLFdBQ0EsR0FBQStILEdBQUF2VyxFQUFBd1csVUFDQSxRQUFBMUksYUFBQUMsWUFDQSxJQUFBLFVBQ0FELGFBQUEySSxrQkFBQSxTQUFBMUksR0FDQSxPQUFBQSxHQUNBLElBQUEsVUFDQXdJLEVBQUFHLFFBQUEzSSxFQUNBLE1BQ0EsU0FDQXdJLEVBQUFJLE9BQUE1SSxLQUdBLE1BQ0EsS0FBQSxVQUNBd0ksRUFBQUcsUUFBQTVJLGFBQUFDLFdBQ0EsTUFDQSxLQUFBLFNBQ0EsUUFDQXdJLEVBQUFJLE9BQUE3SSxhQUFBQyxZQUdBLE1BQUF3SSxHQUFBSyxXQUdBQyxpQkFBQSxTQUFBdkQsR0FDQSxHQUFBLFlBQUF4RixhQUFBQyxXQUFBLENBQ0EsR0FBQWdELEdBQUEsR0FBQWpELGNBQUF3RixFQUFBN1QsS0FBQTBSLFNBQUEsYUFDQTJGLEtBQUF4RCxFQUFBQSxRQUNBeUQsSUFBQXpELEVBQUEwRCxVQUFBQyxPQUNBQyxLQUFBaFMsUUFBQWlTLElBQUEsMkJBQ0FDLElBQUEsUUFFQWpFLFlBQUFwQyxFQUFBc0csTUFBQXZNLEtBQUFpRyxHQUFBLEtBQ0FBLEVBQUF1RyxRQUFBLGVBTUEvSixpQkFBQSxXQUNBdFEsS0FBQXNKLE9BQUE5RyxNQUFBeEMsS0FBQXNKLE9BQUE5RyxLQUFBMFIsV0FDQWxVLEtBQUE2TyxlQUFBck0sS0FBQSxHQUFBMEUsUUFBQSxXQUFBbEgsS0FBQXNKLE9BQUE5RyxLQUFBMFIsU0FBQSxPQUFBLEtBRUEsSUFBQW9HLEdBQUF0YSxLQUFBeVIsY0FBQSxrQkFDQSxJQUFBNkksRUFBQWxYLE9BQUEsRUFBQSxDQUNBLElBQUEsR0FBQVcsR0FBQXVXLEVBQUFsWCxPQUFBLEVBQUFXLEdBQUEsRUFBQUEsSUFDQXVXLEVBQUF2VyxHQUFBdVcsRUFBQXZXLEdBQUFnRCxRQUFBLHNDQUFBLE9BQ0EvRyxNQUFBNk8sZUFBQTBMLE9BQUEsR0FBQXJULFFBQUEsU0FBQW9ULEVBQUF4UixLQUFBLEtBQUEsT0FBQSxPQUlBMFIsZUFBQSxTQUFBaFYsRUFBQWlWLEdBQ0FBLEVBQ0F6YSxLQUFBb08sTUFBQTRFLFNBQUEsc0JBQUF4TixFQUFBVCxjQUFBLE1BQUFnSSxTQUFBLGFBRUEvTSxLQUFBb08sTUFBQTRFLFNBQUEsc0JBQUF4TixFQUFBVCxjQUFBLE1BQUF5SSxZQUFBLGNBSUE4SyxnQkFBQSxTQUFBakMsR0FDQSxJQUFBQSxFQUFBN1QsT0FBQTZULEVBQUE3VCxLQUFBMFIsVUFBQW1DLEVBQUE3VCxLQUFBMFIsVUFBQWxVLEtBQUFzSixPQUFBOUcsS0FBQTBSLFdBQUFsVSxLQUFBeVIsY0FBQSxhQUNBLE9BQUEsQ0FFQSxJQUFBNEUsRUFBQTdULEtBQUEyRyxXQUFBbEIsUUFBQUssYUFBQWtNLEtBQ0EsT0FBQSxDQUVBLElBQUFrRyxHQUFBMWEsS0FBQXlSLGNBQUEsaUJBV0EsUUFUQWlKLEVBQUFyRSxFQUFBN1QsS0FBQTBSLFNBQUFuUCxnQkFBQTJWLEVBQUFyRSxFQUFBN1QsS0FBQTBSLFdBQ0FsVSxLQUFBNk8sZUFBQXJNLE1BQUF4QyxLQUFBNk8sZUFBQXJNLEtBQUEyRSxLQUFBa1AsRUFBQUEsVUFDQXJXLEtBQUE2TyxlQUFBMEwsUUFBQXZhLEtBQUE2TyxlQUFBMEwsT0FBQXBULEtBQUFrUCxFQUFBQSxZQUVBQSxFQUFBOUosR0FBQVEsU0FBQSxjQUVBL00sS0FBQXlSLGNBQUEsdUJBQUF6UixLQUFBMmEsWUFBQTNhLEtBQUE0TyxnQkFDQTVPLEtBQUE0WixpQkFBQXZELEtBRUEsR0FHQWxGLGNBQUEsU0FBQXlKLEVBQUFsUCxHQUNBMUwsS0FBQW1QLFlBQUF5TCxHQUFBbFAsTUFBQUEsRUFDQTFMLEtBQUE2YSxzQkFDQTdhLEtBQUE4YSxtQkFHQXJKLGNBQUEsU0FBQW1KLEdBQ0EsTUFBQTVhLE1BQUFtUCxZQUFBeUwsR0FBQWxQLE9BQUEsTUFHQTJFLGdCQUFBLFdBQ0EsSUFDQSxHQUFBbEIsR0FBQTZKLEtBQUFDLE1BQUFDLGFBQUEsYUFBQSxLQUNBLEtBQUEsR0FBQTBCLEtBQUF6TCxHQUNBQSxFQUFBN00sZUFBQXNZLElBQUE1YSxLQUFBbVAsWUFBQTdNLGVBQUFzWSxLQUNBNWEsS0FBQW1QLFlBQUF5TCxHQUFBbFAsTUFBQXlELEVBQUF5TCxHQUVBNWEsTUFBQTZhLHNCQUNBLE1BQUFFLE1BR0FELGdCQUFBLFdBQ0EsSUFDQSxHQUFBM0wsS0FDQSxLQUFBLEdBQUF5TCxLQUFBNWEsTUFBQW1QLFlBQ0FuUCxLQUFBbVAsWUFBQTdNLGVBQUFzWSxLQUNBekwsRUFBQXlMLEdBQUE1YSxLQUFBbVAsWUFBQXlMLEdBQUFsUCxNQUVBd04sY0FBQSxZQUFBRixLQUFBSSxVQUFBakssR0FDQSxNQUFBNEwsTUFHQUYsb0JBQUEsV0FDQSxJQUFBLEdBQUFELEtBQUE1YSxNQUFBbVAsWUFDQW5QLEtBQUFtUCxZQUFBN00sZUFBQXNZLElBQUEsaUJBQUE1YSxNQUFBbVAsWUFBQXlMLEdBQUFsUCxPQUNBMUwsS0FBQXVNLEdBQUEwSyxZQUFBLFFBQUEyRCxFQUFBNWEsS0FBQW1QLFlBQUF5TCxHQUFBbFAsUUFJQXNQLG1CQUFBLFNBQUE5RyxHQUNBbFUsS0FBQW9PLE1BQUE0RSxTQUFBLHNCQUFBa0IsRUFBQW5QLGNBQUEsTUFBQTJOLFNBQ0ExUyxLQUFBd00sYUFBQVUsU0FHQWtGLHNCQUFBLFNBQUEwQixHQUNBOVQsS0FBQWdQLFdBQUFpTSxLQUFBQyxJQUFBLEVBQUFwSCxHQUNBOVQsS0FBQWlQLFFBQUFnSSxZQUFBLFVBQUFqWCxLQUFBZ1AsWUFBQTlDLEtBQUFsTSxLQUFBZ1AsYUFHQTJMLFNBQUEsV0FDQSxNQUFBM2EsTUFBQWlELE1BQUFxTyxHQUFBLGFBS0E3TyxTQUFBLFNBQUE1QyxHQUtBLE1BSkFBLEdBQUFBLE1BQ0FHLEtBQUF3RixLQUFBM0YsRUFBQTJGLE1BQUEsR0FDQXhGLEtBQUFrVSxTQUFBclUsRUFBQTJGLE1BQUEsR0FDQXhGLEtBQUFrSixTQUFBckosRUFBQXFKLGFBQ0FsSixNQUVBeUMsU0FBQW1DLFVBQUF5RCxlQUFBLFdBQ0EsSUFBQSxHQUFBdEUsR0FBQSxFQUFBQSxFQUFBd1IsVUFBQW5TLE9BQUFXLElBQ0EsR0FBQS9ELEtBQUFrSixTQUFBN0MsUUFBQWtQLFVBQUF4UixPQUFBLEVBQ0EsT0FBQSxDQUVBLFFBQUEsR0FFQXRCLFNBQUFtQyxVQUFBdUUsV0FBQSxTQUFBZ1MsR0FDQSxNQUFBbmIsTUFBQXFJLGVBQUE4UyxJQUlBMUQsY0FBQSxTQUFBeEwsR0FDQSxNQUFBak0sTUFBQWdPLEtBQUEvQixJQUVBd0wsY0FBQTdTLFVBQUFvSixLQUFBLFNBQUEvQixHQUVBLE1BREFqTSxNQUFBcVcsUUFBQXBLLEVBQ0FqTSxNQUVBeVgsY0FBQTdTLFVBQUFxSCxLQUFBLFdBQ0EsTUFBQWpNLE1BQUFvYixLQUFBcGIsS0FBQXFiLGdCQUVBNUQsY0FBQTdTLFVBQUF3VyxLQUFBLFNBQUFuUCxHQUNBLE1BQUEsdUJBQUFBLEVBQUEsVUFFQXdMLGNBQUE3UyxVQUFBeVcsWUFBQSxXQUNBLE1BQUFyYixNQUFBcVcsU0FLQWlGLFlBQUEsU0FBQWpGLEVBQUEwRCxHQUNBLE1BQUEvWixNQUFBZ08sS0FBQXFJLEVBQUEwRCxJQUVBdUIsWUFBQTFXLFVBQUFvSixLQUFBLFNBQUFxSSxFQUFBMEQsR0FNQSxNQUxBL1osTUFBQXFXLFFBQUFBLEVBQ0FyVyxLQUFBK1osVUFBQXdCLE9BQUFDLElBQUF6QixHQUFBMEIsUUFDQXpiLEtBQUEwWCxNQUFBLEtBQ0ExWCxLQUFBc1MsS0FBQSxPQUNBdFMsS0FBQXVQLGdCQUFBdEgsUUFBQXJJLEtBQUE4QyxJQUFBK08sY0FBQSxtQkFDQXpSLE1BRUFzYixZQUFBMVcsVUFBQWtULE9BQUEsU0FBQUosR0FRQSxNQVBBMVgsTUFBQXVNLEtBQ0FtTCxFQUNBMVgsS0FBQXVNLEdBQUFRLFNBQUEySyxHQUVBMVgsS0FBQXVNLEdBQUFpQixZQUFBeE4sS0FBQTBYLFFBRUExWCxLQUFBMFgsTUFBQUEsRUFDQTFYLE1BRUFzYixZQUFBMVcsVUFBQThXLFNBQUEsV0FDQSxNQUFBLGdCQUFBMWIsS0FBQStaLFVBQUEzUixPQUFBLDJCQUFBLGVBQUFwSSxLQUFBK1osVUFBQTNSLE9BQUEsMkJBQUEsS0FDQXBJLEtBQUErWixVQUFBM1IsT0FBQXBJLEtBQUF1UCxpQkFDQSxXQUVBK0wsWUFBQTFXLFVBQUF5VyxZQUFBLFdBQ0EsTUFBQXRZLEdBQUEsdUJBQUFtSixLQUFBbE0sS0FBQXFXLFNBQUFwRCxJQUFBLEdBQUEwSSxXQUVBTCxZQUFBMVcsVUFBQXFILEtBQUEsV0FDQSxNQUFBak0sTUFBQW9iLEtBQUFwYixLQUFBMGIsV0FBQSxJQUFBMWIsS0FBQXFiLGdCQUVBQyxZQUFBMVcsVUFBQXdXLEtBQUEsU0FBQWxELEdBQ0EsTUFBQSxlQUFBbFksS0FBQXNTLEtBQUEsU0FBQTRGLEVBQUEsVUFLQUssaUJBQUEsU0FBQXFELEVBQUE3QixHQUdBLE1BRkEvWixNQUFBZ08sS0FBQTROLEVBQUE3QixHQUNBL1osS0FBQXNTLEtBQUEsUUFDQXRTLE1BRUErQyxFQUFBZ0wsT0FBQXdLLGlCQUFBM1QsVUFBQTBXLFlBQUExVyxXQUNBMlQsaUJBQUEzVCxVQUFBcUgsS0FBQSxXQUNBLE1BQUFqTSxNQUFBb2IsS0FBQXBiLEtBQUEwYixXQUFBLCtCQUFBMWIsS0FBQXFiLGdCQUtBUSxnQkFBQSxTQUFBeEYsRUFBQTBELEdBR0EsTUFGQS9aLE1BQUFnTyxLQUFBcUksRUFBQTBELEdBQ0EvWixLQUFBc1MsS0FBQSxPQUNBdFMsTUFFQStDLEVBQUFnTCxPQUFBOE4sZ0JBQUFqWCxVQUFBMFcsWUFBQTFXLFdBQ0FpWCxnQkFBQWpYLFVBQUFxSCxLQUFBLFdBQ0EsTUFBQWpNLE1BQUFvYixLQUFBcGIsS0FBQTBiLFdBQUEsOEJBQUExYixLQUFBcWIsZ0JBRUFRLGdCQUFBalgsVUFBQXlXLFlBQUEsV0FJQSxJQUFBLEdBSEE5RyxHQUFBeFIsRUFBQSx1QkFBQW1KLEtBQUFsTSxLQUFBcVcsU0FDQXlGLEVBQUF2SCxFQUFBdEksT0FFQWxJLEVBQUEsRUFBQUEsRUFBQWtFLFFBQUFySSxLQUFBOEMsSUFBQXFNLFdBQUEzTCxTQUFBVyxFQUNBK1gsRUFBQTdULFFBQUFySSxLQUFBOEMsSUFBQXFNLFdBQUFoTCxHQUFBcUUsT0FBQTBULEVBQUEsS0FBQTliLEtBQUFxVyxRQUdBLE9BREE5QixHQUFBdEksS0FBQTZQLEdBQ0F2SCxFQUFBdEIsSUFBQSxHQUFBMEksV0FLQUksbUJBQUEsU0FBQTFGLEVBQUEwRCxHQUdBLE1BRkEvWixNQUFBZ08sS0FBQXFJLEVBQUEwRCxHQUNBL1osS0FBQXNTLEtBQUEsVUFDQXRTLE1BRUErQyxFQUFBZ0wsT0FBQWdPLG1CQUFBblgsVUFBQTBXLFlBQUExVyxXQUNBbVgsbUJBQUFuWCxVQUFBcUgsS0FBQSxXQUNBLE1BQUFqTSxNQUFBb2IsS0FBQXBiLEtBQUEwYixXQUFBLGlDQUFBMWIsS0FBQXFiLGdCQUtBVyxrQkFBQSxTQUFBM0YsRUFBQTBELEdBR0EsTUFGQS9aLE1BQUFnTyxLQUFBcUksRUFBQTBELEdBQ0EvWixLQUFBc1MsS0FBQSxTQUNBdFMsTUFFQStDLEVBQUFnTCxPQUFBaU8sa0JBQUFwWCxVQUFBMFcsWUFBQTFXLFdBQ0FvWCxrQkFBQXBYLFVBQUFxSCxLQUFBLFdBQ0EsTUFBQWpNLE1BQUFvYixLQUFBcGIsS0FBQTBiLFdBQUEsZ0NBQUExYixLQUFBcWIsZ0JBS0FZLHFCQUFBLFNBQUE1RixFQUFBMEQsR0FJQSxNQUhBL1osTUFBQWdPLEtBQUFxSSxFQUFBMEQsR0FDQS9aLEtBQUFzUyxLQUFBLFlBQ0F0UyxLQUFBd0MsTUFBQTBHLFVBQUEsT0FDQWxKLE1BRUErQyxFQUFBZ0wsT0FBQWtPLHFCQUFBclgsVUFBQTBXLFlBQUExVyxXQUNBcVgscUJBQUFyWCxVQUFBcUgsS0FBQSxXQUNBLE1BQUFqTSxNQUFBb2IsS0FBQXBiLEtBQUEwYixXQUFBLElBQUExYixLQUFBcWIsZ0JBRUFZLHFCQUFBclgsVUFBQXlXLFlBQUEsV0FJQSxJQUFBLEdBSEE5RyxHQUFBeFIsRUFBQSx1QkFBQW1KLEtBQUFsTSxLQUFBcVcsU0FDQXlGLEVBQUF2SCxFQUFBdEksT0FFQWxJLEVBQUEsRUFBQUEsRUFBQWtFLFFBQUFySSxLQUFBOEMsSUFBQXFNLFdBQUEzTCxTQUFBVyxFQUNBK1gsRUFBQTdULFFBQUFySSxLQUFBOEMsSUFBQXFNLFdBQUFoTCxHQUFBcUUsT0FBQTBULEVBQUEsS0FBQTliLEtBQUFxVyxRQUdBLE9BREE5QixHQUFBdEksS0FBQTZQLEdBQ0F2SCxFQUFBdEIsSUFBQSxHQUFBMEksV0FLQWhFLGdCQUFBLFNBQUF0QixFQUFBN1QsRUFBQXVYLEdBS0EsTUFKQS9aLE1BQUFnTyxLQUFBcUksRUFBQTBELEdBQ0EvWixLQUFBc1MsS0FBQSxPQUNBdFMsS0FBQXdDLEtBQUFBLEVBQ0F4QyxLQUFBa2MsaUJBQ0FsYyxNQUVBK0MsRUFBQWdMLE9BQUE0SixnQkFBQS9TLFVBQUEwVyxZQUFBMVcsV0FDQStTLGdCQUFBL1MsVUFBQXNYLGVBQUEsV0FDQWxjLEtBQUFtYyxXQUFBLEVBQ0EsU0FBQW5jLEtBQUFxVyxRQUFBclEsVUFBQSxFQUFBLElBQ0FoRyxLQUFBbWMsV0FBQSxFQUNBbmMsS0FBQXFXLFFBQUFyVyxLQUFBcVcsUUFBQXJRLFVBQUEsSUFDQSxPQUFBaEcsS0FBQXFXLFFBQUFyUSxVQUFBLEVBQUEsS0FDQWhHLEtBQUFxVyxRQUFBclcsS0FBQXFXLFFBQUFyUSxVQUFBLEtBRUEyUixnQkFBQS9TLFVBQUF3VyxLQUFBLFNBQUFuUCxFQUFBbVEsR0FDQSxNQUFBcGMsTUFBQXdDLE1BQUF4QyxLQUFBd0MsS0FBQTBSLFNBQ0EsZUFBQWxVLEtBQUFzUyxLQUFBLFFBQUEsRUFBQSxJQUFBOEosRUFBQSxJQUFBLG9CQUFBcGMsS0FBQXdDLEtBQUEwUixTQUFBblAsY0FBQSxLQUFBa0gsRUFBQSxTQUVBLGVBQUFqTSxLQUFBc1MsS0FBQSxRQUFBLEVBQUEsSUFBQThKLEVBQUEsSUFBQSxLQUFBblEsRUFBQSxVQUdBMEwsZ0JBQUEvUyxVQUFBeVgsZUFBQSxTQUFBN1osR0FDQSxHQUFBOFosR0FBQSxFQUVBOVosR0FBQTJHLFdBQUFsQixRQUFBSyxhQUFBRSxjQUNBOFQsR0FBQSx5REFDQTlaLEVBQUEyRyxXQUFBbEIsUUFBQUssYUFBQUMsY0FDQStULEdBQUEseURBQ0E5WixFQUFBMkcsV0FBQWxCLFFBQUFLLGFBQUFHLGNBQ0E2VCxHQUFBLHlEQUNBOVosRUFBQTJHLFdBQUFsQixRQUFBSyxhQUFBaVUsY0FDQUQsR0FBQSx3REFDQTlaLEVBQUEyRyxXQUFBbEIsUUFBQUssYUFBQWMsZUFBQTVHLEVBQUEyRyxXQUFBbEIsUUFBQUssYUFBQXNNLGNBQ0EwSCxHQUFBLHVEQUVBLEtBQUEsR0FBQXZZLEdBQUEsRUFBQUEsRUFBQXZCLEVBQUEwRyxTQUFBOUYsT0FBQVcsSUFDQSxPQUFBdkIsRUFBQTBHLFNBQUFuRixJQUNBLElBQUFrRSxTQUFBSyxhQUFBYyxhQUNBa1QsR0FBQSx3REFDQSxNQUNBLEtBQUFyVSxTQUFBSyxhQUFBa00sSUFDQThILEdBQUEsbUNBQ0EsTUFDQSxLQUFBclUsU0FBQUssYUFBQW1NLEtBQ0E2SCxHQUFBLG9DQUNBLE1BQ0EsS0FBQXJVLFNBQUFLLGFBQUFrVSxRQUNBRixHQUFBLDJDQUNBLE1BQ0EsS0FBQXJVLFNBQUFLLGFBQUFtVSxRQUNBSCxHQUFBLDJDQUNBLE1BQ0EsS0FBQXJVLFNBQUFLLGFBQUFvVSxZQUNBSixHQUFBLG1EQUNBLE1BQ0EsS0FBQXJVLFNBQUFLLGFBQUFxVSxjQUNBTCxHQUFBLDREQUNBLE1BQ0EsS0FBQXJVLFNBQUFLLGFBQUFzVSxJQUNBTixHQUFBLG1DQUNBLE1BQ0EsS0FBQXJVLFNBQUFLLGFBQUF1VSxJQUNBUCxHQUFBLDJDQUNBLE1BQ0EsS0FBQXJVLFNBQUFLLGFBQUFxTSxZQUNBMkgsR0FBQSxvREFLQSxNQUFBQSxJQUdBM0UsZ0JBQUEvUyxVQUFBa1ksU0FBQSxTQUFBdGEsR0FDQSxPQUFBeEMsS0FBQSxVQUFBLEdBQUFBLEtBQUFxYyxlQUFBN1osSUFBQSxtQkFBQUEsRUFBQTBHLFNBQUFKLEtBQUEsS0FBQSxLQUFBdEcsRUFBQTBSLFNBQUEsUUFFQXlELGdCQUFBL1MsVUFBQXlXLFlBQUEsV0FDQSxHQUFBOUcsR0FBQXhSLEVBQUEsdUJBQUFtSixLQUFBbE0sS0FBQXFXLFNBQ0F5RixFQUFBdkgsRUFBQXRJLE1BRUFqTSxNQUFBbWMsV0FDQTVILEVBQUF4SCxTQUFBLFFBRUEsS0FBQSxHQUFBaEosR0FBQSxFQUFBQSxFQUFBa0UsUUFBQXJJLEtBQUE4QyxJQUFBcU0sV0FBQTNMLFNBQUFXLEVBQ0ErWCxFQUFBN1QsUUFBQXJJLEtBQUE4QyxJQUFBcU0sV0FBQWhMLEdBQUFxRSxPQUFBMFQsRUFBQTliLEtBQUF3QyxLQUFBeEMsS0FBQXFXLFFBR0EsT0FEQTlCLEdBQUF0SSxLQUFBNlAsR0FDQXZILEVBQUF0QixJQUFBLEdBQUEwSSxXQUVBaEUsZ0JBQUEvUyxVQUFBcUgsS0FBQSxXQUNBLE1BQUFqTSxNQUFBb2IsS0FBQXBiLEtBQUEwYixXQUFBLEtBQUExYixLQUFBbWMsVUFBQSxJQUFBLElBQUFuYyxLQUFBOGMsU0FBQTljLEtBQUF3QyxPQUFBeEMsS0FBQW1jLFVBQUEsSUFBQSxNQUFBbmMsS0FBQXFiLGdCQUVBMUQsZ0JBQUEvUyxVQUFBZ1QsVUFBQSxXQUNBLE1BQUE1WCxNQUFBbWMsVUFDQW5jLEtBQUFvYixLQUFBcGIsS0FBQTBiLFdBQUEsS0FBQTFiLEtBQUE4YyxTQUFBOWMsS0FBQXdDLE1BQUEsSUFBQXhDLEtBQUFxYixlQUNBcmIsS0FBQW9iLEtBQUFwYixLQUFBMGIsV0FBQSx1Q0FBQTFiLEtBQUFxYixjQUFBLGFBS0EwQix1QkFBQSxTQUFBOVgsRUFBQXpDLEVBQUFnVSxFQUFBdUQsR0FPQSxNQU5BL1osTUFBQWdPLEtBQUEvSSxFQUFBOFUsR0FDQS9aLEtBQUFzUyxLQUFBLE9BQ0F0UyxLQUFBd0MsS0FBQUEsRUFDQXhDLEtBQUF3VyxVQUFBQSxFQUNBeFcsS0FBQWtjLGlCQUNBbGMsS0FBQW1jLFdBQUEsRUFDQW5jLE1BRUErQyxFQUFBZ0wsT0FBQWdQLHVCQUFBblksVUFBQStTLGdCQUFBL1MsV0FDQW1ZLHVCQUFBblksVUFBQXdXLEtBQUEsU0FBQW5QLEVBQUFtUSxHQUNBLE1BQUEsZUFDQXBjLEtBQUFzUyxLQUFBLFFBQUEsRUFBQSxJQUFBOEosRUFBQSxJQUFBLHFDQUFBcGMsS0FBQXdXLFVBQUEsb0JBQUF4VyxLQUFBd0MsS0FBQTBSLFNBQUFuUCxjQUFBLEtBQ0FrSCxFQUNBLGlLQU1BOFEsdUJBQUFuWSxVQUFBa1ksU0FBQSxTQUFBdGEsR0FDQSxNQUFBLDRFQUFBQSxFQUFBMFIsU0FBQSxRQUtBOEksaUJBQUEsU0FBQTFYLEVBQUF5VSxHQUlBLE1BSEEvWixNQUFBZ08sS0FBQTFJLEVBQUF5VSxHQUNBL1osS0FBQWlkLFdBQUEsRUFDQWpkLEtBQUFrZCxhQUFBLEtBQ0FsZCxNQUVBK0MsRUFBQWdMLE9BQUFpUCxpQkFBQXBZLFVBQUEwVyxZQUFBMVcsV0FDQW9ZLGlCQUFBcFksVUFBQXVZLG1CQUFBLFdBQ0EsTUFBQSxvQkFBQW5kLEtBQUFpZCxXQUFBLHNDQUVBRCxpQkFBQXBZLFVBQUFxSCxLQUFBLFdBQ0EsTUFBQWpNLE1BQUFvYixLQUFBcGIsS0FBQTBiLFdBQUEsSUFBQTFiLEtBQUFxYixjQUFBLDRCQUFBcmIsS0FBQW1kLHFCQUFBLFdBRUFILGlCQUFBcFksVUFBQXlXLFlBQUEsV0FJQSxJQUFBLEdBSEE5RyxHQUFBeFIsRUFBQSx1QkFBQW1KLEtBQUFsTSxLQUFBcVcsU0FDQXlGLEVBQUF2SCxFQUFBdEksT0FFQWxJLEVBQUEsRUFBQUEsRUFBQWtFLFFBQUFySSxLQUFBOEMsSUFBQXFNLFdBQUEzTCxTQUFBVyxFQUNBK1gsRUFBQTdULFFBQUFySSxLQUFBOEMsSUFBQXFNLFdBQUFoTCxHQUFBcUUsT0FBQTBULEVBQUEsS0FBQTliLEtBQUFxVyxRQUdBLE9BREE5QixHQUFBdEksS0FBQTZQLEdBQ0F2SCxFQUFBdEIsSUFBQSxHQUFBMEksV0FFQXFCLGlCQUFBcFksVUFBQXdZLGNBQUEsYUFDQXBkLEtBQUFpZCxVQUVBLElBQUFJLEdBQUEsRUFDQXJkLE1BQUFpZCxZQUFBLEdBQ0FJLEVBQUEsT0FDQXJkLEtBQUFpZCxZQUFBLEdBQ0FJLEVBQUEsT0FDQXJkLEtBQUFpZCxZQUFBLEdBQ0FJLEVBQUEsT0FDQXJkLEtBQUFpZCxZQUFBLEdBQ0FJLEVBQUEsT0FDQXJkLEtBQUFpZCxZQUFBLElBQ0FJLEVBQUEsT0FFQSxNQUFBcmQsS0FBQWtkLGVBQ0FsZCxLQUFBa2QsYUFBQWxkLEtBQUF1TSxHQUFBUyxLQUFBLGdCQUVBaE4sS0FBQWtkLGFBQUFJLFNBQUFsTSxLQUFBLFFBQUEsYUFBQWlNLEdBQUFwUixLQUFBak0sS0FBQW1kLHNCQUFBM0osU0FBQXhULEtBQUF1TSxNQUlBdkUsUUwxbkNBQyxRQUFBSyxjQUNBaVYsVUFBQSxZQUNBM0ksV0FBQSxhQUNBeEwsYUFBQSxTQUNBbVQsYUFBQSxVQUNBOVQsYUFBQSxTQUNBRixhQUFBLFNBQ0FDLGFBQUEsU0FDQWtNLElBQUEsTUFDQS9MLFVBQUEsWUFDQUQsTUFBQSxRQUNBaU0sWUFBQSxVQUNBSCxJQUFBLE1BQ0FDLEtBQUEsVUFDQStILFFBQUEsU0FDQUMsUUFBQSxTQUNBQyxZQUFBLFNBQ0FDLGNBQUEsU0FDQUMsSUFBQSxTQUNBQyxJQUFBLFdBcURBamQsS0FBQWdGLFVBQUE0WSxNQUFBLFdBSUEsTUFIQXpWLFFBQUEwVixlQUNBMVYsT0FBQTJWLFVBQUFELGNBRUExVixPQUFBMlYsV0FHQTFkLEtBQUF1WCxnQkFBQXhVLEVBQUFlLE1BQUE5RCxLQUFBdVgsZ0JBQUF2WCxNQUNBQSxLQUFBMEMsSUFBQTRVLGNBQ0F0WCxLQUFBMmQsaUJBQ0EzZCxLQUFBMEMsSUFBQUgsS0FBQSxHQUFBeVosbUJBQUEsa0JBQ0FoYyxLQUFBZ08sT0FDQWhPLE1BUEFBLEtBQUEwQyxJQUFBSCxLQUFBLEdBQUFnVyxrQkFBQXZZLEtBQUFRLGFBQUFZLGlCQVNBeEIsS0FBQWdGLFVBQUFnWixFQUFBLFdBQ0EsR0FBQTVkLEtBQUFLLE1BQUEsQ0FHQSxHQUFBd2QsR0FBQUMsU0FBQWxaLFVBQUFpSixLQUFBeUgsS0FBQXlJLFFBQUFGLElBQUFFLFFBQ0FGLEdBQUFHLE1BQUFELFFBQUF4SSxhQUVBM1YsS0FBQWdGLFVBQUFvSixLQUFBLFdBQ0FoTyxLQUFBaWUsS0FBQSxHQUFBUCxXQUFBMWQsS0FBQUMsUUFDQUQsS0FBQWllLEtBQUFDLE9BQUFuYixFQUFBZSxNQUFBLFdBQ0EsR0FBQXFhLElBQUFsWixLQUFBLFVBQ0FqRixNQUFBb2UsaUJBQUFELElBQ0FuZSxNQUNBQSxLQUFBaWUsS0FBQUksUUFBQXRiLEVBQUFlLE1BQUEsV0FDQSxHQUFBcWEsSUFBQWxaLEtBQUEsb0JBQ0FqRixNQUFBb2UsaUJBQUFELElBQ0FuZSxNQUNBQSxLQUFBaWUsS0FBQUssVUFBQXZiLEVBQUFlLE1BQUE5RCxLQUFBb2UsaUJBQUFwZSxNQUNBQSxLQUFBaWUsS0FBQU0sUUFBQXhiLEVBQUFlLE1BQUEsV0FDQSxHQUFBcWEsSUFBQWxaLEtBQUEsV0FDQWpGLE1BQUFvZSxpQkFBQUQsSUFDQW5lLE1BRUFBLEtBQUE0ZCxFQUFBN2EsRUFBQWUsTUFBQTlELEtBQUE0ZCxFQUFBNWQsTUFDQUEsS0FBQXdZLEtBQUF6VixFQUFBZSxNQUFBOUQsS0FBQXdZLEtBQUF4WSxPQUVBSixLQUFBZ0YsVUFBQStZLGVBQUEsV0FDQSxJQUNBM2QsS0FBQU8sV0FBQXlZLEtBQUFDLE1BQUFDLGFBQUEsZ0JBQUEsTUFDQSxNQUFBNVUsSUFDQXRFLEtBQUF3ZSxZQUFBLE1BSUE1ZSxLQUFBZ0YsVUFBQXdaLGlCQUFBLFNBQUE5WixHQUNBLEdBQUFtYSxHQUFBbmEsRUFBQVcsS0FBQWdNLE1BQUEsSUFBQSxHQUFBLEdBQ0F5TixFQUFBLEtBQUFELEVBQ0FFLEVBQUEzRixLQUFBQyxNQUFBM1UsRUFBQVcsS0FBQWUsVUFBQXlZLEVBQUFyYixPQUFBLEdBR0EsT0FEQXBELE1BQUE0ZCxFQUFBYyxFQUFBQyxHQUNBLFFBQUFGLEVBQ0F6ZSxLQUFBaWUsS0FBQWpKLEtBQUEsUUFBQTFRLEVBQUFXLEtBQUFlLFVBQUF5WSxFQUFBcmIsT0FBQSxTQUVBcEQsS0FBQTBlLElBQ0ExZSxLQUFBMGUsR0FBQUMsS0FFQS9lLEtBQUFnRixVQUFBMlMsZ0JBQUEsU0FBQXFILEdBQ0EsR0FBQUgsR0FBQUcsRUFBQTNOLE1BQUEsSUFBQSxHQUFBLEdBQ0F5TixFQUFBLEtBQUFELEVBQ0FFLEVBQUEzRixLQUFBQyxNQUFBMkYsRUFBQTVZLFVBQUF5WSxFQUFBcmIsT0FBQSxHQUVBcEQsTUFBQU0sTUFBQXFlLEVBQUFuWixRQUNBeEYsS0FBQU0sTUFBQXFlLEVBQUFuWixNQUFBLEdBQUEvQyxVQUFBa2MsSUFFQTNlLEtBQUEwZSxJQUNBMWUsS0FBQTBlLEdBQUFDLElBR0EvZSxLQUFBZ0YsVUFBQTRULEtBQUEsU0FBQWlHLEVBQUF4WixHQUNBakYsS0FBQWllLEtBQUFqSixLQUFBeUosRUFBQSxJQUFBekYsS0FBQUksVUFBQW5VLEtBSUFyRixLQUFBZ0YsVUFBQWlhLE9BQUEsV0FDQTdlLEtBQUFJLFdBQUEsR0FFQVIsS0FBQWdGLFVBQUFrYSxRQUFBLFdBQ0EsSUFBQTllLEtBQUErZSxZQUFBLENBQ0EsR0FBQUMsR0FBQWhmLEtBQUEsVUFBQWlmLGFBQUEsSUFBQSxLQUFBQSxhQUFBLElBQUEsSUFDQS9JLFlBQUFuVCxFQUFBZSxNQUFBOUQsS0FBQWtmLFlBQUFsZixNQUFBZ2YsR0FDQWhmLEtBQUFJLFdBQUEsRUFDQUosS0FBQTBDLElBQUFILEtBQUEsR0FBQXlaLG1CQUFBLG1DQUFBZixLQUFBa0UsTUFBQUgsRUFBQSxLQUFBLGVBRUFwZixLQUFBZ0YsVUFBQXdhLFFBQUEsU0FBQW5hLEdBQ0EsR0FBQUEsRUFBQTNFLE1BQUEsQ0FDQSxJQUFBLEdBQUF5RCxHQUFBa0IsRUFBQTNFLE1BQUE4QyxPQUFBLEVBQUFXLEdBQUEsRUFBQUEsSUFBQSxDQUNBLEdBQUF1USxHQUFBclAsRUFBQTNFLE1BQUF5RCxFQUNBL0QsTUFBQU0sTUFBQWdVLEVBQUE5TyxNQUFBLEdBQUEvQyxVQUFBNlIsR0FDQXRVLEtBQUFxZixhQUFBL0ssRUFBQTlPLEtBQUEsS0FDQXhGLEtBQUEwQyxJQUFBeUwsbUJBQUE1SSxRQUFBK08sRUFBQTlPLE1BRUF4RixLQUFBMEMsSUFBQWlOLFFBQUEsUUFBQTFLLEdBR0FqRixLQUFBMEMsSUFBQUgsS0FBQSxHQUFBeVosbUJBQUEsa0NBQUEvVyxFQUFBcWEsa0JBRUF0ZixLQUFBOEMsZ0JBQ0E5QyxLQUFBOEMsZUFBQSxFQUNBOUMsS0FBQXlZLGNBQUEsVUFHQTdZLEtBQUFnRixVQUFBMmEsT0FBQSxTQUFBdGEsR0FDQWpGLEtBQUFNLE1BQUEyRSxFQUFBTyxNQUFBLEdBQUEvQyxVQUFBd0MsR0FFQWpGLEtBQUFxZixhQUFBcGEsRUFBQU8sS0FBQSxLQUNBeEYsS0FBQTBDLElBQUF5TCxtQkFBQTVJLFFBQUFOLEVBQUFPLE1BRUF4RixLQUFBMEMsSUFBQWlOLFFBQUEsT0FBQTFLLElBRUFyRixLQUFBZ0YsVUFBQTRhLE9BQUEsU0FBQXZhLEdBQ0FqRixLQUFBTSxNQUFBMkUsRUFBQU8sY0FDQXhGLE1BQUFNLE1BQUEyRSxFQUFBTyxNQUNBeEYsS0FBQTBDLElBQUFpTixRQUFBLE9BQUExSyxLQUdBckYsS0FBQWdGLFVBQUF5YSxhQUFBLFNBQUE3WixFQUFBNlEsR0FDQSxJQUFBclcsS0FBQU8sV0FDQSxPQUFBLENBRUEsS0FBQVAsS0FBQXdlLFlBQUEsQ0FDQSxHQUFBOUQsS0FJQSxJQUhBM1gsRUFBQWtLLEtBQUFqTixLQUFBTyxXQUFBLFNBQUFxYSxHQUNBRixFQUFBblksS0FBQXFZLEVBQUE3VCxRQUFBLHNDQUFBLFdBRUEsR0FBQTJULEVBQUF0WCxPQUNBLE9BQUEsQ0FFQXBELE1BQUF3ZSxZQUFBLEdBQUF0WCxRQUFBd1QsRUFBQTVSLEtBQUEsS0FBQSxLQUlBLE1BREF0RCxHQUFBQSxFQUFBVCxjQUNBL0UsS0FBQU8sV0FBQWlGLElBQUF4RixLQUFBd2UsWUFBQXJYLEtBQUFrUCxJQUdBelcsS0FBQWdGLFVBQUE2YSxVQUFBLFNBQUF4YSxHQUNBLEdBQUF6QyxHQUFBeEMsS0FBQU0sTUFBQTJFLEVBQUFPLEtBQ0FoRCxLQUNBQSxFQUFBLEdBQUFDLFVBQUF3QyxJQUVBakYsS0FBQXFmLGFBQUFwYSxFQUFBTyxLQUFBUCxFQUFBQSxRQUdBakYsS0FBQTBDLElBQUF5TCxtQkFBQTFJLFdBQUFqRCxFQUFBMFIsVUFDQWxVLEtBQUEwQyxJQUFBMFAsc0JBQUFwUyxLQUFBMEMsSUFBQXNNLFdBQUEsR0FDQWhQLEtBQUEwQyxJQUFBSCxLQUFBLEdBQUF3YSx3QkFBQTlYLEVBQUFBLEtBQUF6QyxFQUFBeUMsRUFBQXVSLFVBQUF2UixFQUFBOFUsY0FFQW5hLEtBQUFnRixVQUFBOGEsTUFBQSxTQUFBemEsR0FFQWpGLEtBQUF3QyxLQUFBMFIsVUFBQWpQLEVBQUFPLE1BQUFtYSxNQUFBQyxRQUFBM2EsRUFBQWlFLFlBQ0FsSixLQUFBd0MsS0FBQTBHLFNBQUFqRSxFQUFBaUUsU0FHQSxJQUFBMlcsR0FBQSxTQUFBNWEsRUFBQUEsS0FBQWUsVUFBQSxFQUFBLEdBQUFmLEVBQUFBLEtBQUFlLFVBQUEsR0FBQWYsRUFBQUEsSUFFQSxJQUFBakYsS0FBQTBDLElBQUFRLFVBQUFtRCxRQUFBd1osTUFBQSxHQUFBN2YsS0FBQTBDLElBQUF1RyxhQUFBNUMsUUFBQXdaLE1BQUEsRUFBQSxDQUNBLEdBQUE3ZixLQUFBNEMsZUFBQTVDLEtBQUE0QyxjQUFBeVQsU0FBQXdKLEVBQ0EsTUFBQSxLQUFBN2YsS0FBQTRDLGNBQUFxYSxZQUNBamQsS0FBQTRDLGNBQUFxYSxXQUFBLEVBQ0FqZCxLQUFBNkMsY0FDQTdDLEtBQUE2QyxZQUFBMEosR0FBQW1HLFNBQ0ExUyxLQUFBNkMsWUFBQSxVQUVBN0MsTUFBQTBDLElBQUFILEtBQUF2QyxLQUFBNEMsb0JBR0E1QyxNQUFBNEMsY0FBQXdhLGVBSUFwZCxNQUFBNEMsY0FBQSxHQUFBb2Esa0JBQUE2QyxFQUFBNWEsRUFBQThVLGVBRUEvWixNQUFBNEMsY0FBQSxJQUdBLElBQUFrZCxHQUFBOWYsS0FBQTBDLElBQUEyVyxlQUFBcFUsRUFJQSxJQUhBNmEsR0FBQTlmLEtBQUE0QyxnQkFDQTVDLEtBQUE2QyxZQUFBaWQsR0FFQTlmLEtBQUF3QyxLQUFBMFIsVUFBQWpQLEVBQUFPLE9BQUFzYSxFQUFBLENBRUEsR0FBQTlmLEtBQUFxZixhQUFBcGEsRUFBQU8sS0FBQVAsRUFBQUEsTUFDQSxNQUVBLElBQUF6QyxHQUFBeEMsS0FBQU0sTUFBQTJFLEVBQUFPLEtBQ0FoRCxHQUtBeEMsS0FBQTBDLElBQUF5TCxtQkFBQTFJLFdBQUFSLEVBQUFPLE9BSkFoRCxFQUFBLEdBQUFDLFVBQUF3QyxHQUNBLElBQUF6QyxFQUFBZ0QsTUFBQWhELEVBQUFnRCxNQUFBeEYsS0FBQXdDLEtBQUFnRCxPQUNBeEYsS0FBQXdDLEtBQUFBLElBSUFBLEdBQUFBLEVBQUEwRyxTQUFBOUYsUUFBQTZCLEVBQUFpRSxTQUFBOUYsU0FDQXBELEtBQUFNLE1BQUEyRSxFQUFBTyxNQUFBaEQsRUFFQSxJQUFBdWQsR0FBQSxHQUFBcEksaUJBQUExUyxFQUFBQSxLQUFBekMsRUFBQXlDLEVBQUE4VSxVQUVBL1osTUFBQTRDLGdCQUNBNUMsS0FBQTZDLFlBQUFrZCxHQUVBL2YsS0FBQTBDLElBQUFILEtBQUF3ZCxLQUdBbmdCLEtBQUFnRixVQUFBb2IsT0FBQSxTQUFBL2EsR0FDQSxHQUFBZ2IsR0FBQWhiLEVBQUFBLElBQ0FqRixNQUFBd0MsS0FBQTBSLFNBQUFuUCxlQUFBRSxFQUFBQSxLQUFBRixjQUNBa2IsRUFBQSxnQkFDQWpnQixLQUFBd0MsS0FBQTZGLGVBQ0FKLFFBQUFLLGFBQUFDLGFBQ0FOLFFBQUFLLGFBQUFFLGFBQ0FQLFFBQUFLLGFBQUFHLGFBQ0FSLFFBQUFLLGFBQUFJLE1BQ0FULFFBQUFLLGFBQUFLLFlBRUEzSSxLQUFBMEMsSUFBQXNZLG1CQUFBL1YsRUFBQUEsTUFFQWpGLEtBQUEwQyxJQUFBSCxLQUFBLEdBQUF3WixvQkFBQWtFLEVBQUEsYUFBQWhiLEVBQUFPLEtBQUFQLEVBQUE4VSxhQUVBbmEsS0FBQWdGLFVBQUFzYixTQUFBLFNBQUFqYixHQUNBLEdBQUFnYixHQUFBaGIsRUFBQUEsSUFDQWpGLE1BQUF3QyxLQUFBMFIsU0FBQW5QLGVBQUFFLEVBQUFBLEtBQUFGLGdCQUNBa2IsRUFBQSxpQkFFQWpnQixLQUFBMEMsSUFBQUgsS0FBQSxHQUFBd1osb0JBQUFrRSxFQUFBLGVBQUFoYixFQUFBTyxLQUFBUCxFQUFBOFUsYUFFQW5hLEtBQUFnRixVQUFBdWIsTUFBQSxTQUFBbGIsR0FFQSxHQUFBZ2IsR0FBQWhiLEVBQUFBLElBQ0FqRixNQUFBd0MsS0FBQTBSLFNBQUFuUCxlQUFBRSxFQUFBQSxLQUFBRixlQUNBa2IsRUFBQSxnQkFDQWpnQixLQUFBMEMsSUFBQWtNLGdCQUNBc0gsV0FBQSxXQUNBbk8sT0FBQWhJLFNBQUEyVixLQUFBLFdBQ0EsT0FFQTFWLEtBQUF3QyxLQUFBNkYsZUFDQUosUUFBQUssYUFBQUMsYUFDQU4sUUFBQUssYUFBQUUsYUFDQVAsUUFBQUssYUFBQUcsYUFDQVIsUUFBQUssYUFBQUksTUFDQVQsUUFBQUssYUFBQUssWUFFQTNJLEtBQUEwQyxJQUFBc1ksbUJBQUEvVixFQUFBQSxNQUVBakYsS0FBQTBDLElBQUFILEtBQUEsR0FBQXdaLG9CQUFBa0UsRUFBQSxjQUFBaGIsRUFBQU8sS0FBQVAsRUFBQThVLGFBRUFuYSxLQUFBZ0YsVUFBQXdiLFFBQUEsU0FBQW5iLEdBQ0EsR0FBQWdiLEdBQUFoYixFQUFBQSxJQUNBakYsTUFBQXdDLEtBQUEwUixTQUFBblAsZUFBQUUsRUFBQUEsS0FBQUYsZ0JBQ0FrYixFQUFBLGlCQUVBamdCLEtBQUEwQyxJQUFBSCxLQUFBLEdBQUF3WixvQkFBQWtFLEVBQUEsZ0JBQUFoYixFQUFBTyxLQUFBUCxFQUFBOFUsYUFFQW5hLEtBQUFnRixVQUFBeWIsTUFBQSxTQUFBcGIsR0FDQSxzQkFBQUEsR0FBQSxVQUFBQSxJQUNBakYsS0FBQStlLGFBQUEsR0FFQSxVQUFBOVosR0FBQWpGLEtBQUEwQyxJQUFBa00saUJBQ0E3RyxPQUFBaEksU0FBQTJWLEtBQUEsV0FFQTFWLEtBQUEwQyxJQUFBSCxLQUFBLEdBQUFnVyxrQkFBQXZZLEtBQUFRLGFBQUF5RSxNQUVBckYsS0FBQWdGLFVBQUEwYixVQUFBLFdBQ0F2WSxPQUFBaEksU0FBQTJWLEtBQUEzTixPQUFBaEksU0FBQTJWLE1BRUE5VixLQUFBZ0YsVUFBQXNhLFlBQUEsV0FDQWxmLEtBQUFnTyxRQUVBcE8sS0FBQWdGLFVBQUEyYixVQUFBLFNBQUF0YixHQUNBLEdBQUFoRSxHQUFBLE1BQUFnRSxFQUFBQSxLQUFBLFVBQUEsVUFDQWpGLE1BQUEwQyxJQUFBSCxLQUFBLEdBQUF3WixvQkFBQSx3QkFBQTlhLEVBQUEsT0FBQWdFLEVBQUFPLEtBQUFQLEVBQUE4VSxhQUVBbmEsS0FBQWdGLFVBQUE0YixZQUFBLFNBQUF2YixHQUNBLElBQUFqRixLQUFBMEMsSUFBQWtNLGVBQ0EsR0FBQSxhQUFBM0osRUFBQUEsS0FBQWUsVUFBQSxFQUFBLEdBQUEsQ0FDQSxHQUFBK0YsR0FBQTlHLEVBQUFBLEtBQUFlLFVBQUEsRUFDQXlhLE1BQUFsZSxNQUFBLGNBQUEsV0FBQSxnQkFBQXdKLElBQ0EwVSxLQUFBbGUsS0FBQSxXQUNBMlQsV0FBQSxXQUVBbk8sT0FBQTBOLFNBQ0ExTixPQUFBME4sT0FBQTFWLFNBQUEyVixLQUFBM0osR0FDQWhFLE9BQUFoSSxTQUFBMlYsS0FBQTNKLEdBRUEsT0FFQS9MLEtBQUEwQyxJQUFBSCxLQUFBLEdBQUEwWixzQkFBQSwrQkFBQWxRLEVBQUE5RyxFQUFBOFUsZ0JBRUEvWixNQUFBMEMsSUFBQUgsS0FBQSxHQUFBMFosc0JBQUFoWCxFQUFBQSxLQUFBQSxFQUFBOFUsYUFHQW5hLEtBQUFnRixVQUFBOGIsY0FBQSxTQUFBemIsR0FDQWpGLEtBQUEwQyxJQUFBSCxLQUFBLEdBQUFzWixpQkFBQSxpQ0FHQWpjLEtBQUFnRixVQUFBNlQsY0FBQSxTQUFBM1QsR0FFQSxJQUFBQSxFQUFBMUIsT0FFQSxXQURBcEQsTUFBQTBDLElBQUFILEtBQUEsR0FBQWdXLGtCQUFBLGlCQUlBLElBQUFvSSxHQUFBN2IsRUFBQTBFLE1BQUEsWUFDQW9YLEVBQUFELEVBQUEsR0FBQTViLGNBQ0E4YixFQUFBLHVCQUNBQyxLQUNBcEcsS0FDQWxWLEVBQUEsRUFFQSxJQUFBLE1BQUFWLEVBQUFrQixVQUFBLEVBQUEsR0FHQSxNQUZBOGEsR0FBQTdiLEtBQUEsSUFBQUgsTUFDQTlFLE1BQUF3WSxLQUFBLE1BQUFzSSxFQU1BLFFBRkE5Z0IsS0FBQTRkLEVBQUFnRCxFQUFBRCxHQUVBQyxHQUVBLFFBQ0E1Z0IsS0FBQTBDLElBQUFILEtBQUEsR0FBQWdXLGtCQUFBLG1CQUNBLE1BRUEsS0FBQSxTQUNBdlksS0FBQTBDLElBQUFILEtBQUEsR0FBQXNaLGlCQUFBLHdCQUFBN2IsS0FBQTBDLElBQUFRLFVBQUE0RixLQUFBLE1BQUEsNEJBQ0EsTUFFQSxLQUFBLE9BQ0E5SSxLQUFBMEMsSUFBQUgsS0FBQSxHQUFBc1osaUJBQUEsb1JBQ0EsTUFFQSxLQUFBLEtBQ0FpRixFQUFBN2IsS0FBQSxJQUFBSCxFQUNBOUUsS0FBQXdZLEtBQUEsTUFBQXNJLEVBQ0EsTUFFQSxLQUFBLFVBQ0EsSUFBQSxNQUNBLElBQUEsVUFDQSxJQUFBLElBQ0EsSUFBQSxPQUNBLElBQUEsSUFDQSxJQUFBLFNBQ0EsSUFBQUgsRUFBQSxLQUFBRSxFQUFBMVosS0FBQXdaLEVBQUEsR0FBQTViLGVBRUEsV0FEQS9FLE1BQUEwQyxJQUFBSCxLQUFBLEdBQUFnVyxrQkFBQSxvQ0FJQSxJQUFBb0ksRUFBQSxHQUFBNWIsZUFBQS9FLEtBQUF3QyxLQUFBMFIsU0FBQW5QLGNBRUEsV0FEQS9FLE1BQUEwQyxJQUFBSCxLQUFBLEdBQUFnVyxrQkFBQSxxQ0FJQXVJLEdBQUF0YixLQUFBbWIsRUFBQSxHQUNBQSxFQUFBeEgsUUFDQXdILEVBQUF4SCxRQUNBMkgsRUFBQTdiLEtBQUEwYixFQUFBN1gsS0FBQSxLQUVBOUksS0FBQXdZLEtBQUEsVUFBQXNJLEdBQ0E5Z0IsS0FBQTBDLElBQUF5TCxtQkFBQTNHLGtCQUNBLE1BRUEsS0FBQSxTQUNBLElBQUEwUixhQUVBLFdBREFsWixNQUFBMEMsSUFBQUgsS0FBQSxHQUFBZ1csa0JBQUEsMENBSUEsS0FBQW9JLEVBQUEsR0FLQSxNQUpBakcsTUFDQTNYLEVBQUFrSyxLQUFBak4sS0FBQU8sV0FBQSxTQUFBcWEsR0FDQUYsRUFBQW5ZLEtBQUFxWSxLQUVBLEdBQUFGLEVBQUF0WCxXQUNBcEQsTUFBQTBDLElBQUFILEtBQUEsR0FBQXNaLGlCQUFBLGtDQUdBN2IsTUFBQTBDLElBQUFILEtBQUEsR0FBQXNaLGlCQUFBLGtDQUFBbkIsRUFBQTVSLEtBQUEsT0FLQSxJQURBdEQsRUFBQW1iLEVBQUEsR0FBQTViLGVBQ0E4YixFQUFBMVosS0FBQTNCLEdBRUEsV0FEQXhGLE1BQUEwQyxJQUFBSCxLQUFBLEdBQUFnVyxrQkFBQSwrQkFJQXZZLE1BQUFPLFdBQUFpRixJQUFBLEVBQ0F4RixLQUFBMEMsSUFBQXNZLG1CQUFBeFYsR0FDQXhGLEtBQUEwQyxJQUFBSCxLQUFBLEdBQUF5WixtQkFBQSxZQUFBeFcsSUFFQTBULGFBQUEsZUFBQUYsS0FBQUksVUFBQXBaLEtBQUFPLFlBQ0FQLEtBQUEyZCxnQkFDQSxNQUVBLEtBQUEsV0FDQSxJQUFBekUsYUFFQSxXQURBbFosTUFBQTBDLElBQUFILEtBQUEsR0FBQWdXLGtCQUFBLDBDQUlBLEtBQUFvSSxFQUFBLEtBQUFFLEVBQUExWixLQUFBd1osRUFBQSxHQUFBNWIsZUFFQSxXQURBL0UsTUFBQTBDLElBQUFILEtBQUEsR0FBQWdXLGtCQUFBLCtCQUdBL1MsR0FBQW1iLEVBQUEsR0FBQTViLG9CQUVBL0UsTUFBQU8sV0FBQWlGLEdBQ0F4RixLQUFBMEMsSUFBQUgsS0FBQSxHQUFBeVosbUJBQUEsR0FBQXhXLEVBQUEsNENBRUEwVCxhQUFBLGVBQUFGLEtBQUFJLFVBQUFwWixLQUFBTyxZQUNBUCxLQUFBMmQsZ0JBQ0EsTUFFQSxLQUFBLE9BQ0EsR0FBQSxHQUFBZ0QsRUFBQXZkLE9BRUEsV0FEQXBELE1BQUEwQyxJQUFBSCxLQUFBLEdBQUFzWixpQkFBQSxXQUFBK0UsRUFBQSxnQkFLQSxLQUFBQyxFQUFBMVosS0FBQXdaLEVBQUEsSUFFQSxXQURBM2dCLE1BQUEwQyxJQUFBSCxLQUFBLEdBQUFnVyxrQkFBQSxtQkFBQXFJLEVBQUEsZ0JBSUEsSUFBQUcsR0FBQSxJQUNBSixHQUFBLEtBQ0FJLEVBQUEvZ0IsS0FBQWdoQixrQkFBQUwsRUFBQSxLQUVBRyxFQUFBN2IsS0FBQTBiLEVBQUEsR0FDQUksR0FBQUEsRUFBQSxJQUNBRCxFQUFBQyxTQUFBQSxHQUVBL2dCLEtBQUF3WSxLQUFBb0ksRUFBQUssY0FBQUgsRUFDQSxNQUVBLEtBQUEsTUFDQSxJQUFBLFFBQ0EsR0FBQUgsRUFBQXZkLE9BQUEsRUFFQSxXQURBcEQsTUFBQTBDLElBQUFILEtBQUEsR0FBQXNaLGlCQUFBLFdBQUErRSxFQUFBLCtDQUlBLEtBQUFDLEVBQUExWixLQUFBd1osRUFBQSxJQUVBLFdBREEzZ0IsTUFBQTBDLElBQUFILEtBQUEsR0FBQWdXLGtCQUFBLGdCQWNBLElBVkF1SSxFQUFBdGIsS0FBQW1iLEVBQUEsR0FDQSxTQUFBQyxJQUNBRSxFQUFBSSxPQUFBLEdBRUEsU0FBQS9aLEtBQUF3WixFQUFBLElBQ0FHLEVBQUFLLGFBQUEsRUFFQUwsRUFBQUMsU0FBQS9nQixLQUFBZ2hCLGtCQUFBTCxFQUFBLElBRUFHLEVBQUFNLE9BQUFULEVBQUF0WixNQUFBLEVBQUFzWixFQUFBdmQsUUFBQTBGLEtBQUEsTUFDQWdZLEVBQUFNLE9BRUEsV0FEQXBoQixNQUFBMEMsSUFBQUgsS0FBQSxHQUFBZ1csa0JBQUEsbUNBSUF2WSxNQUFBd1ksS0FBQSxNQUFBc0ksRUFDQSxNQUVBLEtBQUEsU0FDQSxJQUFBLFFBQ0EsR0FBQSxHQUFBSCxFQUFBdmQsT0FFQSxXQURBcEQsTUFBQTBDLElBQUFILEtBQUEsR0FBQXNaLGlCQUFBLFdBQUErRSxFQUFBLFNBSUEsS0FBQUMsRUFBQTFaLEtBQUF3WixFQUFBLElBRUEsV0FEQTNnQixNQUFBMEMsSUFBQUgsS0FBQSxHQUFBZ1csa0JBQUEsbUJBQUFxSSxFQUFBLFNBSUFFLEdBQUE3YixLQUFBMGIsRUFBQSxHQUNBM2dCLEtBQUF3WSxLQUFBb0ksRUFBQUssY0FBQUgsRUFDQSxNQUVBLEtBQUEsVUFDQSxHQUFBLE1BQUFILEVBQUEsSUFBQSxPQUFBQSxFQUFBLEdBRUEsV0FEQTNnQixNQUFBMEMsSUFBQUgsS0FBQSxHQUFBZ1csa0JBQUEsdUJBQUFxSSxFQUFBLFdBSUFFLEdBQUE3YixLQUFBMGIsRUFBQSxHQUNBM2dCLEtBQUF3WSxLQUFBb0ksRUFBQUssY0FBQUgsRUFDQSxNQUVBLEtBQUEsV0FDQSxJQUFBSCxFQUFBLEdBRUEsV0FEQTNnQixNQUFBMEMsSUFBQUgsS0FBQSxHQUFBc1osaUJBQUEsa0NBQUE3YixLQUFBMEMsSUFBQStPLGNBQUEsYUFJQSxJQUFBNFAsR0FBQXBHLEtBQUFxRyxJQUFBQyxTQUFBWixFQUFBLEdBQUEsSUFDQSxLQUFBVSxFQUVBLFdBREFyaEIsTUFBQTBDLElBQUFILEtBQUEsR0FBQWdXLGtCQUFBLHNEQUlBdlksTUFBQTBDLElBQUF5TyxjQUFBLFdBQUFrUSxHQUNBcmhCLEtBQUEwQyxJQUFBSCxLQUFBLEdBQUFzWixpQkFBQSxrQ0FBQTdiLEtBQUEwQyxJQUFBK08sY0FBQSxhQUNBLE1BRUEsS0FBQSxjQUNBLElBQUEsWUFDQSxHQUFBL0IsR0FBQTFQLEtBQUEwQyxJQUFBK08sY0FBQSxpQkFDQSxLQUFBa1AsRUFBQSxHQU1BLE1BTEFqRyxNQUNBM1gsRUFBQWtLLEtBQUF5QyxFQUFBLFNBQUE4UixHQUNBOUcsRUFBQW5ZLEtBQUFpZixTQUVBeGhCLE1BQUEwQyxJQUFBSCxLQUFBLEdBQUFzWixpQkFBQSxnQ0FBQW5CLEVBQUE1UixLQUFBLE9BSUEsS0FBQStYLEVBQUExWixLQUFBd1osRUFBQSxJQUVBLFdBREEzZ0IsTUFBQTBDLElBQUFILEtBQUEsR0FBQWdXLGtCQUFBLG1CQUFBcUksRUFBQSxTQUlBcGIsR0FBQW1iLEVBQUEsR0FBQTViLGFBQ0EsSUFBQTBWLEdBQUEsYUFBQW1HLENBQ0FuRyxJQUNBL0ssRUFBQWxLLElBQUEsRUFDQXhGLEtBQUEwQyxJQUFBSCxLQUFBLEdBQUFzWixpQkFBQSxxQkFBQXJXLFlBRUFrSyxHQUFBbEssR0FDQXhGLEtBQUEwQyxJQUFBSCxLQUFBLEdBQUFzWixpQkFBQSwyQkFBQXJXLEtBR0F4RixLQUFBMEMsSUFBQThYLGVBQUFoVixFQUFBaVYsR0FDQXphLEtBQUEwQyxJQUFBeU8sY0FBQSxpQkFBQXpCLEVBQ0EsTUFFQSxLQUFBLGtCQUNBLElBQUFpUixFQUFBLEdBRUEsV0FEQTNnQixNQUFBMEMsSUFBQUgsS0FBQSxHQUFBc1osaUJBQUEsbUJBQUE3YixLQUFBMEMsSUFBQStPLGNBQUEsbUJBQUEsMkZBSUEsSUFBQXJKLEdBQUF0RCxFQUFBa0IsVUFBQTRhLEVBQUF4ZCxPQUNBLEtBQUEsb0JBQUErRCxLQUFBaUIsR0FFQSxXQURBcEksTUFBQTBDLElBQUFILEtBQUEsR0FBQWdXLGtCQUFBLHNFQUlBdlksTUFBQTBDLElBQUF5TyxjQUFBLGtCQUFBL0ksR0FDQXBJLEtBQUEwQyxJQUFBSCxLQUFBLEdBQUFzWixpQkFBQSxlQUFBN2IsS0FBQTBDLElBQUErTyxjQUFBLG9CQUNBLE1BRUEsS0FBQSxZQUNBcVAsRUFBQTdiLEtBQUFILEVBQUFrQixVQUFBNGEsRUFBQXhkLE9BQUEsR0FDQXBELEtBQUF3WSxLQUFBb0ksRUFBQUssY0FBQUgsRUFDQSxNQUVBLEtBQUEsT0FLQSxJQUpBLEdBQUF6ZSxHQUFBLEdBQ0FWLEVBQUEsS0FDQThmLEVBQUF6SSxLQUFBQyxNQUFBQyxhQUFBLGFBQUEsTUFDQW5WLEVBQUEsSUFDQUEsR0FBQSxDQUNBLEdBQUFBLEdBQUEvRCxLQUFBb0MsVUFBQWdCLE9BQUEsQ0FDQWYsRUFBQXJDLEtBQUFvQyxVQUFBLEdBQ0FULEVBQUEzQixLQUFBMEIsTUFBQVcsR0FDQW9mLEdBQUFwZixFQUNBLE9BRUEsR0FBQW9mLEVBQUFwYixRQUFBckcsS0FBQW9DLFVBQUEyQixPQUFBLEVBQUEsQ0FDQTFCLEVBQUFyQyxLQUFBb0MsVUFBQTJCLEdBQ0FwQyxFQUFBM0IsS0FBQTBCLE1BQUFXLEdBQ0FvZixFQUFBbGYsS0FBQUYsRUFDQSxRQUdBNlcsYUFBQSxZQUFBRixLQUFBSSxVQUFBcUksR0FDQXpoQixLQUFBMEMsSUFBQUgsS0FBQSxHQUFBc1osaUJBQUFsYSxNQUtBL0IsS0FBQWdGLFVBQUFvYyxrQkFBQSxTQUFBbGMsR0FDQSxHQUFBNGMsR0FBQSxFQUNBQyxHQUNBQyxFQUFBLElBQ0FDLElBQUEsSUFBQUMsS0FBQSxJQUNBQyxPQUFBLElBQUFDLFFBQUEsSUFFQTdWLEVBQUEsS0FDQThWLElBQUEsS0FBQUMsS0FBQSxLQUNBQyxPQUFBLEtBQUFDLFFBQUEsS0FFQUMsRUFBQSxNQUNBQyxHQUFBLE1BQUFDLElBQUEsTUFDQUMsS0FBQSxNQUFBQyxNQUFBLE1BRUFDLEVBQUEsT0FDQUMsSUFBQSxPQUFBQyxLQUFBLE9BVUEsT0FSQTlkLEdBQUFpQyxRQUFBLDZCQUFBLFNBQUE4YixFQUFBMVksRUFBQTJZLEdBRUEzWSxHQURBMlksRUFDQW5CLEVBQUFtQixFQUFBL2QsZ0JBQUE0YyxFQUFBQyxFQUVBRCxFQUFBQyxFQUVBRixJQUFBdlgsSUFFQXVYIiwiZmlsZSI6ImNoYXQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbi8vIFVTRVIgRkVBVFVSRVNcclxuZGVzdGlueS5Vc2VyRmVhdHVyZXMgPSB7XHJcbiAgICBQUk9URUNURUQgICAgIDogJ3Byb3RlY3RlZCcsXHJcbiAgICBTVUJTQ1JJQkVSICAgIDogJ3N1YnNjcmliZXInLFxyXG4gICAgU1VCU0NSSUJFUlQwICA6ICdmbGFpcjknLFxyXG4gICAgU1VCU0NSSUJFUlQxICA6ICdmbGFpcjEzJyxcclxuICAgIFNVQlNDUklCRVJUMiAgOiAnZmxhaXIxJyxcclxuICAgIFNVQlNDUklCRVJUMyAgOiAnZmxhaXIzJyxcclxuICAgIFNVQlNDUklCRVJUNCAgOiAnZmxhaXI4JyxcclxuICAgIFZJUCAgICAgICAgICAgOiAndmlwJyxcclxuICAgIE1PREVSQVRPUiAgICAgOiAnbW9kZXJhdG9yJyxcclxuICAgIEFETUlOICAgICAgICAgOiAnYWRtaW4nLFxyXG4gICAgQlJPQURDQVNURVIgICA6ICdmbGFpcjEyJyxcclxuICAgIEJPVCAgICAgICAgICAgOiAnYm90JyxcclxuICAgIEJPVDIgICAgICAgICAgOiAnZmxhaXIxMScsXHJcbiAgICBOT1RBQkxFICAgICAgIDogJ2ZsYWlyMicsXHJcbiAgICBUUlVTVEVEICAgICAgIDogJ2ZsYWlyNCcsXHJcbiAgICBDT05UUklCVVRPUiAgIDogJ2ZsYWlyNScsXHJcbiAgICBDT01QQ0hBTExFTkdFIDogJ2ZsYWlyNicsXHJcbiAgICBFVkUgICAgICAgICAgIDogJ2ZsYWlyNycsXHJcbiAgICBTQzIgICAgICAgICAgIDogJ2ZsYWlyMTAnXHJcbn07XHJcblxyXG5mdW5jdGlvbiBjaGF0KGFyZ3MpIHtcclxuICAgIHZhciBwcm90b2NvbCA9IGxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cHM6Jz8gJ3dzczovLyc6ICd3czovLyc7XHJcbiAgICB0aGlzLnNlcnZlciAgICAgICAgICAgICA9IHByb3RvY29sICsgYXJncy5vcHRpb25zLmhvc3QgKyAnL3dzJztcclxuICAgIHRoaXMuY29ubmVjdGVkICAgICAgICAgID0gZmFsc2U7XHJcbiAgICB0aGlzLmRlYnVnICAgICAgICAgICAgICA9IGZhbHNlO1xyXG4gICAgdGhpcy51c2VycyAgICAgICAgICAgICAgPSB7fTtcclxuICAgIHRoaXMuaWdub3JlbGlzdCAgICAgICAgID0ge307XHJcbiAgICB0aGlzLmVycm9yc3RyaW5ncyA9IHtcclxuICAgICAgICBcInVua25vd25cIiAgICAgICAgICAgICAgIDogXCJVbmtub3duIGVycm9yLCB0aGlzIHVzdWFsbHkgaW5kaWNhdGVzIGFuIGludGVybmFsIHByb2JsZW0gOihcIixcclxuICAgICAgICBcIm5vcGVybWlzc2lvblwiICAgICAgICAgIDogXCJZb3UgZG8gbm90IGhhdmUgdGhlIHJlcXVpcmVkIHBlcm1pc3Npb25zIHRvIHVzZSB0aGF0XCIsXHJcbiAgICAgICAgXCJwcm90b2NvbGVycm9yXCIgICAgICAgICA6IFwiSW52YWxpZCBvciBiYWRseSBmb3JtYXR0ZWRcIixcclxuICAgICAgICBcIm5lZWRsb2dpblwiICAgICAgICAgICAgIDogXCJZb3UgaGF2ZSB0byBiZSBsb2dnZWQgaW4gdG8gdXNlIHRoYXRcIixcclxuICAgICAgICBcImludmFsaWRtc2dcIiAgICAgICAgICAgIDogXCJUaGUgbWVzc2FnZSB3YXMgaW52YWxpZFwiLFxyXG4gICAgICAgIFwidGhyb3R0bGVkXCIgICAgICAgICAgICAgOiBcIlRocm90dGxlZCEgWW91IHdlcmUgdHJ5aW5nIHRvIHNlbmQgbWVzc2FnZXMgdG9vIGZhc3RcIixcclxuICAgICAgICBcImR1cGxpY2F0ZVwiICAgICAgICAgICAgIDogXCJUaGUgbWVzc2FnZSBpcyBpZGVudGljYWwgdG8gdGhlIGxhc3Qgb25lIHlvdSBzZW50XCIsXHJcbiAgICAgICAgXCJtdXRlZFwiICAgICAgICAgICAgICAgICA6IFwiWW91IGFyZSBtdXRlZCAoc3Vic2NyaWJpbmcgYXV0by1yZW1vdmVzIG11dGVzKVwiLFxyXG4gICAgICAgIFwic3VibW9kZVwiICAgICAgICAgICAgICAgOiBcIlRoZSBjaGFubmVsIGlzIGN1cnJlbnRseSBpbiBzdWJzY3JpYmVyIG9ubHkgbW9kZVwiLFxyXG4gICAgICAgIFwibmVlZGJhbnJlYXNvblwiICAgICAgICAgOiBcIlByb3ZpZGluZyBhIHJlYXNvbiBmb3IgdGhlIGJhbiBpcyBtYW5kYXRvcnlcIixcclxuICAgICAgICBcImJhbm5lZFwiICAgICAgICAgICAgICAgIDogXCJZb3UgaGF2ZSBiZWVuIGJhbm5lZCAoc3Vic2NyaWJpbmcgYXV0by1yZW1vdmVzIG5vbi1wZXJtYW5lbnQgYmFucyksIGRpc2Nvbm5lY3RpbmdcIixcclxuICAgICAgICBcInJlcXVpcmVzb2NrZXRcIiAgICAgICAgIDogXCJUaGlzIGNoYXQgcmVxdWlyZXMgV2ViU29ja2V0c1wiLFxyXG4gICAgICAgIFwidG9vbWFueWNvbm5lY3Rpb25zXCIgICAgOiBcIk9ubHkgNSBjb25jdXJyZW50IGNvbm5lY3Rpb25zIGFsbG93ZWRcIixcclxuICAgICAgICBcInNvY2tldGVycm9yXCIgICAgICAgICAgIDogXCJFcnJvciBjb250YWN0aW5nIHNlcnZlclwiLFxyXG4gICAgICAgIFwicHJpdm1zZ2Jhbm5lZFwiICAgICAgICAgOiBcIkNhbm5vdCBzZW5kIHByaXZhdGUgbWVzc2FnZXMgd2hpbGUgYmFubmVkXCIsXHJcbiAgICAgICAgXCJwcml2bXNnYWNjb3VudHRvb3lvdW5nXCI6IFwiWW91ciBhY2NvdW50IGlzIHRvbyByZWNlbnQgdG8gc2VuZCBwcml2YXRlIG1lc3NhZ2VzXCIsXHJcbiAgICAgICAgXCJub3Rmb3VuZFwiICAgICAgICAgICAgICA6IFwiVGhlIHVzZXIgd2FzIG5vdCBmb3VuZFwiXHJcbiAgICB9O1xyXG4gICAgdGhpcy5oaW50cyA9IHtcclxuICAgICAgICBcImhpbnRcIiAgICAgICAgICAgOiAnVHlwZSBpbiAvaGludCBmb3IgbW9yZSBoaW50cycsXHJcbiAgICAgICAgXCJzbGFzaGhlbHBcIiAgICAgIDogJ1R5cGUgaW4gL2hlbHAgZm9yIG1vcmUgYWR2YW5jZWQgZmVhdHVyZXMsIGxpa2UgbW9kaWZ5aW5nIHRoZSBzY3JvbGxiYWNrIHNpemUnLFxyXG4gICAgICAgIFwidGFiY29tcGxldGlvblwiICA6ICdVc2UgdGhlIHRhYiBrZXkgdG8gYXV0by1jb21wbGV0ZSB1c2VybmFtZXMgYW5kIGVtb3RlcyAoZm9yIHVzZXIgb25seSBjb21wbGV0aW9uIHByZXBlbmQgYSBAIG9yIHByZXNzIHNoaWZ0KScsXHJcbiAgICAgICAgXCJob3ZlcmVtb3Rlc1wiICAgIDogJ0hvdmVyaW5nIHlvdXIgbW91c2Ugb3ZlciBhbiBlbW90ZSB3aWxsIHNob3cgeW91IHRoZSBlbW90ZSBjb2RlJyxcclxuICAgICAgICBcImhpZ2hsaWdodFwiICAgICAgOiAnQ2hhdCBtZXNzYWdlcyBjb250YWluaW5nIHlvdXIgdXNlcm5hbWUgd2lsbCBiZSBoaWdobGlnaHRlZCcsXHJcbiAgICAgICAgXCJub3RpZnlcIiAgICAgICAgIDogJ1VzZSAvbXNnIDx1c2VybmFtZT4gdG8gc2VuZCBhIHByaXZhdGUgbWVzc2FnZSB0byBzb21lb25lJyxcclxuICAgICAgICBcImlnbm9yZXVzZXJcIiAgICAgOiAnVXNlIC9pZ25vcmUgPHVzZXJuYW1lPiB0byBoaWRlIG1lc3NhZ2VzIGZyb20gcGVza3kgY2hhdHRlcnMnLFxyXG4gICAgICAgIFwiZW1vdGV3aWtpXCIgICAgICA6ICdGb3IgdGhlIGxpc3Qgb2YgYXZhaWxhYmxlIGVtb3RlcyB0eXBlIC9lbW90ZXMgb3IgaHR0cHM6Ly9kZXN0aW55LmdnL2Vtb3RlcycsXHJcbiAgICAgICAgXCJtdXRlc3Blcm1hbmVudFwiIDogJ011dGVzIGFyZSBuZXZlciBwZXJzaXN0ZW50LCBkb25cXCd0IHdvcnJ5IGl0IHdpbGwgcGFzcyEnXHJcbiAgICB9O1xyXG4gICAgdGhpcy5oaW50aW5kZXggPSBbXTtcclxuICAgIGZvciAodmFyIGlkIGluIHRoaXMuaGludHMpIHtcclxuICAgICAgICBpZiAodGhpcy5oaW50cy5oYXNPd25Qcm9wZXJ0eShpZCkpXHJcbiAgICAgICAgICAgIHRoaXMuaGludGluZGV4LnB1c2goaWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudXNlciAgICAgICAgICAgICAgID0gbmV3IENoYXRVc2VyKGFyZ3MudXNlcik7XHJcbiAgICB0aGlzLmd1aSAgICAgICAgICAgICAgICA9IG5ldyBDaGF0R3VpKHRoaXMsIGFyZ3Mub3B0aW9ucyk7XHJcbiAgICB0aGlzLnByZXZpb3VzZW1vdGUgICAgICA9IG51bGw7XHJcbiAgICB0aGlzLm9yaWdpbmVtb3RlICAgICAgICA9IG51bGw7XHJcbiAgICB0aGlzLnNob3dzdGFydGhpbnQgICAgICA9IHRydWU7XHJcbiAgICByZXR1cm4gdGhpcztcclxufTtcclxuY2hhdC5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbigpe1xyXG4gICAgaWYgKHdpbmRvdy5Nb3pXZWJTb2NrZXQpXHJcbiAgICAgICAgd2luZG93LldlYlNvY2tldCA9IE1veldlYlNvY2tldDtcclxuXHJcbiAgICBpZiAoIXdpbmRvdy5XZWJTb2NrZXQpXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRFcnJvck1lc3NhZ2UodGhpcy5lcnJvcnN0cmluZ3MucmVxdWlyZXNvY2tldCkpO1xyXG5cclxuICAgIHRoaXMuZGlzcGF0Y2hCYWNrbG9nID0gJC5wcm94eSh0aGlzLmRpc3BhdGNoQmFja2xvZywgdGhpcyk7XHJcbiAgICB0aGlzLmd1aS5sb2FkQmFja2xvZygpO1xyXG4gICAgdGhpcy5sb2FkSWdub3JlTGlzdCgpO1xyXG4gICAgdGhpcy5ndWkucHVzaChuZXcgQ2hhdFN0YXR1c01lc3NhZ2UoXCJDb25uZWN0aW5nLi4uXCIpKTtcclxuICAgIHRoaXMuaW5pdCgpO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbn07XHJcbmNoYXQucHJvdG90eXBlLmwgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmICghdGhpcy5kZWJ1ZylcclxuICAgICAgICByZXR1cm47XHJcblxyXG4gICAgdmFyIGxvZyA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5sb2csIGNvbnNvbGUpO1xyXG4gICAgbG9nLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cyk7XHJcbn07XHJcbmNoYXQucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuc29jayAgICAgICAgICAgPSBuZXcgV2ViU29ja2V0KHRoaXMuc2VydmVyKTtcclxuICAgIHRoaXMuc29jay5vbm9wZW4gICAgPSAkLnByb3h5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBldmVudCA9IHtkYXRhOiAnT1BFTiBcIlwiJ307XHJcbiAgICAgICAgdGhpcy5wYXJzZUFuZERpc3BhdGNoKGV2ZW50KVxyXG4gICAgfSwgdGhpcyk7XHJcbiAgICB0aGlzLnNvY2sub25lcnJvciAgID0gJC5wcm94eShmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZXZlbnQgPSB7ZGF0YTogJ0VSUiBcInNvY2tldGVycm9yXCInfTtcclxuICAgICAgICB0aGlzLnBhcnNlQW5kRGlzcGF0Y2goZXZlbnQpXHJcbiAgICB9LCB0aGlzKTtcclxuICAgIHRoaXMuc29jay5vbm1lc3NhZ2UgPSAkLnByb3h5KHRoaXMucGFyc2VBbmREaXNwYXRjaCwgdGhpcyk7XHJcbiAgICB0aGlzLnNvY2sub25jbG9zZSAgID0gJC5wcm94eShmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZXZlbnQgPSB7ZGF0YTogJ0NMT1NFIFwiXCInfTtcclxuICAgICAgICB0aGlzLnBhcnNlQW5kRGlzcGF0Y2goZXZlbnQpXHJcbiAgICB9LCB0aGlzKTtcclxuXHJcbiAgICB0aGlzLmwgPSAkLnByb3h5KHRoaXMubCwgdGhpcyk7XHJcbiAgICB0aGlzLmVtaXQgPSAkLnByb3h5KHRoaXMuZW1pdCwgdGhpcyk7XHJcbn07XHJcbmNoYXQucHJvdG90eXBlLmxvYWRJZ25vcmVMaXN0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHRoaXMuaWdub3JlbGlzdCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlWydjaGF0aWdub3JlbGlzdCddIHx8ICd7fScpO1xyXG4gICAgfSBjYXRjaCAoZSkge31cclxuICAgIHRoaXMuaWdub3JlcmVnZXggPSBudWxsO1xyXG59O1xyXG5cclxuLy8gd2Vic29ja2V0IHN0dWZmXHJcbmNoYXQucHJvdG90eXBlLnBhcnNlQW5kRGlzcGF0Y2ggPSBmdW5jdGlvbihlKSB7XHJcbiAgICB2YXIgZXZlbnRuYW1lICAgPSBlLmRhdGEuc3BsaXQoJyAnLCAxKVswXSxcclxuICAgICAgICAgICAgaGFuZGxlciA9ICdvbicgKyBldmVudG5hbWUsXHJcbiAgICAgICAgICAgIG9iaiAgICAgPSBKU09OLnBhcnNlKGUuZGF0YS5zdWJzdHJpbmcoZXZlbnRuYW1lLmxlbmd0aCsxKSk7XHJcblxyXG4gICAgdGhpcy5sKGhhbmRsZXIsIG9iaik7XHJcbiAgICBpZiAoZXZlbnRuYW1lID09ICdQSU5HJykgLy8gaGFuZGxlIHBpbmdpbmcgaW4tbGluZSwgY2FudCBwYXJzZSA2NGJpdCBpbnRzXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc29jay5zZW5kKCdQT05HICcgKyBlLmRhdGEuc3Vic3RyaW5nKGV2ZW50bmFtZS5sZW5ndGgrMSkpO1xyXG5cclxuICAgIGlmICh0aGlzW2hhbmRsZXJdKVxyXG4gICAgICAgIHRoaXNbaGFuZGxlcl0ob2JqKTtcclxufTtcclxuY2hhdC5wcm90b3R5cGUuZGlzcGF0Y2hCYWNrbG9nID0gZnVuY3Rpb24obGluZSkge1xyXG4gICAgdmFyIGV2ZW50bmFtZSA9IGxpbmUuc3BsaXQoJyAnLCAxKVswXSxcclxuICAgICAgICBoYW5kbGVyID0gJ29uJyArIGV2ZW50bmFtZSxcclxuICAgICAgICBvYmogICAgID0gSlNPTi5wYXJzZShsaW5lLnN1YnN0cmluZyhldmVudG5hbWUubGVuZ3RoKzEpKTtcclxuXHJcbiAgICBpZiAoIXRoaXMudXNlcnNbb2JqLm5pY2tdKVxyXG4gICAgICAgIHRoaXMudXNlcnNbb2JqLm5pY2tdID0gbmV3IENoYXRVc2VyKG9iaik7XHJcblxyXG4gICAgaWYgKHRoaXNbaGFuZGxlcl0pXHJcbiAgICAgICAgdGhpc1toYW5kbGVyXShvYmopO1xyXG5cclxufTtcclxuY2hhdC5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKGV2ZW50bmFtZSwgZGF0YSkge1xyXG4gICAgdGhpcy5zb2NrLnNlbmQoZXZlbnRuYW1lICsgXCIgXCIgKyBKU09OLnN0cmluZ2lmeShkYXRhKSk7XHJcbn07XHJcblxyXG4vLyBzZXJ2ZXIgZXZlbnRzXHJcbmNoYXQucHJvdG90eXBlLm9uT1BFTiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5jb25uZWN0ZWQgPSB0cnVlO1xyXG59O1xyXG5jaGF0LnByb3RvdHlwZS5vbkNMT1NFID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAodGhpcy5kb250Y29ubmVjdCkgcmV0dXJuO1xyXG4gICAgdmFyIHJhbmQgPSAoKHRoaXMuY29ubmVjdGVkKSA/IGdldFJhbmRvbUludCg1MDEsMzAwMCkgOiBnZXRSYW5kb21JbnQoNTAwMCwzMDAwMCkpO1xyXG4gICAgc2V0VGltZW91dCgkLnByb3h5KHRoaXMub25SRUNPTk5FQ1QsIHRoaXMpLCByYW5kKTtcclxuICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmd1aS5wdXNoKG5ldyBDaGF0U3RhdHVzTWVzc2FnZShcIkRpc2Nvbm5lY3RlZC4uLiByZWNvbm5lY3RpbmcgaW4gXCIrIE1hdGgucm91bmQocmFuZC8xMDAwKSArXCIgc2Vjb25kc1wiKSk7XHJcbn07XHJcbmNoYXQucHJvdG90eXBlLm9uTkFNRVMgPSBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICBpZihkYXRhLnVzZXJzKXtcclxuICAgICAgICBmb3IgKHZhciBpID0gZGF0YS51c2Vycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICB2YXIgdSA9IGRhdGEudXNlcnNbaV07XHJcbiAgICAgICAgICAgIHRoaXMudXNlcnNbdS5uaWNrXSA9IG5ldyBDaGF0VXNlcih1KTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnNob3VsZElnbm9yZSh1Lm5pY2ssIFwiXCIpKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5ndWkuYXV0b0NvbXBsZXRlUGx1Z2luLmFkZE5pY2sodS5uaWNrKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ndWkudHJpZ2dlcignbmFtZXMnLCBkYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmd1aS5wdXNoKG5ldyBDaGF0U3RhdHVzTWVzc2FnZShcIkNvbm5lY3RlZC4gU2VydmVyIGNvbm5lY3Rpb25zOiBcIiArIGRhdGEuY29ubmVjdGlvbmNvdW50KSk7XHJcblxyXG4gICAgaWYodGhpcy5zaG93c3RhcnRoaW50KXtcclxuICAgICAgICB0aGlzLnNob3dzdGFydGhpbnQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmhhbmRsZUNvbW1hbmQoXCJoaW50XCIpO1xyXG4gICAgfVxyXG59O1xyXG5jaGF0LnByb3RvdHlwZS5vbkpPSU4gPSBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICB0aGlzLnVzZXJzW2RhdGEubmlja10gPSBuZXcgQ2hhdFVzZXIoZGF0YSk7XHJcblxyXG4gICAgaWYgKCF0aGlzLnNob3VsZElnbm9yZShkYXRhLm5pY2ssIFwiXCIpKVxyXG4gICAgICAgIHRoaXMuZ3VpLmF1dG9Db21wbGV0ZVBsdWdpbi5hZGROaWNrKGRhdGEubmljayk7XHJcblxyXG4gICAgdGhpcy5ndWkudHJpZ2dlcignam9pbicsIGRhdGEpO1xyXG59O1xyXG5jaGF0LnByb3RvdHlwZS5vblFVSVQgPSBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICBpZiAodGhpcy51c2Vyc1tkYXRhLm5pY2tdKSB7XHJcbiAgICAgICAgZGVsZXRlKHRoaXMudXNlcnNbZGF0YS5uaWNrXSk7XHJcbiAgICAgICAgdGhpcy5ndWkudHJpZ2dlcigncXVpdCcsIGRhdGEpO1xyXG4gICAgfVxyXG59O1xyXG5jaGF0LnByb3RvdHlwZS5zaG91bGRJZ25vcmUgPSBmdW5jdGlvbihuaWNrLCBtZXNzYWdlKSB7XHJcbiAgICBpZiAoIXRoaXMuaWdub3JlbGlzdClcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgaWYgKCF0aGlzLmlnbm9yZXJlZ2V4KSB7XHJcbiAgICAgICAgdmFyIG5pY2tzID0gW107XHJcbiAgICAgICAgJC5lYWNoKHRoaXMuaWdub3JlbGlzdCwgZnVuY3Rpb24oa2V5KSB7XHJcbiAgICAgICAgICAgIG5pY2tzLnB1c2goa2V5LnJlcGxhY2UoL1tcXC1cXFtcXF1cXC9cXHtcXH1cXChcXClcXCpcXCtcXD9cXC5cXFxcXFxeXFwkXFx8XS9nLCBcIlxcXFwkJlwiKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKG5pY2tzLmxlbmd0aCA9PSAwKVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuaWdub3JlcmVnZXggPSBuZXcgUmVnRXhwKG5pY2tzLmpvaW4oXCJ8XCIpLCBcImlcIik7XHJcbiAgICB9XHJcblxyXG4gICAgbmljayA9IG5pY2sudG9Mb3dlckNhc2UoKTtcclxuICAgIHJldHVybiB0aGlzLmlnbm9yZWxpc3Rbbmlja10gfHwgdGhpcy5pZ25vcmVyZWdleC50ZXN0KG1lc3NhZ2UpO1xyXG59O1xyXG5cclxuY2hhdC5wcm90b3R5cGUub25QUklWTVNHID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgIHZhciB1c2VyID0gdGhpcy51c2Vyc1tkYXRhLm5pY2tdO1xyXG4gICAgaWYgKCF1c2VyKVxyXG4gICAgICAgIHVzZXIgPSBuZXcgQ2hhdFVzZXIoZGF0YSk7XHJcblxyXG4gICAgaWYgKHRoaXMuc2hvdWxkSWdub3JlKGRhdGEubmljaywgZGF0YS5kYXRhKSlcclxuICAgICAgICByZXR1cm47XHJcblxyXG4gICAgdGhpcy5ndWkuYXV0b0NvbXBsZXRlUGx1Z2luLnVwZGF0ZU5pY2sodXNlci51c2VybmFtZSk7XHJcbiAgICB0aGlzLmd1aS5zZXRVbnJlYWRNZXNzYWdlQ291bnQodGhpcy5ndWkucG1jb3VudG51bSsxKTtcclxuICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRVc2VyUHJpdmF0ZU1lc3NhZ2UoZGF0YS5kYXRhLCB1c2VyLCBkYXRhLm1lc3NhZ2VpZCwgZGF0YS50aW1lc3RhbXApKTtcclxufTtcclxuY2hhdC5wcm90b3R5cGUub25NU0cgPSBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAvLyBJZiB3ZSBoYXZlIHRoZSBzYW1lIHVzZXIgYXMgdGhlIG9uZSBsb2dnZWQgaW4sIHVwZGF0ZSB0aGUgZmVhdHVyZXNcclxuICAgIGlmKHRoaXMudXNlci51c2VybmFtZSA9PSBkYXRhLm5pY2sgJiYgQXJyYXkuaXNBcnJheShkYXRhLmZlYXR1cmVzKSlcclxuICAgICAgICB0aGlzLnVzZXIuZmVhdHVyZXMgPSBkYXRhLmZlYXR1cmVzO1xyXG5cclxuICAgIC8vIEVtb3RlICh3cm9uZyBuYW1lIGZvciBhbiBhY3Rpb24sIG9oIHdlbGwpXHJcbiAgICB2YXIgZW1vdGljb24gPSAoZGF0YS5kYXRhLnN1YnN0cmluZygwLCA0KSA9PT0gJy9tZSAnKSA/IGRhdGEuZGF0YS5zdWJzdHJpbmcoNCkgOiBkYXRhLmRhdGE7XHJcblxyXG4gICAgaWYgKHRoaXMuZ3VpLmVtb3RpY29ucy5pbmRleE9mKGVtb3RpY29uKSAhPT0gLTEgfHwgdGhpcy5ndWkudHdpdGNoZW1vdGVzLmluZGV4T2YoZW1vdGljb24pICE9PSAtMSkge1xyXG4gICAgICAgIGlmICh0aGlzLnByZXZpb3VzZW1vdGUgJiYgdGhpcy5wcmV2aW91c2Vtb3RlLm1lc3NhZ2UgPT0gZW1vdGljb24pIHtcclxuICAgICAgICAgICAgaWYodGhpcy5wcmV2aW91c2Vtb3RlLmVtb3RlY291bnQgPT09IDEpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2aW91c2Vtb3RlLmVtb3RlY291bnQgPSAyO1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5vcmlnaW5lbW90ZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5lbW90ZS51aS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpbmVtb3RlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuZ3VpLnB1c2godGhpcy5wcmV2aW91c2Vtb3RlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZpb3VzZW1vdGUuaW5jRW1vdGVDb3VudCgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXNlbW90ZSA9IG5ldyBDaGF0RW1vdGVNZXNzYWdlKGVtb3RpY29uLCBkYXRhLnRpbWVzdGFtcCk7XHJcbiAgICB9IGVsc2VcclxuICAgICAgICB0aGlzLnByZXZpb3VzZW1vdGUgPSBudWxsO1xyXG4gICAgLy8gRW5kIGVtb3RlXHJcblxyXG4gICAgdmFyIG1lc3NhZ2V1aSA9IHRoaXMuZ3VpLnJlc29sdmVNZXNzYWdlKGRhdGEpO1xyXG4gICAgaWYobWVzc2FnZXVpICYmIHRoaXMucHJldmlvdXNlbW90ZSlcclxuICAgICAgICB0aGlzLm9yaWdpbmVtb3RlID0gbWVzc2FnZXVpO1xyXG5cclxuICAgIGlmKHRoaXMudXNlci51c2VybmFtZSAhPSBkYXRhLm5pY2sgfHwgIW1lc3NhZ2V1aSl7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNob3VsZElnbm9yZShkYXRhLm5pY2ssIGRhdGEuZGF0YSkpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgdmFyIHVzZXIgPSB0aGlzLnVzZXJzW2RhdGEubmlja107XHJcbiAgICAgICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgICAgICAgIHVzZXIgPSBuZXcgQ2hhdFVzZXIoZGF0YSk7XHJcbiAgICAgICAgICAgIGlmICh1c2VyLm5pY2sgIT0gXCJcIiAmJiB1c2VyLm5pY2sgPT0gdGhpcy51c2VyLm5pY2spXHJcbiAgICAgICAgICAgICAgICB0aGlzLnVzZXIgPSB1c2VyO1xyXG4gICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgICB0aGlzLmd1aS5hdXRvQ29tcGxldGVQbHVnaW4udXBkYXRlTmljayhkYXRhLm5pY2spO1xyXG5cclxuICAgICAgICBpZiAodXNlciAmJiB1c2VyLmZlYXR1cmVzLmxlbmd0aCAhPSBkYXRhLmZlYXR1cmVzLmxlbmd0aClcclxuICAgICAgICAgICAgdGhpcy51c2Vyc1tkYXRhLm5pY2tdID0gdXNlcjtcclxuXHJcbiAgICAgICAgdmFyIHVzZXJtZXNzYWdlID0gbmV3IENoYXRVc2VyTWVzc2FnZShkYXRhLmRhdGEsIHVzZXIsIGRhdGEudGltZXN0YW1wKTtcclxuXHJcbiAgICAgICAgaWYodGhpcy5wcmV2aW91c2Vtb3RlKVxyXG4gICAgICAgICAgICB0aGlzLm9yaWdpbmVtb3RlID0gdXNlcm1lc3NhZ2U7XHJcblxyXG4gICAgICAgIHRoaXMuZ3VpLnB1c2godXNlcm1lc3NhZ2UpO1xyXG4gICAgfVxyXG59O1xyXG5jaGF0LnByb3RvdHlwZS5vbk1VVEUgPSBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICB2YXIgc3VwcHJlc3NlZG5pY2sgPSBkYXRhLmRhdGE7XHJcbiAgICBpZiAodGhpcy51c2VyLnVzZXJuYW1lLnRvTG93ZXJDYXNlKCkgPT0gZGF0YS5kYXRhLnRvTG93ZXJDYXNlKCkpXHJcbiAgICAgICAgc3VwcHJlc3NlZG5pY2sgPSAnWW91IGhhdmUgYmVlbic7XHJcbiAgICBlbHNlIGlmICghdGhpcy51c2VyLmhhc0FueUZlYXR1cmVzKFxyXG4gICAgICAgIGRlc3RpbnkuVXNlckZlYXR1cmVzLlNVQlNDUklCRVJUMyxcclxuICAgICAgICBkZXN0aW55LlVzZXJGZWF0dXJlcy5TVUJTQ1JJQkVSVDQsXHJcbiAgICAgICAgZGVzdGlueS5Vc2VyRmVhdHVyZXMuU1VCU0NSSUJFUlQyLFxyXG4gICAgICAgIGRlc3RpbnkuVXNlckZlYXR1cmVzLkFETUlOLFxyXG4gICAgICAgIGRlc3RpbnkuVXNlckZlYXR1cmVzLk1PREVSQVRPUlxyXG4gICAgKSlcclxuICAgICAgICB0aGlzLmd1aS5yZW1vdmVVc2VyTWVzc2FnZXMoZGF0YS5kYXRhKTtcclxuXHJcbiAgICB0aGlzLmd1aS5wdXNoKG5ldyBDaGF0Q29tbWFuZE1lc3NhZ2Uoc3VwcHJlc3NlZG5pY2sgKyBcIiBtdXRlZCBieSBcIiArIGRhdGEubmljaywgZGF0YS50aW1lc3RhbXApKTtcclxufTtcclxuY2hhdC5wcm90b3R5cGUub25VTk1VVEUgPSBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICB2YXIgc3VwcHJlc3NlZG5pY2sgPSBkYXRhLmRhdGE7XHJcbiAgICBpZiAodGhpcy51c2VyLnVzZXJuYW1lLnRvTG93ZXJDYXNlKCkgPT0gZGF0YS5kYXRhLnRvTG93ZXJDYXNlKCkpXHJcbiAgICAgICAgc3VwcHJlc3NlZG5pY2sgPSAnWW91IGhhdmUgYmVlbic7XHJcblxyXG4gICAgdGhpcy5ndWkucHVzaChuZXcgQ2hhdENvbW1hbmRNZXNzYWdlKHN1cHByZXNzZWRuaWNrICsgXCIgdW5tdXRlZCBieSBcIiArIGRhdGEubmljaywgZGF0YS50aW1lc3RhbXApKTtcclxufTtcclxuY2hhdC5wcm90b3R5cGUub25CQU4gPSBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAvLyBkYXRhLmRhdGEgaXMgdGhlIG5pY2sgd2hpY2ggaGFzIGJlZW4gYmFubmVkLCBubyBpbmZvIGFib3V0IGR1cmF0aW9uXHJcbiAgICB2YXIgc3VwcHJlc3NlZG5pY2sgPSBkYXRhLmRhdGE7XHJcbiAgICBpZiAodGhpcy51c2VyLnVzZXJuYW1lLnRvTG93ZXJDYXNlKCkgPT0gZGF0YS5kYXRhLnRvTG93ZXJDYXNlKCkpIHtcclxuICAgICAgICBzdXBwcmVzc2VkbmljayA9ICdZb3UgaGF2ZSBiZWVuJztcclxuICAgICAgICBpZighdGhpcy5ndWkuYmFja2xvZ0xvYWRpbmcpe1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9iYW5uZWRcIjtcclxuICAgICAgICAgICAgfSwgMTUwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIGlmKCF0aGlzLnVzZXIuaGFzQW55RmVhdHVyZXMoXHJcbiAgICAgICAgZGVzdGlueS5Vc2VyRmVhdHVyZXMuU1VCU0NSSUJFUlQzLFxyXG4gICAgICAgIGRlc3RpbnkuVXNlckZlYXR1cmVzLlNVQlNDUklCRVJUNCxcclxuICAgICAgICBkZXN0aW55LlVzZXJGZWF0dXJlcy5TVUJTQ1JJQkVSVDIsXHJcbiAgICAgICAgZGVzdGlueS5Vc2VyRmVhdHVyZXMuQURNSU4sXHJcbiAgICAgICAgZGVzdGlueS5Vc2VyRmVhdHVyZXMuTU9ERVJBVE9SXHJcbiAgICApKVxyXG4gICAgICAgIHRoaXMuZ3VpLnJlbW92ZVVzZXJNZXNzYWdlcyhkYXRhLmRhdGEpO1xyXG5cclxuICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRDb21tYW5kTWVzc2FnZShzdXBwcmVzc2VkbmljayArIFwiIGJhbm5lZCBieSBcIiArIGRhdGEubmljaywgZGF0YS50aW1lc3RhbXApKTtcclxufTtcclxuY2hhdC5wcm90b3R5cGUub25VTkJBTiA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgIHZhciBzdXBwcmVzc2VkbmljayA9IGRhdGEuZGF0YTtcclxuICAgIGlmICh0aGlzLnVzZXIudXNlcm5hbWUudG9Mb3dlckNhc2UoKSA9PSBkYXRhLmRhdGEudG9Mb3dlckNhc2UoKSlcclxuICAgICAgICBzdXBwcmVzc2VkbmljayA9ICdZb3UgaGF2ZSBiZWVuJztcclxuXHJcbiAgICB0aGlzLmd1aS5wdXNoKG5ldyBDaGF0Q29tbWFuZE1lc3NhZ2Uoc3VwcHJlc3NlZG5pY2sgKyBcIiB1bmJhbm5lZCBieSBcIiArIGRhdGEubmljaywgZGF0YS50aW1lc3RhbXApKTtcclxufTtcclxuY2hhdC5wcm90b3R5cGUub25FUlIgPSBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICBpZiAoZGF0YSA9PSBcInRvb21hbnljb25uZWN0aW9uc1wiIHx8IGRhdGEgPT0gXCJiYW5uZWRcIilcclxuICAgICAgICB0aGlzLmRvbnRjb25uZWN0ID0gdHJ1ZTtcclxuXHJcbiAgICBpZiAoZGF0YSA9PSBcImJhbm5lZFwiICYmICF0aGlzLmd1aS5iYWNrbG9nTG9hZGluZylcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL2Jhbm5lZFwiO1xyXG5cclxuICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRFcnJvck1lc3NhZ2UodGhpcy5lcnJvcnN0cmluZ3NbZGF0YV0pKTtcclxufTtcclxuY2hhdC5wcm90b3R5cGUub25SRUZSRVNIID0gZnVuY3Rpb24oKSB7XHJcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xyXG59O1xyXG5jaGF0LnByb3RvdHlwZS5vblJFQ09OTkVDVCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5pbml0KCk7XHJcbn07XHJcbmNoYXQucHJvdG90eXBlLm9uU1VCT05MWSA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgIHZhciBzdWJtb2RlID0gZGF0YS5kYXRhID09ICdvbicgPyAnZW5hYmxlZCc6ICdkaXNhYmxlZCc7XHJcbiAgICB0aGlzLmd1aS5wdXNoKG5ldyBDaGF0Q29tbWFuZE1lc3NhZ2UoXCJTdWJzY3JpYmVyIG9ubHkgbW9kZSBcIitzdWJtb2RlK1wiIGJ5IFwiICsgZGF0YS5uaWNrLCBkYXRhLnRpbWVzdGFtcCkpO1xyXG59O1xyXG5jaGF0LnByb3RvdHlwZS5vbkJST0FEQ0FTVCA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgIGlmICh0aGlzLmd1aS5iYWNrbG9nTG9hZGluZykgcmV0dXJuO1xyXG4gICAgaWYgKGRhdGEuZGF0YS5zdWJzdHJpbmcoMCwgOSkgPT0gJ3JlZGlyZWN0OicpIHtcclxuICAgICAgICB2YXIgdXJsID0gZGF0YS5kYXRhLnN1YnN0cmluZyg5KTtcclxuICAgICAgICBfZ2FxLnB1c2goWydfdHJhY2tFdmVudCcsICdvdXRib3VuZCcsICdjaGF0LXJlZGlyZWN0JywgdXJsXSk7XHJcbiAgICAgICAgX2dhcS5wdXNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gdHJ5IHJlZGlyZWN0aW5nIHRoZSBwYXJlbnQgd2luZG93IHRvbyBpZiBwb3NzaWJsZVxyXG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5wYXJlbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnBhcmVudC5sb2NhdGlvbi5ocmVmID0gdXJsO1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmw7XHJcblxyXG4gICAgICAgICAgICB9LCA1MDAwKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmd1aS5wdXNoKG5ldyBDaGF0QnJvYWRjYXN0TWVzc2FnZShcIlJlZGlyZWN0aW5nIGluIDUgc2Vjb25kcyB0byBcIiArIHVybCwgZGF0YS50aW1lc3RhbXApKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5ndWkucHVzaChuZXcgQ2hhdEJyb2FkY2FzdE1lc3NhZ2UoZGF0YS5kYXRhLCBkYXRhLnRpbWVzdGFtcCkpO1xyXG4gICAgfVxyXG59O1xyXG5jaGF0LnByb3RvdHlwZS5vblBSSVZNU0dTRU5UID0gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgdGhpcy5ndWkucHVzaChuZXcgQ2hhdEluZm9NZXNzYWdlKFwiWW91ciBtZXNzYWdlIGhhcyBiZWVuIHNlbnQhXCIpKTtcclxufTtcclxuXHJcbmNoYXQucHJvdG90eXBlLmhhbmRsZUNvbW1hbmQgPSBmdW5jdGlvbihzdHIpIHtcclxuICAgIC8vIGVtcHR5IGNvbW1hbmQsIGRvIG5vdCB0cnkgdG8gcGFyc2UgaXRcclxuICAgIGlmICghc3RyLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLmd1aS5wdXNoKG5ldyBDaGF0RXJyb3JNZXNzYWdlKFwiRW1wdHkgY29tbWFuZFwiKSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgcGFydHMgICAgID0gc3RyLm1hdGNoKC8oW14gXSspL2cpLFxyXG4gICAgICAgIGNvbW1hbmQgICA9IHBhcnRzWzBdLnRvTG93ZXJDYXNlKCksXHJcbiAgICAgICAgbmlja3JlZ2V4ID0gL15bYS16QS1aMC05X117MywyMH0kLyxcclxuICAgICAgICBwYXlsb2FkICAgPSB7fSxcclxuICAgICAgICBuaWNrcyAgICAgPSBbXSxcclxuICAgICAgICBuaWNrICAgICAgPSAnJztcclxuXHJcbiAgICBpZiAoc3RyLnN1YnN0cmluZygwLCAxKSA9PT0gJy8nKSB7XHJcbiAgICAgICAgcGF5bG9hZC5kYXRhID0gXCIvXCIgKyBzdHI7XHJcbiAgICAgICAgdGhpcy5lbWl0KFwiTVNHXCIsIHBheWxvYWQpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmwoY29tbWFuZCwgcGFydHMpO1xyXG5cclxuICAgIHN3aXRjaChjb21tYW5kKSB7XHJcblxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRFcnJvck1lc3NhZ2UoXCJVbmtub3duIGNvbW1hbmRcIikpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcImVtb3Rlc1wiOlxyXG4gICAgICAgICAgICB0aGlzLmd1aS5wdXNoKG5ldyBDaGF0SW5mb01lc3NhZ2UoXCJBdmFpbGFibGUgZW1vdGljb25zOiBcIit0aGlzLmd1aS5lbW90aWNvbnMuam9pbihcIiwgXCIpK1wiICh3d3cuZGVzdGlueS5nZy9lbW90ZXMpXCIpKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJoZWxwXCI6XHJcbiAgICAgICAgICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRJbmZvTWVzc2FnZShcIkF2YWlsYWJsZSBjb21tYW5kczogL2Vtb3RlcyAvbWUgL21zZyAvaWdub3JlICh3aXRob3V0IGFyZ3VtZW50cyB0byBsaXN0IHRoZSBuaWNrcyBpZ25vcmVkKSAvdW5pZ25vcmUgL2hpZ2hsaWdodCAoaGlnaGxpZ2h0cyB0YXJnZXQgbmlja3MgbWVzc2FnZXMgZm9yIGVhc2llciB2aXNpYmlsaXR5KSAvdW5oaWdobGlnaHQgL21heGxpbmVzIC9tdXRlIC91bm11dGUgL3N1Ym9ubHkgL2JhbiAvaXBiYW4gL3VuYmFuIChhbHNvIHVuYmFucyBpcCBiYW5zKSAvdGltZXN0YW1wZm9ybWF0XCIpKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJtZVwiOlxyXG4gICAgICAgICAgICBwYXlsb2FkLmRhdGEgPSBcIi9cIiArIHN0cjtcclxuICAgICAgICAgICAgdGhpcy5lbWl0KFwiTVNHXCIsIHBheWxvYWQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcclxuICAgICAgICBjYXNlIFwibXNnXCI6XHJcbiAgICAgICAgY2FzZSBcIndoaXNwZXJcIjpcclxuICAgICAgICBjYXNlIFwid1wiOlxyXG4gICAgICAgIGNhc2UgXCJ0ZWxsXCI6XHJcbiAgICAgICAgY2FzZSBcInRcIjpcclxuICAgICAgICBjYXNlIFwibm90aWZ5XCI6XHJcbiAgICAgICAgICAgIGlmICghcGFydHNbMV0gfHwgIW5pY2tyZWdleC50ZXN0KHBhcnRzWzFdLnRvTG93ZXJDYXNlKCkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmd1aS5wdXNoKG5ldyBDaGF0RXJyb3JNZXNzYWdlKFwiSW52YWxpZCBuaWNrIC0gL21zZyBuaWNrIG1lc3NhZ2VcIikpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihwYXJ0c1sxXS50b0xvd2VyQ2FzZSgpID09IHRoaXMudXNlci51c2VybmFtZS50b0xvd2VyQ2FzZSgpKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRFcnJvck1lc3NhZ2UoXCJDYW5ub3Qgc2VuZCBhIG1lc3NhZ2UgdG8geW91cnNlbGZcIikpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwYXlsb2FkLm5pY2sgPSBwYXJ0c1sxXTtcclxuICAgICAgICAgICAgcGFydHMuc2hpZnQoKTsgLy8gcmVtb3ZlIGNvbW1hbmRcclxuICAgICAgICAgICAgcGFydHMuc2hpZnQoKTsgLy8gcmVtb3ZlIG5pY2tcclxuICAgICAgICAgICAgcGF5bG9hZC5kYXRhID0gcGFydHMuam9pbignICcpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5lbWl0KFwiUFJJVk1TR1wiLCBwYXlsb2FkKTtcclxuICAgICAgICAgICAgdGhpcy5ndWkuYXV0b0NvbXBsZXRlUGx1Z2luLm1hcmtMYXN0Q29tcGxldGUoKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJpZ25vcmVcIjpcclxuICAgICAgICAgICAgaWYgKCFsb2NhbFN0b3JhZ2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRFcnJvck1lc3NhZ2UoXCJJZ25vcmUgaXMgdW5hdmFpbGFibGUsIG5vIGxvY2FsU3RvcmFnZVwiKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghcGFydHNbMV0pIHtcclxuICAgICAgICAgICAgICAgIG5pY2tzID0gW107XHJcbiAgICAgICAgICAgICAgICAkLmVhY2godGhpcy5pZ25vcmVsaXN0LCBmdW5jdGlvbihrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBuaWNrcy5wdXNoKGtleSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmIChuaWNrcy5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRJbmZvTWVzc2FnZShcIllvdXIgaWdub3JlIGxpc3QgaXMgZW1wdHlcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRJbmZvTWVzc2FnZShcIklnbm9yaW5nIHRoZSBmb2xsb3dpbmcgcGVvcGxlOiBcIituaWNrcy5qb2luKCcsICcpKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbmljayA9IHBhcnRzWzFdLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIGlmICghbmlja3JlZ2V4LnRlc3QobmljaykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRFcnJvck1lc3NhZ2UoXCJJbnZhbGlkIG5pY2sgLSAvaWdub3JlIG5pY2tcIikpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmlnbm9yZWxpc3Rbbmlja10gPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmd1aS5yZW1vdmVVc2VyTWVzc2FnZXMobmljayk7XHJcbiAgICAgICAgICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRTdGF0dXNNZXNzYWdlKFwiSWdub3JpbmcgXCIrbmljaykpO1xyXG5cclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlWydjaGF0aWdub3JlbGlzdCddID0gSlNPTi5zdHJpbmdpZnkodGhpcy5pZ25vcmVsaXN0KTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkSWdub3JlTGlzdCgpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcInVuaWdub3JlXCI6XHJcbiAgICAgICAgICAgIGlmICghbG9jYWxTdG9yYWdlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmd1aS5wdXNoKG5ldyBDaGF0RXJyb3JNZXNzYWdlKFwiSWdub3JlIGlzIHVuYXZhaWxhYmxlLCBubyBsb2NhbFN0b3JhZ2VcIikpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIXBhcnRzWzFdIHx8ICFuaWNrcmVnZXgudGVzdChwYXJ0c1sxXS50b0xvd2VyQ2FzZSgpKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ndWkucHVzaChuZXcgQ2hhdEVycm9yTWVzc2FnZShcIkludmFsaWQgbmljayAtIC9pZ25vcmUgbmlja1wiKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmljayA9IHBhcnRzWzFdLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgICAgICAgICBkZWxldGUodGhpcy5pZ25vcmVsaXN0W25pY2tdKTtcclxuICAgICAgICAgICAgdGhpcy5ndWkucHVzaChuZXcgQ2hhdFN0YXR1c01lc3NhZ2UoXCJcIituaWNrK1wiIGhhcyBiZWVuIHJlbW92ZWQgZnJvbSB5b3VyIGlnbm9yZSBsaXN0XCIpKTtcclxuXHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZVsnY2hhdGlnbm9yZWxpc3QnXSA9IEpTT04uc3RyaW5naWZ5KHRoaXMuaWdub3JlbGlzdCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZElnbm9yZUxpc3QoKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJtdXRlXCI6XHJcbiAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ndWkucHVzaChuZXcgQ2hhdEluZm9NZXNzYWdlKFwiVXNhZ2U6IC9cIiArIGNvbW1hbmQgKyBcIiBuaWNrWyB0aW1lXVwiKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFRPRE8gYmFucyBhcmUgYSBsaXR0bGUgbW9yZSBpbnZvbHZlZCwgcmVxdWlyaW5nIGEgcmVhc29uICsgaXAgYmFucyArIHBlcm1iYW5zXHJcbiAgICAgICAgICAgIGlmICghbmlja3JlZ2V4LnRlc3QocGFydHNbMV0pKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmd1aS5wdXNoKG5ldyBDaGF0RXJyb3JNZXNzYWdlKFwiSW52YWxpZCBuaWNrIC0gL1wiICsgY29tbWFuZCArIFwiIG5pY2tbIHRpbWVdXCIpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGR1cmF0aW9uID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKHBhcnRzWzJdKVxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb24gPSB0aGlzLnBhcnNlVGltZUludGVydmFsKHBhcnRzWzJdKVxyXG5cclxuICAgICAgICAgICAgcGF5bG9hZC5kYXRhID0gcGFydHNbMV07XHJcbiAgICAgICAgICAgIGlmIChkdXJhdGlvbiAmJiBkdXJhdGlvbiA+IDApXHJcbiAgICAgICAgICAgICAgICBwYXlsb2FkLmR1cmF0aW9uID0gZHVyYXRpb247XHJcblxyXG4gICAgICAgICAgICB0aGlzLmVtaXQoY29tbWFuZC50b1VwcGVyQ2FzZSgpLCBwYXlsb2FkKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJiYW5cIjpcclxuICAgICAgICBjYXNlIFwiaXBiYW5cIjpcclxuICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA8IDQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRJbmZvTWVzc2FnZShcIlVzYWdlOiAvXCIgKyBjb21tYW5kICsgXCIgbmljayB0aW1lIHJlYXNvbiAodGltZSBjYW4gYmUgJ3Blcm1hbmVudCcpXCIpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFuaWNrcmVnZXgudGVzdChwYXJ0c1sxXSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRFcnJvck1lc3NhZ2UoXCJJbnZhbGlkIG5pY2tcIikpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwYXlsb2FkLm5pY2sgPSBwYXJ0c1sxXTtcclxuICAgICAgICAgICAgaWYgKGNvbW1hbmQgPT0gXCJpcGJhblwiKVxyXG4gICAgICAgICAgICAgICAgcGF5bG9hZC5iYW5pcCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBpZiAoL15wZXJtL2kudGVzdChwYXJ0c1syXSkpXHJcbiAgICAgICAgICAgICAgICBwYXlsb2FkLmlzcGVybWFuZW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgcGF5bG9hZC5kdXJhdGlvbiA9IHRoaXMucGFyc2VUaW1lSW50ZXJ2YWwocGFydHNbMl0pO1xyXG5cclxuICAgICAgICAgICAgcGF5bG9hZC5yZWFzb24gPSBwYXJ0cy5zbGljZSgzLCBwYXJ0cy5sZW5ndGgpLmpvaW4oJyAnKTtcclxuICAgICAgICAgICAgaWYgKCFwYXlsb2FkLnJlYXNvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ndWkucHVzaChuZXcgQ2hhdEVycm9yTWVzc2FnZShcIlByb3ZpZGluZyBhIHJlYXNvbiBpcyBtYW5kYXRvcnlcIikpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJCQU5cIiwgcGF5bG9hZCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwidW5tdXRlXCI6XHJcbiAgICAgICAgY2FzZSBcInVuYmFuXCI6XHJcbiAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ndWkucHVzaChuZXcgQ2hhdEluZm9NZXNzYWdlKFwiVXNhZ2U6IC9cIiArIGNvbW1hbmQgKyBcIiBuaWNrXCIpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFuaWNrcmVnZXgudGVzdChwYXJ0c1sxXSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRFcnJvck1lc3NhZ2UoXCJJbnZhbGlkIG5pY2sgLSAvXCIgKyBjb21tYW5kICsgXCIgbmlja1wiKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHBheWxvYWQuZGF0YSA9IHBhcnRzWzFdO1xyXG4gICAgICAgICAgICB0aGlzLmVtaXQoY29tbWFuZC50b1VwcGVyQ2FzZSgpLCBwYXlsb2FkKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJzdWJvbmx5XCI6XHJcbiAgICAgICAgICAgIGlmIChwYXJ0c1sxXSAhPSAnb24nICYmIHBhcnRzWzFdICE9ICdvZmYnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmd1aS5wdXNoKG5ldyBDaGF0RXJyb3JNZXNzYWdlKFwiSW52YWxpZCBhcmd1bWVudCAtIC9cIiArIGNvbW1hbmQgKyBcIiBvbi9vZmZcIikpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwYXlsb2FkLmRhdGEgPSBwYXJ0c1sxXTtcclxuICAgICAgICAgICAgdGhpcy5lbWl0KGNvbW1hbmQudG9VcHBlckNhc2UoKSwgcGF5bG9hZCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICBjYXNlIFwibWF4bGluZXNcIjpcclxuICAgICAgICAgICAgaWYgKCFwYXJ0c1sxXSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ndWkucHVzaChuZXcgQ2hhdEluZm9NZXNzYWdlKFwiQ3VycmVudCBudW1iZXIgb2YgbGluZXMgc2hvd246IFwiICsgdGhpcy5ndWkuZ2V0UHJlZmVyZW5jZSgnbWF4bGluZXMnKSkpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgbmV3bWF4bGluZXMgPSBNYXRoLmFicyhwYXJzZUludChwYXJ0c1sxXSwgMTApKTtcclxuICAgICAgICAgICAgaWYgKCFuZXdtYXhsaW5lcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ndWkucHVzaChuZXcgQ2hhdEVycm9yTWVzc2FnZShcIkludmFsaWQgYXJndW1lbnQgLSAvbWF4bGluZXMgaXMgZXhwZWN0aW5nIGEgbnVtYmVyXCIpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5ndWkuc2V0UHJlZmVyZW5jZSgnbWF4bGluZXMnLCBuZXdtYXhsaW5lcyk7XHJcbiAgICAgICAgICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRJbmZvTWVzc2FnZShcIkN1cnJlbnQgbnVtYmVyIG9mIGxpbmVzIHNob3duOiBcIiArIHRoaXMuZ3VpLmdldFByZWZlcmVuY2UoJ21heGxpbmVzJykpKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJ1bmhpZ2hsaWdodFwiOlxyXG4gICAgICAgIGNhc2UgXCJoaWdobGlnaHRcIjpcclxuICAgICAgICAgICAgdmFyIGhpZ2hsaWdodG5pY2tzID0gdGhpcy5ndWkuZ2V0UHJlZmVyZW5jZSgnaGlnaGxpZ2h0bmlja3MnKTtcclxuICAgICAgICAgICAgaWYgKCFwYXJ0c1sxXSkge1xyXG4gICAgICAgICAgICAgICAgbmlja3MgPSBbXTtcclxuICAgICAgICAgICAgICAgICQuZWFjaChoaWdobGlnaHRuaWNrcywgZnVuY3Rpb24oaykge1xyXG4gICAgICAgICAgICAgICAgICAgIG5pY2tzLnB1c2goayk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRJbmZvTWVzc2FnZShcIkN1cnJlbnRseSBoaWdobGlnaHRlZCB1c2VyczogXCIgKyBuaWNrcy5qb2luKCcsICcpKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghbmlja3JlZ2V4LnRlc3QocGFydHNbMV0pKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmd1aS5wdXNoKG5ldyBDaGF0RXJyb3JNZXNzYWdlKFwiSW52YWxpZCBuaWNrIC0gL1wiICsgY29tbWFuZCArIFwiIG5pY2tcIikpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBuaWNrID0gcGFydHNbMV0udG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgdmFyIGRvaGlnaGxpZ2h0ID0gY29tbWFuZCA9PSBcImhpZ2hsaWdodFwiO1xyXG4gICAgICAgICAgICBpZiAoZG9oaWdobGlnaHQpIHtcclxuICAgICAgICAgICAgICAgIGhpZ2hsaWdodG5pY2tzW25pY2tdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRJbmZvTWVzc2FnZShcIk5vdyBoaWdobGlnaHRpbmc6IFwiICsgbmljaykpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlKGhpZ2hsaWdodG5pY2tzW25pY2tdKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ3VpLnB1c2gobmV3IENoYXRJbmZvTWVzc2FnZShcIk5vIGxvbmdlciBoaWdobGlnaHRpbmc6IFwiICsgbmljaykpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmd1aS5yZW5ld0hpZ2hsaWdodChuaWNrLCBkb2hpZ2hsaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMuZ3VpLnNldFByZWZlcmVuY2UoJ2hpZ2hsaWdodG5pY2tzJywgaGlnaGxpZ2h0bmlja3MpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcInRpbWVzdGFtcGZvcm1hdFwiOlxyXG4gICAgICAgICAgICBpZiAoIXBhcnRzWzFdKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmd1aS5wdXNoKG5ldyBDaGF0SW5mb01lc3NhZ2UoXCJDdXJyZW50IGZvcm1hdDogXCIgKyB0aGlzLmd1aS5nZXRQcmVmZXJlbmNlKCd0aW1lc3RhbXBmb3JtYXQnKSArIFwiICh0aGUgZGVmYXVsdCBpcyAnSEg6bW0nLCBmb3IgbW9yZSBpbmZvOiBodHRwOi8vbW9tZW50anMuY29tL2RvY3MvIy9kaXNwbGF5aW5nL2Zvcm1hdC8pXCIpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGZvcm1hdCA9IHN0ci5zdWJzdHJpbmcoY29tbWFuZC5sZW5ndGgpO1xyXG4gICAgICAgICAgICBpZiAoICEvXlthLXogOi4sLVxcXFwqXSskL2kudGVzdChmb3JtYXQpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmd1aS5wdXNoKG5ldyBDaGF0RXJyb3JNZXNzYWdlKFwiSW52YWxpZCBmb3JtYXQsIHNlZTogaHR0cDovL21vbWVudGpzLmNvbS9kb2NzLyMvZGlzcGxheWluZy9mb3JtYXQvXCIpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5ndWkuc2V0UHJlZmVyZW5jZSgndGltZXN0YW1wZm9ybWF0JywgZm9ybWF0KTtcclxuICAgICAgICAgICAgdGhpcy5ndWkucHVzaChuZXcgQ2hhdEluZm9NZXNzYWdlKFwiTmV3IGZvcm1hdDogXCIgKyB0aGlzLmd1aS5nZXRQcmVmZXJlbmNlKCd0aW1lc3RhbXBmb3JtYXQnKSkpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSBcImJyb2FkY2FzdFwiOlxyXG4gICAgICAgICAgICBwYXlsb2FkLmRhdGEgPSBzdHIuc3Vic3RyaW5nKGNvbW1hbmQubGVuZ3RoKzEpO1xyXG4gICAgICAgICAgICB0aGlzLmVtaXQoY29tbWFuZC50b1VwcGVyQ2FzZSgpLCBwYXlsb2FkKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgXCJoaW50XCI6XHJcbiAgICAgICAgICAgIHZhciBpZCA9IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBoaW50ID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIHNob3duaGludHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZVtcImhpZGRlbmhpbnRzXCJdIHx8ICdbXScpLFxyXG4gICAgICAgICAgICAgICAgaSA9IDA7XHJcbiAgICAgICAgICAgIHdoaWxlKCsraSl7XHJcbiAgICAgICAgICAgICAgICBpZihpID49IHRoaXMuaGludGluZGV4Lmxlbmd0aCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQgPSB0aGlzLmhpbnRpbmRleFswXTtcclxuICAgICAgICAgICAgICAgICAgICBoaW50ID0gdGhpcy5oaW50c1tpZF07XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd25oaW50cyA9IFtpZF07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZihzaG93bmhpbnRzLmluZGV4T2YodGhpcy5oaW50aW5kZXhbaV0pID09PSAtMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQgPSB0aGlzLmhpbnRpbmRleFtpXTtcclxuICAgICAgICAgICAgICAgICAgICBoaW50ID0gdGhpcy5oaW50c1tpZF07XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd25oaW50cy5wdXNoKGlkKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2VbXCJoaWRkZW5oaW50c1wiXSA9IEpTT04uc3RyaW5naWZ5KHNob3duaGludHMpO1xyXG4gICAgICAgICAgICB0aGlzLmd1aS5wdXNoKG5ldyBDaGF0SW5mb01lc3NhZ2UoaGludCkpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICB9XHJcbn07XHJcbmNoYXQucHJvdG90eXBlLnBhcnNlVGltZUludGVydmFsID0gZnVuY3Rpb24oc3RyKSB7XHJcbiAgICB2YXIgbmFub3NlY29uZHMgPSAwLFxyXG4gICAgICAgIHVuaXRzICAgPSB7XHJcbiAgICAgICAgczogMTAwMDAwMDAwMCxcclxuICAgICAgICBzZWM6IDEwMDAwMDAwMDAsIHNlY3M6IDEwMDAwMDAwMDAsXHJcbiAgICAgICAgc2Vjb25kOiAxMDAwMDAwMDAwLCBzZWNvbmRzOiAxMDAwMDAwMDAwLFxyXG5cclxuICAgICAgICBtOiA2MDAwMDAwMDAwMCxcclxuICAgICAgICBtaW46IDYwMDAwMDAwMDAwLCBtaW5zOiA2MDAwMDAwMDAwMCxcclxuICAgICAgICBtaW51dGU6IDYwMDAwMDAwMDAwLCBtaW51dGVzOiA2MDAwMDAwMDAwMCxcclxuXHJcbiAgICAgICAgaDogMzYwMDAwMDAwMDAwMCxcclxuICAgICAgICBocjogMzYwMDAwMDAwMDAwMCwgaHJzOiAzNjAwMDAwMDAwMDAwLFxyXG4gICAgICAgIGhvdXI6IDM2MDAwMDAwMDAwMDAsIGhvdXJzOiAzNjAwMDAwMDAwMDAwLFxyXG5cclxuICAgICAgICBkOiA4NjQwMDAwMDAwMDAwMCxcclxuICAgICAgICBkYXk6IDg2NDAwMDAwMDAwMDAwLCBkYXlzOiA4NjQwMDAwMDAwMDAwMFxyXG4gICAgfTtcclxuICAgIHN0ci5yZXBsYWNlKC8oXFxkKyg/OlxcLlxcZCopPykoW2Etel0rKT8vaWcsIGZ1bmN0aW9uKCQwLCBudW1iZXIsIHVuaXQpIHtcclxuICAgICAgICBpZiAodW5pdClcclxuICAgICAgICAgICAgbnVtYmVyICo9IHVuaXRzW3VuaXQudG9Mb3dlckNhc2UoKV0gfHwgdW5pdHMucztcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIG51bWJlciAqPSB1bml0cy5zO1xyXG5cclxuICAgICAgICBuYW5vc2Vjb25kcyArPSArbnVtYmVyO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gbmFub3NlY29uZHM7XHJcbn07XHJcblxyXG4iLCIoZnVuY3Rpb24oJCl7XHJcblxyXG4gICAgdmFyIENoYXRBdXRvQ29tcGxldGUgPSBmdW5jdGlvbihpbnB1dCwgZW1vdGljb25zKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICBpZiAoIWlucHV0IHx8IGlucHV0Lmxlbmd0aCA9PSAwIHx8ICFpbnB1dFswXS5zZXRTZWxlY3Rpb25SYW5nZSlcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgICAgIHRoaXMubWluV29yZExlbmd0aCA9IDE7XHJcbiAgICAgICAgdGhpcy5tYXhSZXN1bHRzICAgID0gMTA7XHJcbiAgICAgICAgdGhpcy5idWNrZXRzICAgICAgID0ge307XHJcbiAgICAgICAgdGhpcy5vcmlnVmFsICAgICAgID0gbnVsbDtcclxuICAgICAgICB0aGlzLnNlYXJjaFJlc3VsdHMgPSBbXTtcclxuICAgICAgICB0aGlzLnNlYXJjaEluZGV4ICAgPSAtMTtcclxuICAgICAgICB0aGlzLnNlYXJjaFdvcmQgICAgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuaW5wdXQgICAgICAgICA9ICQoaW5wdXQpO1xyXG4gICAgICAgIHRoaXMuZXhwaXJlVXNlcnMgICA9ICQucHJveHkodGhpcy5leHBpcmVVc2VycywgdGhpcyk7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSBlbW90aWNvbnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXHJcbiAgICAgICAgICAgIHRoaXMuYWRkRW1vdGUoZW1vdGljb25zW2ldKTtcclxuXHJcbiAgICAgICAgc2V0SW50ZXJ2YWwodGhpcy5leHBpcmVVc2VycywgMTAwMDAwKTsgLy8gMSBtaW51dGVcclxuICAgICAgICB0aGlzLmlucHV0Lm9uKHtcclxuICAgICAgICAgICAgbW91c2Vkb3duOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYucmVzZXRTZWFyY2goKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAga2V5ZG93bjogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PSA5KSB7IC8vIGlmIFRBQlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmb3JjZVVzZXJTZWFyY2ggPSBlLnNoaWZ0S2V5O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnNlYXJjaFJlc3VsdHMubGVuZ3RoIDw9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZXNldFNlYXJjaCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNlYXJjaFNlbGVjdFdvcmQoZm9yY2VVc2VyU2VhcmNoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zaG93QXV0b0NvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIENhbmNlbCB0aGUgc2VhcmNoIGFuZCBjb250aW51ZSB0aGUga2V5ZG93blxyXG4gICAgICAgICAgICAgICAgc2VsZi5yZXNldFNlYXJjaCgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgQ2hhdEF1dG9Db21wbGV0ZS5wcm90b3R5cGUuZ2V0QnVja2V0SWQgPSBmdW5jdGlvbihzdHIpIHtcclxuICAgICAgICBpZiAoc3RyLmxlbmd0aCA9PSAwKVxyXG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcclxuXHJcbiAgICAgICAgcmV0dXJuIHN0clswXS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgfTtcclxuICAgIENoYXRBdXRvQ29tcGxldGUucHJvdG90eXBlLmFkZFRvQnVja2V0ID0gZnVuY3Rpb24oZGF0YSwgd2VpZ2h0LCBpc2Vtb3RlLCBwcm9tb3RlVGltZXN0YW1wKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlucHV0KVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIHZhciBpZCA9IHRoaXMuZ2V0QnVja2V0SWQoZGF0YSk7XHJcblxyXG4gICAgICAgIGlmKCF0aGlzLmJ1Y2tldHNbaWRdKVxyXG4gICAgICAgICAgICB0aGlzLmJ1Y2tldHNbaWRdID0ge307XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5idWNrZXRzW2lkXVtkYXRhXSlcclxuICAgICAgICAgICAgdGhpcy5idWNrZXRzW2lkXVtkYXRhXSA9IHtcclxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgICAgICAgICAgICB3ZWlnaHQ6IHdlaWdodCxcclxuICAgICAgICAgICAgICAgIGlzZW1vdGU6ICEhaXNlbW90ZSxcclxuICAgICAgICAgICAgICAgIHByb21vdGVkOiBwcm9tb3RlVGltZXN0YW1wXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmJ1Y2tldHNbaWRdW2RhdGFdO1xyXG4gICAgfTtcclxuICAgIENoYXRBdXRvQ29tcGxldGUucHJvdG90eXBlLmFkZEVtb3RlID0gZnVuY3Rpb24oZW1vdGUpe1xyXG4gICAgICAgIHRoaXMuYWRkVG9CdWNrZXQoZW1vdGUsIDEsIHRydWUsIDApO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBDaGF0QXV0b0NvbXBsZXRlLnByb3RvdHlwZS5hZGROaWNrID0gZnVuY3Rpb24obmljaykge1xyXG4gICAgICAgIHRoaXMuYWRkVG9CdWNrZXQobmljaywgMSwgZmFsc2UsIDApO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBDaGF0QXV0b0NvbXBsZXRlLnByb3RvdHlwZS51cGRhdGVOaWNrID0gZnVuY3Rpb24obmljaykge1xyXG4gICAgICAgIGlmICghdGhpcy5pbnB1dClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICB2YXIgd2VpZ2h0ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuYWRkVG9CdWNrZXQobmljaywgd2VpZ2h0LCBmYWxzZSwgMCk7XHJcblxyXG4gICAgICAgIGRhdGEud2VpZ2h0ID0gd2VpZ2h0O1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIENoYXRBdXRvQ29tcGxldGUucHJvdG90eXBlLnByb21vdGVOaWNrID0gZnVuY3Rpb24obmljaykge1xyXG4gICAgICAgIHZhciBwcm9tb3RlVGltZXN0YW1wID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuYWRkVG9CdWNrZXQobmljaywgMSwgZmFsc2UsIHByb21vdGVUaW1lc3RhbXApO1xyXG5cclxuICAgICAgICBpZiAoZGF0YS5pc2Vtb3RlKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICAgICAgZGF0YS5wcm9tb3RlZCA9IHByb21vdGVUaW1lc3RhbXA7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIENoYXRBdXRvQ29tcGxldGUucHJvdG90eXBlLmdldFNlYXJjaFdvcmQgPSBmdW5jdGlvbihzdHIsIG9mZnNldCkge1xyXG4gICAgICAgIHZhciBwcmUgICAgICAgICAgPSBzdHIuc3Vic3RyaW5nKDAsIG9mZnNldCksXHJcbiAgICAgICAgICAgIHBvc3QgICAgICAgICA9IHN0ci5zdWJzdHJpbmcob2Zmc2V0KSxcclxuICAgICAgICAgICAgc3RhcnRDYXJldCAgID0gcHJlLmxhc3RJbmRleE9mKFwiIFwiKSArIDEsXHJcbiAgICAgICAgICAgIGVuZENhcmV0ICAgICA9IHBvc3QuaW5kZXhPZihcIiBcIiksXHJcbiAgICAgICAgICAgIGlzVXNlclNlYXJjaCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBpZiAoc3RhcnRDYXJldCA+IDApXHJcbiAgICAgICAgICAgIHByZSA9IHByZS5zdWJzdHJpbmcoc3RhcnRDYXJldCk7XHJcblxyXG4gICAgICAgIGlmIChlbmRDYXJldCA+IC0xKVxyXG4gICAgICAgICAgICBwb3N0ID0gcG9zdC5zdWJzdHJpbmcoMCwgZW5kQ2FyZXQpO1xyXG5cclxuICAgICAgICAvLyBJZ25vcmUgdGhlIGZpcnN0IGNoYXIgYXMgcGFydCBvZiB0aGUgc2VhcmNoIGFuZCBmbGFnIGFzIGEgdXNlciBvbmx5IHNlYXJjaFxyXG4gICAgICAgIGlmKHByZS5sYXN0SW5kZXhPZihcIkBcIikgPT09IDApe1xyXG4gICAgICAgICAgICBzdGFydENhcmV0Kys7XHJcbiAgICAgICAgICAgIHByZSA9IHByZS5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgICAgIGlzVXNlclNlYXJjaCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB3b3JkOiBwcmUgKyBwb3N0LFxyXG4gICAgICAgICAgICBzdGFydENhcmV0OiBzdGFydENhcmV0LFxyXG4gICAgICAgICAgICBpc1VzZXJTZWFyY2g6IGlzVXNlclNlYXJjaFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgQ2hhdEF1dG9Db21wbGV0ZS5wcm90b3R5cGUuc29ydFJlc3VsdHMgPSBmdW5jdGlvbihhLCBiKSB7XHJcbiAgICAgICAgaWYoIWEgfHwgIWIpXHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG5cclxuICAgICAgICAvLyBvcmRlciBwcm9tb3RlZCB0aGluZ3MgZmlyc3RcclxuICAgICAgICBpZiAoYS5wcm9tb3RlZCAhPSBiLnByb21vdGVkKVxyXG4gICAgICAgICAgICByZXR1cm4gYS5wcm9tb3RlZCA+IGIucHJvbW90ZWQ/IC0xOiAxO1xyXG5cclxuICAgICAgICAvLyBvcmRlciBlbW90ZXMgc2Vjb25kXHJcbiAgICAgICAgaWYgKGEuaXNlbW90ZSAhPSBiLmlzZW1vdGUpXHJcbiAgICAgICAgICAgIHJldHVybiBhLmlzZW1vdGUgJiYgIWIuaXNlbW90ZT8gLTE6IDE7XHJcblxyXG4gICAgICAgIC8vIG9yZGVyIGFjY29yZGluZyB0byByZWNlbmN5IHRoaXJkXHJcbiAgICAgICAgaWYgKGEud2VpZ2h0ICE9IGIud2VpZ2h0KVxyXG4gICAgICAgICAgICByZXR1cm4gYS53ZWlnaHQgPiBiLndlaWdodD8gLTE6IDE7XHJcblxyXG4gICAgICAgIC8vIG9yZGVyIGxleGljYWxseSBmb3VydGhcclxuICAgICAgICBhID0gYS5kYXRhLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgYiA9IGIuZGF0YS50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICAgICAgICBpZiAoYSA9PSBiKVxyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuXHJcbiAgICAgICAgcmV0dXJuIGEgPiBiPyAxOiAtMTtcclxuICAgIH07XHJcbiAgICBDaGF0QXV0b0NvbXBsZXRlLnByb3RvdHlwZS5zZWFyY2hCdWNrZXRzID0gZnVuY3Rpb24oc3RyLCBsaW1pdCwgdXNlcm5hbWVzT25seSkge1xyXG4gICAgICAgIC8vIGVzY2FwZSB0aGUgdGV4dCBiZWluZyBpbnNlcnRlZCBpbnRvIHRoZSByZWdleHBcclxuICAgICAgICBzdHIgPSBzdHIudHJpbSgpLnJlcGxhY2UoL1tcXC1cXFtcXF1cXC9cXHtcXH1cXChcXClcXCpcXCtcXD9cXC5cXFxcXFxeXFwkXFx8XS9nLCBcIlxcXFwkJlwiKTtcclxuICAgICAgICB2YXIgcmVzICA9IFtdLFxyXG4gICAgICAgICAgICBmICAgID0gbmV3IFJlZ0V4cChcIl5cIitzdHIsIFwiaVwiKSxcclxuICAgICAgICAgICAgZGF0YSA9IHRoaXMuYnVja2V0c1t0aGlzLmdldEJ1Y2tldElkKHN0cildIHx8IHt9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIGZvciAodmFyIG5pY2sgaW4gZGF0YSkge1xyXG4gICAgICAgICAgICBpZiAoIWRhdGEuaGFzT3duUHJvcGVydHkobmljaykgfHwgKHVzZXJuYW1lc09ubHkgJiYgZGF0YVtuaWNrXS5pc2Vtb3RlKSlcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgaWYgKGYudGVzdChuaWNrKSlcclxuICAgICAgICAgICAgICAgIHJlcy5wdXNoKGRhdGFbbmlja10pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVzLnNvcnQodGhpcy5zb3J0UmVzdWx0cyk7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zbGljZSgwLCBsaW1pdCk7XHJcbiAgICB9O1xyXG4gICAgQ2hhdEF1dG9Db21wbGV0ZS5wcm90b3R5cGUuZXhwaXJlVXNlcnMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBldmVyeSAxMCBtaW51dGVzIHJlc2V0IHRoZSBwcm9tb3RlZCB1c2VycyBzbyB0aGF0IGVtb3RlcyBjYW4gYmVcclxuICAgICAgICAvLyBvcmRlcmVkIGJlZm9yZSB0aGUgdXNlciBhZ2FpblxyXG4gICAgICAgIHZhciB0ZW5taW51dGVzYWdvID0gRGF0ZS5ub3coKSAtIDYwMDAwMDtcclxuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMuYnVja2V0cykge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuYnVja2V0cy5oYXNPd25Qcm9wZXJ0eShpKSlcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgZm9yKHZhciBqIGluIHRoaXMuYnVja2V0c1tpXSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmJ1Y2tldHNbaV0uaGFzT3duUHJvcGVydHkoaikpXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmJ1Y2tldHNbaV1bal07XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRhdGEuaXNlbW90ZSAmJiBkYXRhLnByb21vdGVkIDw9IHRlbm1pbnV0ZXNhZ28pXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5wcm9tb3RlZCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFkYXRhLmlzZW1vdGUgJiYgZGF0YS53ZWlnaHQgPD0gdGVubWludXRlc2FnbylcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLndlaWdodCA9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQ2hhdEF1dG9Db21wbGV0ZS5wcm90b3R5cGUubWFya0xhc3RDb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmKCF0aGlzLmxhc3RDb21wbGV0ZSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuYnVja2V0c1t0aGlzLmdldEJ1Y2tldElkKHRoaXMubGFzdENvbXBsZXRlKV0gfHwge307XHJcblxyXG4gICAgICAgIC8vIHNob3VsZCBuZXZlciBoYXBwZW4sIGJ1dCBqdXN0IGluIGNhc2VcclxuICAgICAgICBpZiAoIWRhdGFbdGhpcy5sYXN0Q29tcGxldGVdKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sYXN0Q29tcGxldGUgPSBudWxsO1xyXG5cclxuICAgICAgICBpZiAoZGF0YVt0aGlzLmxhc3RDb21wbGV0ZV0uaXNlbW90ZSkge1xyXG4gICAgICAgICAgICAvLyByZXNldCB0aGUgcHJvbW90aW9uIG9mIHVzZXJzIG5lYXIgdGhlIGVtb3RlXHJcbiAgICAgICAgICAgIGZvcih2YXIgaiBpbiBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRhdGEuaGFzT3duUHJvcGVydHkoaikpXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICAgICAgZGF0YVtqXS5wcm9tb3RlZCA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFzdENvbXBsZXRlID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucHJvbW90ZU5pY2sodGhpcy5sYXN0Q29tcGxldGUpO1xyXG4gICAgICAgIHRoaXMubGFzdENvbXBsZXRlID0gbnVsbDtcclxuICAgIH07XHJcbiAgICBDaGF0QXV0b0NvbXBsZXRlLnByb3RvdHlwZS5yZXNldFNlYXJjaCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMub3JpZ1ZhbCAgICAgICA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zZWFyY2hSZXN1bHRzID0gW107XHJcbiAgICAgICAgdGhpcy5zZWFyY2hJbmRleCAgID0gLTE7XHJcbiAgICAgICAgdGhpcy5zZWFyY2hXb3JkICAgID0gbnVsbDtcclxuICAgIH07XHJcbiAgICBDaGF0QXV0b0NvbXBsZXRlLnByb3RvdHlwZS5zZWFyY2hTZWxlY3RXb3JkID0gZnVuY3Rpb24oZm9yY2VVc2VyU2VhcmNoKSB7XHJcbiAgICAgICAgdmFyIHNlYXJjaFdvcmQgPSB0aGlzLmdldFNlYXJjaFdvcmQodGhpcy5pbnB1dC52YWwoKSwgdGhpcy5pbnB1dFswXS5zZWxlY3Rpb25TdGFydCk7XHJcbiAgICAgICAgaWYgKHNlYXJjaFdvcmQud29yZC5sZW5ndGggPj0gdGhpcy5taW5Xb3JkTGVuZ3RoKXtcclxuICAgICAgICAgICAgdGhpcy5zZWFyY2hXb3JkICAgID0gc2VhcmNoV29yZDtcclxuICAgICAgICAgICAgdmFyIGlzVXNlclNlYXJjaCAgID0gZm9yY2VVc2VyU2VhcmNoPyB0cnVlOiB0aGlzLnNlYXJjaFdvcmQuaXNVc2VyU2VhcmNoO1xyXG4gICAgICAgICAgICB0aGlzLnNlYXJjaFJlc3VsdHMgPSB0aGlzLnNlYXJjaEJ1Y2tldHModGhpcy5zZWFyY2hXb3JkLndvcmQsIHRoaXMubWF4UmVzdWx0cywgaXNVc2VyU2VhcmNoKTtcclxuICAgICAgICAgICAgdGhpcy5vcmlnVmFsICAgICAgID0gdGhpcy5pbnB1dC52YWwoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQ2hhdEF1dG9Db21wbGV0ZS5wcm90b3R5cGUuc2hvd0F1dG9Db21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNlYXJjaEluZGV4ID49IHRoaXMuc2VhcmNoUmVzdWx0cy5sZW5ndGggLSAxKVxyXG4gICAgICAgICAgICB0aGlzLnNlYXJjaEluZGV4ID0gMDtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMuc2VhcmNoSW5kZXggPSB0aGlzLnNlYXJjaEluZGV4ICsgMTtcclxuXHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuc2VhcmNoUmVzdWx0c1t0aGlzLnNlYXJjaEluZGV4XTtcclxuICAgICAgICBpZiAoIXJlc3VsdCB8fCByZXN1bHQuZGF0YSA9PSB0aGlzLnNlYXJjaFdvcmQud29yZClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLmxhc3RDb21wbGV0ZSA9IHJlc3VsdC5kYXRhO1xyXG4gICAgICAgIHZhciBwcmUgID0gdGhpcy5vcmlnVmFsLnN1YnN0cigwLCB0aGlzLnNlYXJjaFdvcmQuc3RhcnRDYXJldCksXHJcbiAgICAgICAgICAgIHBvc3QgPSB0aGlzLm9yaWdWYWwuc3Vic3RyKHRoaXMuc2VhcmNoV29yZC5zdGFydENhcmV0ICsgdGhpcy5zZWFyY2hXb3JkLndvcmQubGVuZ3RoKTtcclxuXHJcbiAgICAgICAgLy8gYWx3YXlzIGFkZCBhIHNwYWNlIGFmdGVyIG91ciBjb21wbGV0aW9uIGlmIHRoZXJlIGlzbid0IG9uZSBzaW5jZSBwZW9wbGVcclxuICAgICAgICAvLyB3b3VsZCBhZGQgb25lIGFueXdheVxyXG4gICAgICAgIGlmIChwb3N0WzBdICE9IFwiIFwiIHx8IHBvc3QubGVuZ3RoID09IDApXHJcbiAgICAgICAgICAgIHBvc3QgPSBcIiBcIiArIHBvc3Q7XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXQuZm9jdXMoKS52YWwocHJlICsgcmVzdWx0LmRhdGEgKyBwb3N0KTtcclxuXHJcbiAgICAgICAgLy8gTW92ZSB0aGUgY2FyZXQgdG8gdGhlIGVuZCBvZiB0aGUgcmVwbGFjZW1lbnQgc3RyaW5nICsgMSBmb3IgdGhlIHNwYWNlXHJcbiAgICAgICAgdGhpcy5pbnB1dFswXS5zZXRTZWxlY3Rpb25SYW5nZShwcmUubGVuZ3RoICsgcmVzdWx0LmRhdGEubGVuZ3RoICsgMSwgcHJlLmxlbmd0aCArIHJlc3VsdC5kYXRhLmxlbmd0aCArIDEpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfTtcclxuXHJcbiAgICB3aW5kb3cuQ2hhdEF1dG9Db21wbGV0ZSA9IENoYXRBdXRvQ29tcGxldGU7XHJcblxyXG59KShqUXVlcnkpOyIsIihmdW5jdGlvbigkKXtcclxuXHJcbiAgICAvLyBDaGF0IG1lc3NhZ2UgZm9ybWF0dGVyc1xyXG4gICAgLy8gbXVzdCBoYXZlIHR3byBtZXRob2RzLCBhIGNvbnN0cnVjdG9yIGFuZCBhIC5mb3JtYXQobWVzc2FnZVssIHVzZXJdKSBtZXRob2RcclxuXHJcbiAgICAvLyBHcmVlbiBUZXh0IGZvcm1hdHRlclxyXG4gICAgZGVzdGlueS5mbi5HcmVlblRleHRGb3JtYXR0ZXIgPSBmdW5jdGlvbihjaGF0KXtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgZGVzdGlueS5mbi5HcmVlblRleHRGb3JtYXR0ZXIucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uKHN0ciwgdXNlcil7XHJcbiAgICAgICAgaWYodXNlciAmJiBzdHIuaW5kZXhPZihcIiZndDtcIikgPT09IDApe1xyXG4gICAgICAgICAgICBpZih1c2VyLmhhc0FueUZlYXR1cmVzKFxyXG4gICAgICAgICAgICAgICAgZGVzdGlueS5Vc2VyRmVhdHVyZXMuU1VCU0NSSUJFUlQzLFxyXG4gICAgICAgICAgICAgICAgZGVzdGlueS5Vc2VyRmVhdHVyZXMuU1VCU0NSSUJFUlQ0LFxyXG4gICAgICAgICAgICAgICAgZGVzdGlueS5Vc2VyRmVhdHVyZXMuU1VCU0NSSUJFUlQyLFxyXG4gICAgICAgICAgICAgICAgZGVzdGlueS5Vc2VyRmVhdHVyZXMuQURNSU4sXHJcbiAgICAgICAgICAgICAgICBkZXN0aW55LlVzZXJGZWF0dXJlcy5NT0RFUkFUT1JcclxuICAgICAgICAgICAgKSlcclxuICAgICAgICAgICAgICAgIHN0ciA9ICc8c3BhbiBjbGFzcz1cImdyZWVudGV4dFwiPicrc3RyKyc8L3NwYW4+JztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8vIEVtb3RlIGxpbmUgZm9ybWF0dGVyXHJcbiAgICBkZXN0aW55LmZuLkVtb3RlRm9ybWF0dGVyID0gZnVuY3Rpb24oY2hhdCl7XHJcbiAgICAgICAgdGhpcy5lbW90ZXJlZ2V4ID0gbmV3IFJlZ0V4cCgnKF58XFxcXHMpKCcrY2hhdC5lbW90aWNvbnMuam9pbignfCcpKycpKD89JHxcXFxccyknKTtcclxuICAgICAgICB0aGlzLmdlbW90ZXJlZ2V4ID0gbmV3IFJlZ0V4cCgnKF58XFxcXHMpKCcrY2hhdC5lbW90aWNvbnMuam9pbignfCcpKycpKD89JHxcXFxccyknLCAnZ20nKTtcclxuICAgICAgICB0aGlzLnR3aXRjaGVtb3RlcmVnZXggPSBuZXcgUmVnRXhwKCcoXnxcXFxccykoJytjaGF0LmVtb3RpY29ucy5qb2luKCd8JykrJ3wnK2NoYXQudHdpdGNoZW1vdGVzLmpvaW4oJ3wnKSsnKSg/PSR8XFxcXHMpJywgJ2dtJyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIGRlc3RpbnkuZm4uRW1vdGVGb3JtYXR0ZXIucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uKHN0ciwgdXNlcil7XHJcbiAgICAgICAgdmFyIGVtb3RlcmVnZXggPSB0aGlzLmVtb3RlcmVnZXg7XHJcbiAgICAgICAgaWYgKHVzZXIgJiYgdXNlci5mZWF0dXJlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGlmICh1c2VyLmhhc0ZlYXR1cmUoZGVzdGlueS5Vc2VyRmVhdHVyZXMuU1VCU0NSSUJFUlQwKSlcclxuICAgICAgICAgICAgICAgIGVtb3RlcmVnZXggPSB0aGlzLnR3aXRjaGVtb3RlcmVnZXg7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIGVtb3RlcmVnZXggPSB0aGlzLmdlbW90ZXJlZ2V4O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoZW1vdGVyZWdleCwgJyQxPGRpdiB0aXRsZT1cIiQyXCIgY2xhc3M9XCJjaGF0LWVtb3RlIGNoYXQtZW1vdGUtJDJcIj4kMiA8L2Rpdj4nKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gVXNlciBtZW50aW9uIGZvcm1hdHRlclxyXG4gICAgZGVzdGlueS5mbi5NZW50aW9uZWRVc2VyRm9ybWF0dGVyID0gZnVuY3Rpb24oY2hhdCkge1xyXG4gICAgICAgIHRoaXMudXNlcnMgPSBjaGF0LmVuZ2luZS51c2VycztcclxuICAgICAgICB0aGlzLnVzZXJyZWdleCA9IC8oKD86XnxcXHMpQD8pKFthLXpBLVowLTlfXXszLDIwfSkoPz0kfFxcc3xbXFwuXFw/ISxdKS9nO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICBkZXN0aW55LmZuLk1lbnRpb25lZFVzZXJGb3JtYXR0ZXIucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uKHN0ciwgdXNlcikge1xyXG4gICAgICAgIHZhciB1c2VycyA9IHRoaXMudXNlcnM7XHJcbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKHRoaXMudXNlcnJlZ2V4LCBmdW5jdGlvbihtYXRjaCwgcHJlZml4LCBuaWNrKSB7XHJcbiAgICAgICAgICAgIGlmICh1c2Vycy5wcm9wZXJ0eUlzRW51bWVyYWJsZShuaWNrKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZWZpeCArICc8c3BhbiBjbGFzcz1cImNoYXQtdXNlclwiPicgKyBuaWNrICsgJzwvc3Bhbj4nO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxufSkoalF1ZXJ5KTtcclxuIiwiKGZ1bmN0aW9uKCQpIHtcclxuLypcclxuICB0cmFuc2Zvcm1lZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9tdmRhbi94dXJsc1xyXG4gIHdpdGggaGVscCB0byB0cmFuc2xhdGUgdW5pY29kZSBzaG9ydGN1dHMgdG8gamF2YXNjcmlwdCBieVxyXG4gIGh0dHBzOi8vZ2l0aHViLmNvbS9kYW5pZWxiZXJuZHQvYmFiZWwtcGx1Z2luLXV0Zi04LXJlZ2V4L2Jsb2IvbWFzdGVyL3NyYy90cmFuc2Zvcm1lci5qc1xyXG4qL1xyXG5kZXN0aW55LmZuLlVybEZvcm1hdHRlciA9IGZ1bmN0aW9uKGNoYXQpIHtcclxuXHR2YXIgdW5pY29kZVNob3J0Y3V0cyA9IHtcclxuXHRcdFwicHtMfVwiIDogXCJcXFxcdTAwNDEtXFxcXHUwMDVBXFxcXHUwMDYxLVxcXFx1MDA3QVxcXFx1MDBBQVxcXFx1MDBCNVxcXFx1MDBCQVxcXFx1MDBDMC1cXFxcdTAwRDZcXFxcdTAwRDgtXFxcXHUwMEY2XFxcXHUwMEY4LVxcXFx1MDJDMVxcXFx1MDJDNi1cXFxcdTAyRDFcXFxcdTAyRTAtXFxcXHUwMkU0XFxcXHUwMkVDXFxcXHUwMkVFXFxcXHUwMzcwLVxcXFx1MDM3NFxcXFx1MDM3NlxcXFx1MDM3N1xcXFx1MDM3QS1cXFxcdTAzN0RcXFxcdTAzODZcXFxcdTAzODgtXFxcXHUwMzhBXFxcXHUwMzhDXFxcXHUwMzhFLVxcXFx1MDNBMVxcXFx1MDNBMy1cXFxcdTAzRjVcXFxcdTAzRjctXFxcXHUwNDgxXFxcXHUwNDhBLVxcXFx1MDUyN1xcXFx1MDUzMS1cXFxcdTA1NTZcXFxcdTA1NTlcXFxcdTA1NjEtXFxcXHUwNTg3XFxcXHUwNUQwLVxcXFx1MDVFQVxcXFx1MDVGMC1cXFxcdTA1RjJcXFxcdTA2MjAtXFxcXHUwNjRBXFxcXHUwNjZFXFxcXHUwNjZGXFxcXHUwNjcxLVxcXFx1MDZEM1xcXFx1MDZENVxcXFx1MDZFNVxcXFx1MDZFNlxcXFx1MDZFRVxcXFx1MDZFRlxcXFx1MDZGQS1cXFxcdTA2RkNcXFxcdTA2RkZcXFxcdTA3MTBcXFxcdTA3MTItXFxcXHUwNzJGXFxcXHUwNzRELVxcXFx1MDdBNVxcXFx1MDdCMVxcXFx1MDdDQS1cXFxcdTA3RUFcXFxcdTA3RjRcXFxcdTA3RjVcXFxcdTA3RkFcXFxcdTA4MDAtXFxcXHUwODE1XFxcXHUwODFBXFxcXHUwODI0XFxcXHUwODI4XFxcXHUwODQwLVxcXFx1MDg1OFxcXFx1MDhBMFxcXFx1MDhBMi1cXFxcdTA4QUNcXFxcdTA5MDQtXFxcXHUwOTM5XFxcXHUwOTNEXFxcXHUwOTUwXFxcXHUwOTU4LVxcXFx1MDk2MVxcXFx1MDk3MS1cXFxcdTA5NzdcXFxcdTA5NzktXFxcXHUwOTdGXFxcXHUwOTg1LVxcXFx1MDk4Q1xcXFx1MDk4RlxcXFx1MDk5MFxcXFx1MDk5My1cXFxcdTA5QThcXFxcdTA5QUEtXFxcXHUwOUIwXFxcXHUwOUIyXFxcXHUwOUI2LVxcXFx1MDlCOVxcXFx1MDlCRFxcXFx1MDlDRVxcXFx1MDlEQ1xcXFx1MDlERFxcXFx1MDlERi1cXFxcdTA5RTFcXFxcdTA5RjBcXFxcdTA5RjFcXFxcdTBBMDUtXFxcXHUwQTBBXFxcXHUwQTBGXFxcXHUwQTEwXFxcXHUwQTEzLVxcXFx1MEEyOFxcXFx1MEEyQS1cXFxcdTBBMzBcXFxcdTBBMzJcXFxcdTBBMzNcXFxcdTBBMzVcXFxcdTBBMzZcXFxcdTBBMzhcXFxcdTBBMzlcXFxcdTBBNTktXFxcXHUwQTVDXFxcXHUwQTVFXFxcXHUwQTcyLVxcXFx1MEE3NFxcXFx1MEE4NS1cXFxcdTBBOERcXFxcdTBBOEYtXFxcXHUwQTkxXFxcXHUwQTkzLVxcXFx1MEFBOFxcXFx1MEFBQS1cXFxcdTBBQjBcXFxcdTBBQjJcXFxcdTBBQjNcXFxcdTBBQjUtXFxcXHUwQUI5XFxcXHUwQUJEXFxcXHUwQUQwXFxcXHUwQUUwXFxcXHUwQUUxXFxcXHUwQjA1LVxcXFx1MEIwQ1xcXFx1MEIwRlxcXFx1MEIxMFxcXFx1MEIxMy1cXFxcdTBCMjhcXFxcdTBCMkEtXFxcXHUwQjMwXFxcXHUwQjMyXFxcXHUwQjMzXFxcXHUwQjM1LVxcXFx1MEIzOVxcXFx1MEIzRFxcXFx1MEI1Q1xcXFx1MEI1RFxcXFx1MEI1Ri1cXFxcdTBCNjFcXFxcdTBCNzFcXFxcdTBCODNcXFxcdTBCODUtXFxcXHUwQjhBXFxcXHUwQjhFLVxcXFx1MEI5MFxcXFx1MEI5Mi1cXFxcdTBCOTVcXFxcdTBCOTlcXFxcdTBCOUFcXFxcdTBCOUNcXFxcdTBCOUVcXFxcdTBCOUZcXFxcdTBCQTNcXFxcdTBCQTRcXFxcdTBCQTgtXFxcXHUwQkFBXFxcXHUwQkFFLVxcXFx1MEJCOVxcXFx1MEJEMFxcXFx1MEMwNS1cXFxcdTBDMENcXFxcdTBDMEUtXFxcXHUwQzEwXFxcXHUwQzEyLVxcXFx1MEMyOFxcXFx1MEMyQS1cXFxcdTBDMzNcXFxcdTBDMzUtXFxcXHUwQzM5XFxcXHUwQzNEXFxcXHUwQzU4XFxcXHUwQzU5XFxcXHUwQzYwXFxcXHUwQzYxXFxcXHUwQzg1LVxcXFx1MEM4Q1xcXFx1MEM4RS1cXFxcdTBDOTBcXFxcdTBDOTItXFxcXHUwQ0E4XFxcXHUwQ0FBLVxcXFx1MENCM1xcXFx1MENCNS1cXFxcdTBDQjlcXFxcdTBDQkRcXFxcdTBDREVcXFxcdTBDRTBcXFxcdTBDRTFcXFxcdTBDRjFcXFxcdTBDRjJcXFxcdTBEMDUtXFxcXHUwRDBDXFxcXHUwRDBFLVxcXFx1MEQxMFxcXFx1MEQxMi1cXFxcdTBEM0FcXFxcdTBEM0RcXFxcdTBENEVcXFxcdTBENjBcXFxcdTBENjFcXFxcdTBEN0EtXFxcXHUwRDdGXFxcXHUwRDg1LVxcXFx1MEQ5NlxcXFx1MEQ5QS1cXFxcdTBEQjFcXFxcdTBEQjMtXFxcXHUwREJCXFxcXHUwREJEXFxcXHUwREMwLVxcXFx1MERDNlxcXFx1MEUwMS1cXFxcdTBFMzBcXFxcdTBFMzJcXFxcdTBFMzNcXFxcdTBFNDAtXFxcXHUwRTQ2XFxcXHUwRTgxXFxcXHUwRTgyXFxcXHUwRTg0XFxcXHUwRTg3XFxcXHUwRTg4XFxcXHUwRThBXFxcXHUwRThEXFxcXHUwRTk0LVxcXFx1MEU5N1xcXFx1MEU5OS1cXFxcdTBFOUZcXFxcdTBFQTEtXFxcXHUwRUEzXFxcXHUwRUE1XFxcXHUwRUE3XFxcXHUwRUFBXFxcXHUwRUFCXFxcXHUwRUFELVxcXFx1MEVCMFxcXFx1MEVCMlxcXFx1MEVCM1xcXFx1MEVCRFxcXFx1MEVDMC1cXFxcdTBFQzRcXFxcdTBFQzZcXFxcdTBFREMtXFxcXHUwRURGXFxcXHUwRjAwXFxcXHUwRjQwLVxcXFx1MEY0N1xcXFx1MEY0OS1cXFxcdTBGNkNcXFxcdTBGODgtXFxcXHUwRjhDXFxcXHUxMDAwLVxcXFx1MTAyQVxcXFx1MTAzRlxcXFx1MTA1MC1cXFxcdTEwNTVcXFxcdTEwNUEtXFxcXHUxMDVEXFxcXHUxMDYxXFxcXHUxMDY1XFxcXHUxMDY2XFxcXHUxMDZFLVxcXFx1MTA3MFxcXFx1MTA3NS1cXFxcdTEwODFcXFxcdTEwOEVcXFxcdTEwQTAtXFxcXHUxMEM1XFxcXHUxMEM3XFxcXHUxMENEXFxcXHUxMEQwLVxcXFx1MTBGQVxcXFx1MTBGQy1cXFxcdTEyNDhcXFxcdTEyNEEtXFxcXHUxMjREXFxcXHUxMjUwLVxcXFx1MTI1NlxcXFx1MTI1OFxcXFx1MTI1QS1cXFxcdTEyNURcXFxcdTEyNjAtXFxcXHUxMjg4XFxcXHUxMjhBLVxcXFx1MTI4RFxcXFx1MTI5MC1cXFxcdTEyQjBcXFxcdTEyQjItXFxcXHUxMkI1XFxcXHUxMkI4LVxcXFx1MTJCRVxcXFx1MTJDMFxcXFx1MTJDMi1cXFxcdTEyQzVcXFxcdTEyQzgtXFxcXHUxMkQ2XFxcXHUxMkQ4LVxcXFx1MTMxMFxcXFx1MTMxMi1cXFxcdTEzMTVcXFxcdTEzMTgtXFxcXHUxMzVBXFxcXHUxMzgwLVxcXFx1MTM4RlxcXFx1MTNBMC1cXFxcdTEzRjRcXFxcdTE0MDEtXFxcXHUxNjZDXFxcXHUxNjZGLVxcXFx1MTY3RlxcXFx1MTY4MS1cXFxcdTE2OUFcXFxcdTE2QTAtXFxcXHUxNkVBXFxcXHUxNzAwLVxcXFx1MTcwQ1xcXFx1MTcwRS1cXFxcdTE3MTFcXFxcdTE3MjAtXFxcXHUxNzMxXFxcXHUxNzQwLVxcXFx1MTc1MVxcXFx1MTc2MC1cXFxcdTE3NkNcXFxcdTE3NkUtXFxcXHUxNzcwXFxcXHUxNzgwLVxcXFx1MTdCM1xcXFx1MTdEN1xcXFx1MTdEQ1xcXFx1MTgyMC1cXFxcdTE4NzdcXFxcdTE4ODAtXFxcXHUxOEE4XFxcXHUxOEFBXFxcXHUxOEIwLVxcXFx1MThGNVxcXFx1MTkwMC1cXFxcdTE5MUNcXFxcdTE5NTAtXFxcXHUxOTZEXFxcXHUxOTcwLVxcXFx1MTk3NFxcXFx1MTk4MC1cXFxcdTE5QUJcXFxcdTE5QzEtXFxcXHUxOUM3XFxcXHUxQTAwLVxcXFx1MUExNlxcXFx1MUEyMC1cXFxcdTFBNTRcXFxcdTFBQTdcXFxcdTFCMDUtXFxcXHUxQjMzXFxcXHUxQjQ1LVxcXFx1MUI0QlxcXFx1MUI4My1cXFxcdTFCQTBcXFxcdTFCQUVcXFxcdTFCQUZcXFxcdTFCQkEtXFxcXHUxQkU1XFxcXHUxQzAwLVxcXFx1MUMyM1xcXFx1MUM0RC1cXFxcdTFDNEZcXFxcdTFDNUEtXFxcXHUxQzdEXFxcXHUxQ0U5LVxcXFx1MUNFQ1xcXFx1MUNFRS1cXFxcdTFDRjFcXFxcdTFDRjVcXFxcdTFDRjZcXFxcdTFEMDAtXFxcXHUxREJGXFxcXHUxRTAwLVxcXFx1MUYxNVxcXFx1MUYxOC1cXFxcdTFGMURcXFxcdTFGMjAtXFxcXHUxRjQ1XFxcXHUxRjQ4LVxcXFx1MUY0RFxcXFx1MUY1MC1cXFxcdTFGNTdcXFxcdTFGNTlcXFxcdTFGNUJcXFxcdTFGNURcXFxcdTFGNUYtXFxcXHUxRjdEXFxcXHUxRjgwLVxcXFx1MUZCNFxcXFx1MUZCNi1cXFxcdTFGQkNcXFxcdTFGQkVcXFxcdTFGQzItXFxcXHUxRkM0XFxcXHUxRkM2LVxcXFx1MUZDQ1xcXFx1MUZEMC1cXFxcdTFGRDNcXFxcdTFGRDYtXFxcXHUxRkRCXFxcXHUxRkUwLVxcXFx1MUZFQ1xcXFx1MUZGMi1cXFxcdTFGRjRcXFxcdTFGRjYtXFxcXHUxRkZDXFxcXHUyMDcxXFxcXHUyMDdGXFxcXHUyMDkwLVxcXFx1MjA5Q1xcXFx1MjEwMlxcXFx1MjEwN1xcXFx1MjEwQS1cXFxcdTIxMTNcXFxcdTIxMTVcXFxcdTIxMTktXFxcXHUyMTFEXFxcXHUyMTI0XFxcXHUyMTI2XFxcXHUyMTI4XFxcXHUyMTJBLVxcXFx1MjEyRFxcXFx1MjEyRi1cXFxcdTIxMzlcXFxcdTIxM0MtXFxcXHUyMTNGXFxcXHUyMTQ1LVxcXFx1MjE0OVxcXFx1MjE0RVxcXFx1MjE4M1xcXFx1MjE4NFxcXFx1MkMwMC1cXFxcdTJDMkVcXFxcdTJDMzAtXFxcXHUyQzVFXFxcXHUyQzYwLVxcXFx1MkNFNFxcXFx1MkNFQi1cXFxcdTJDRUVcXFxcdTJDRjJcXFxcdTJDRjNcXFxcdTJEMDAtXFxcXHUyRDI1XFxcXHUyRDI3XFxcXHUyRDJEXFxcXHUyRDMwLVxcXFx1MkQ2N1xcXFx1MkQ2RlxcXFx1MkQ4MC1cXFxcdTJEOTZcXFxcdTJEQTAtXFxcXHUyREE2XFxcXHUyREE4LVxcXFx1MkRBRVxcXFx1MkRCMC1cXFxcdTJEQjZcXFxcdTJEQjgtXFxcXHUyREJFXFxcXHUyREMwLVxcXFx1MkRDNlxcXFx1MkRDOC1cXFxcdTJEQ0VcXFxcdTJERDAtXFxcXHUyREQ2XFxcXHUyREQ4LVxcXFx1MkRERVxcXFx1MkUyRlxcXFx1MzAwNVxcXFx1MzAwNlxcXFx1MzAzMS1cXFxcdTMwMzVcXFxcdTMwM0JcXFxcdTMwM0NcXFxcdTMwNDEtXFxcXHUzMDk2XFxcXHUzMDlELVxcXFx1MzA5RlxcXFx1MzBBMS1cXFxcdTMwRkFcXFxcdTMwRkMtXFxcXHUzMEZGXFxcXHUzMTA1LVxcXFx1MzEyRFxcXFx1MzEzMS1cXFxcdTMxOEVcXFxcdTMxQTAtXFxcXHUzMUJBXFxcXHUzMUYwLVxcXFx1MzFGRlxcXFx1MzQwMC1cXFxcdTREQjVcXFxcdTRFMDAtXFxcXHU5RkNDXFxcXHVBMDAwLVxcXFx1QTQ4Q1xcXFx1QTREMC1cXFxcdUE0RkRcXFxcdUE1MDAtXFxcXHVBNjBDXFxcXHVBNjEwLVxcXFx1QTYxRlxcXFx1QTYyQVxcXFx1QTYyQlxcXFx1QTY0MC1cXFxcdUE2NkVcXFxcdUE2N0YtXFxcXHVBNjk3XFxcXHVBNkEwLVxcXFx1QTZFNVxcXFx1QTcxNy1cXFxcdUE3MUZcXFxcdUE3MjItXFxcXHVBNzg4XFxcXHVBNzhCLVxcXFx1QTc4RVxcXFx1QTc5MC1cXFxcdUE3OTNcXFxcdUE3QTAtXFxcXHVBN0FBXFxcXHVBN0Y4LVxcXFx1QTgwMVxcXFx1QTgwMy1cXFxcdUE4MDVcXFxcdUE4MDctXFxcXHVBODBBXFxcXHVBODBDLVxcXFx1QTgyMlxcXFx1QTg0MC1cXFxcdUE4NzNcXFxcdUE4ODItXFxcXHVBOEIzXFxcXHVBOEYyLVxcXFx1QThGN1xcXFx1QThGQlxcXFx1QTkwQS1cXFxcdUE5MjVcXFxcdUE5MzAtXFxcXHVBOTQ2XFxcXHVBOTYwLVxcXFx1QTk3Q1xcXFx1QTk4NC1cXFxcdUE5QjJcXFxcdUE5Q0ZcXFxcdUFBMDAtXFxcXHVBQTI4XFxcXHVBQTQwLVxcXFx1QUE0MlxcXFx1QUE0NC1cXFxcdUFBNEJcXFxcdUFBNjAtXFxcXHVBQTc2XFxcXHVBQTdBXFxcXHVBQTgwLVxcXFx1QUFBRlxcXFx1QUFCMVxcXFx1QUFCNVxcXFx1QUFCNlxcXFx1QUFCOS1cXFxcdUFBQkRcXFxcdUFBQzBcXFxcdUFBQzJcXFxcdUFBREItXFxcXHVBQUREXFxcXHVBQUUwLVxcXFx1QUFFQVxcXFx1QUFGMi1cXFxcdUFBRjRcXFxcdUFCMDEtXFxcXHVBQjA2XFxcXHVBQjA5LVxcXFx1QUIwRVxcXFx1QUIxMS1cXFxcdUFCMTZcXFxcdUFCMjAtXFxcXHVBQjI2XFxcXHVBQjI4LVxcXFx1QUIyRVxcXFx1QUJDMC1cXFxcdUFCRTJcXFxcdUFDMDAtXFxcXHVEN0EzXFxcXHVEN0IwLVxcXFx1RDdDNlxcXFx1RDdDQi1cXFxcdUQ3RkJcXFxcdUY5MDAtXFxcXHVGQTZEXFxcXHVGQTcwLVxcXFx1RkFEOVxcXFx1RkIwMC1cXFxcdUZCMDZcXFxcdUZCMTMtXFxcXHVGQjE3XFxcXHVGQjFEXFxcXHVGQjFGLVxcXFx1RkIyOFxcXFx1RkIyQS1cXFxcdUZCMzZcXFxcdUZCMzgtXFxcXHVGQjNDXFxcXHVGQjNFXFxcXHVGQjQwXFxcXHVGQjQxXFxcXHVGQjQzXFxcXHVGQjQ0XFxcXHVGQjQ2LVxcXFx1RkJCMVxcXFx1RkJEMy1cXFxcdUZEM0RcXFxcdUZENTAtXFxcXHVGRDhGXFxcXHVGRDkyLVxcXFx1RkRDN1xcXFx1RkRGMC1cXFxcdUZERkJcXFxcdUZFNzAtXFxcXHVGRTc0XFxcXHVGRTc2LVxcXFx1RkVGQ1xcXFx1RkYyMS1cXFxcdUZGM0FcXFxcdUZGNDEtXFxcXHVGRjVBXFxcXHVGRjY2LVxcXFx1RkZCRVxcXFx1RkZDMi1cXFxcdUZGQzdcXFxcdUZGQ0EtXFxcXHVGRkNGXFxcXHVGRkQyLVxcXFx1RkZEN1xcXFx1RkZEQS1cXFxcdUZGRENcIixcclxuXHRcdFwicHtOfVwiIDogXCJcXFxcdTAwMzAtXFxcXHUwMDM5XFxcXHUwMEIyXFxcXHUwMEIzXFxcXHUwMEI5XFxcXHUwMEJDLVxcXFx1MDBCRVxcXFx1MDY2MC1cXFxcdTA2NjlcXFxcdTA2RjAtXFxcXHUwNkY5XFxcXHUwN0MwLVxcXFx1MDdDOVxcXFx1MDk2Ni1cXFxcdTA5NkZcXFxcdTA5RTYtXFxcXHUwOUVGXFxcXHUwOUY0LVxcXFx1MDlGOVxcXFx1MEE2Ni1cXFxcdTBBNkZcXFxcdTBBRTYtXFxcXHUwQUVGXFxcXHUwQjY2LVxcXFx1MEI2RlxcXFx1MEI3Mi1cXFxcdTBCNzdcXFxcdTBCRTYtXFxcXHUwQkYyXFxcXHUwQzY2LVxcXFx1MEM2RlxcXFx1MEM3OC1cXFxcdTBDN0VcXFxcdTBDRTYtXFxcXHUwQ0VGXFxcXHUwRDY2LVxcXFx1MEQ3NVxcXFx1MEU1MC1cXFxcdTBFNTlcXFxcdTBFRDAtXFxcXHUwRUQ5XFxcXHUwRjIwLVxcXFx1MEYzM1xcXFx1MTA0MC1cXFxcdTEwNDlcXFxcdTEwOTAtXFxcXHUxMDk5XFxcXHUxMzY5LVxcXFx1MTM3Q1xcXFx1MTZFRS1cXFxcdTE2RjBcXFxcdTE3RTAtXFxcXHUxN0U5XFxcXHUxN0YwLVxcXFx1MTdGOVxcXFx1MTgxMC1cXFxcdTE4MTlcXFxcdTE5NDYtXFxcXHUxOTRGXFxcXHUxOUQwLVxcXFx1MTlEQVxcXFx1MUE4MC1cXFxcdTFBODlcXFxcdTFBOTAtXFxcXHUxQTk5XFxcXHUxQjUwLVxcXFx1MUI1OVxcXFx1MUJCMC1cXFxcdTFCQjlcXFxcdTFDNDAtXFxcXHUxQzQ5XFxcXHUxQzUwLVxcXFx1MUM1OVxcXFx1MjA3MFxcXFx1MjA3NC1cXFxcdTIwNzlcXFxcdTIwODAtXFxcXHUyMDg5XFxcXHUyMTUwLVxcXFx1MjE4MlxcXFx1MjE4NS1cXFxcdTIxODlcXFxcdTI0NjAtXFxcXHUyNDlCXFxcXHUyNEVBLVxcXFx1MjRGRlxcXFx1Mjc3Ni1cXFxcdTI3OTNcXFxcdTJDRkRcXFxcdTMwMDdcXFxcdTMwMjEtXFxcXHUzMDI5XFxcXHUzMDM4LVxcXFx1MzAzQVxcXFx1MzE5Mi1cXFxcdTMxOTVcXFxcdTMyMjAtXFxcXHUzMjI5XFxcXHUzMjQ4LVxcXFx1MzI0RlxcXFx1MzI1MS1cXFxcdTMyNUZcXFxcdTMyODAtXFxcXHUzMjg5XFxcXHUzMkIxLVxcXFx1MzJCRlxcXFx1QTYyMC1cXFxcdUE2MjlcXFxcdUE2RTYtXFxcXHVBNkVGXFxcXHVBODMwLVxcXFx1QTgzNVxcXFx1QThEMC1cXFxcdUE4RDlcXFxcdUE5MDAtXFxcXHVBOTA5XFxcXHVBOUQwLVxcXFx1QTlEOVxcXFx1QUE1MC1cXFxcdUFBNTlcXFxcdUFCRjAtXFxcXHVBQkY5XFxcXHVGRjEwLVxcXFx1RkYxOVwiLFxyXG5cdFx0XCJwe1NjfVwiOiBcIlxcXFx1MDAyNFxcXFx1MDBBMi1cXFxcdTAwQTVcXFxcdTA1OEZcXFxcdTA2MEJcXFxcdTA5RjJcXFxcdTA5RjNcXFxcdTA5RkJcXFxcdTBBRjFcXFxcdTBCRjlcXFxcdTBFM0ZcXFxcdTE3REJcXFxcdTIwQTAtXFxcXHUyMEI5XFxcXHVBODM4XFxcXHVGREZDXFxcXHVGRTY5XFxcXHVGRjA0XFxcXHVGRkUwXFxcXHVGRkUxXFxcXHVGRkU1XFxcXHVGRkU2XCIsXHJcblx0XHRcInB7U2t9XCI6IFwiXFxcXHUwMDVFXFxcXHUwMDYwXFxcXHUwMEE4XFxcXHUwMEFGXFxcXHUwMEI0XFxcXHUwMEI4XFxcXHUwMkMyLVxcXFx1MDJDNVxcXFx1MDJEMi1cXFxcdTAyREZcXFxcdTAyRTUtXFxcXHUwMkVCXFxcXHUwMkVEXFxcXHUwMkVGLVxcXFx1MDJGRlxcXFx1MDM3NVxcXFx1MDM4NFxcXFx1MDM4NVxcXFx1MUZCRFxcXFx1MUZCRi1cXFxcdTFGQzFcXFxcdTFGQ0QtXFxcXHUxRkNGXFxcXHUxRkRELVxcXFx1MUZERlxcXFx1MUZFRC1cXFxcdTFGRUZcXFxcdTFGRkRcXFxcdTFGRkVcXFxcdTMwOUJcXFxcdTMwOUNcXFxcdUE3MDAtXFxcXHVBNzE2XFxcXHVBNzIwXFxcXHVBNzIxXFxcXHVBNzg5XFxcXHVBNzhBXFxcXHVGQkIyLVxcXFx1RkJDMVxcXFx1RkYzRVxcXFx1RkY0MFxcXFx1RkZFM1wiLFxyXG5cdFx0XCJwe1NvfVwiOiBcIlxcXFx1MDBBNlxcXFx1MDBBOVxcXFx1MDBBRVxcXFx1MDBCMFxcXFx1MDQ4MlxcXFx1MDYwRVxcXFx1MDYwRlxcXFx1MDZERVxcXFx1MDZFOVxcXFx1MDZGRFxcXFx1MDZGRVxcXFx1MDdGNlxcXFx1MDlGQVxcXFx1MEI3MFxcXFx1MEJGMy1cXFxcdTBCRjhcXFxcdTBCRkFcXFxcdTBDN0ZcXFxcdTBENzlcXFxcdTBGMDEtXFxcXHUwRjAzXFxcXHUwRjEzXFxcXHUwRjE1LVxcXFx1MEYxN1xcXFx1MEYxQS1cXFxcdTBGMUZcXFxcdTBGMzRcXFxcdTBGMzZcXFxcdTBGMzhcXFxcdTBGQkUtXFxcXHUwRkM1XFxcXHUwRkM3LVxcXFx1MEZDQ1xcXFx1MEZDRVxcXFx1MEZDRlxcXFx1MEZENS1cXFxcdTBGRDhcXFxcdTEwOUVcXFxcdTEwOUZcXFxcdTEzOTAtXFxcXHUxMzk5XFxcXHUxOTQwXFxcXHUxOURFLVxcXFx1MTlGRlxcXFx1MUI2MS1cXFxcdTFCNkFcXFxcdTFCNzQtXFxcXHUxQjdDXFxcXHUyMTAwXFxcXHUyMTAxXFxcXHUyMTAzLVxcXFx1MjEwNlxcXFx1MjEwOFxcXFx1MjEwOVxcXFx1MjExNFxcXFx1MjExNlxcXFx1MjExN1xcXFx1MjExRS1cXFxcdTIxMjNcXFxcdTIxMjVcXFxcdTIxMjdcXFxcdTIxMjlcXFxcdTIxMkVcXFxcdTIxM0FcXFxcdTIxM0JcXFxcdTIxNEFcXFxcdTIxNENcXFxcdTIxNERcXFxcdTIxNEZcXFxcdTIxOTUtXFxcXHUyMTk5XFxcXHUyMTlDLVxcXFx1MjE5RlxcXFx1MjFBMVxcXFx1MjFBMlxcXFx1MjFBNFxcXFx1MjFBNVxcXFx1MjFBNy1cXFxcdTIxQURcXFxcdTIxQUYtXFxcXHUyMUNEXFxcXHUyMUQwXFxcXHUyMUQxXFxcXHUyMUQzXFxcXHUyMUQ1LVxcXFx1MjFGM1xcXFx1MjMwMC1cXFxcdTIzMDdcXFxcdTIzMEMtXFxcXHUyMzFGXFxcXHUyMzIyLVxcXFx1MjMyOFxcXFx1MjMyQi1cXFxcdTIzN0JcXFxcdTIzN0QtXFxcXHUyMzlBXFxcXHUyM0I0LVxcXFx1MjNEQlxcXFx1MjNFMi1cXFxcdTIzRjNcXFxcdTI0MDAtXFxcXHUyNDI2XFxcXHUyNDQwLVxcXFx1MjQ0QVxcXFx1MjQ5Qy1cXFxcdTI0RTlcXFxcdTI1MDAtXFxcXHUyNUI2XFxcXHUyNUI4LVxcXFx1MjVDMFxcXFx1MjVDMi1cXFxcdTI1RjdcXFxcdTI2MDAtXFxcXHUyNjZFXFxcXHUyNjcwLVxcXFx1MjZGRlxcXFx1MjcwMS1cXFxcdTI3NjdcXFxcdTI3OTQtXFxcXHUyN0JGXFxcXHUyODAwLVxcXFx1MjhGRlxcXFx1MkIwMC1cXFxcdTJCMkZcXFxcdTJCNDVcXFxcdTJCNDZcXFxcdTJCNTAtXFxcXHUyQjU5XFxcXHUyQ0U1LVxcXFx1MkNFQVxcXFx1MkU4MC1cXFxcdTJFOTlcXFxcdTJFOUItXFxcXHUyRUYzXFxcXHUyRjAwLVxcXFx1MkZENVxcXFx1MkZGMC1cXFxcdTJGRkJcXFxcdTMwMDRcXFxcdTMwMTJcXFxcdTMwMTNcXFxcdTMwMjBcXFxcdTMwMzZcXFxcdTMwMzdcXFxcdTMwM0VcXFxcdTMwM0ZcXFxcdTMxOTBcXFxcdTMxOTFcXFxcdTMxOTYtXFxcXHUzMTlGXFxcXHUzMUMwLVxcXFx1MzFFM1xcXFx1MzIwMC1cXFxcdTMyMUVcXFxcdTMyMkEtXFxcXHUzMjQ3XFxcXHUzMjUwXFxcXHUzMjYwLVxcXFx1MzI3RlxcXFx1MzI4QS1cXFxcdTMyQjBcXFxcdTMyQzAtXFxcXHUzMkZFXFxcXHUzMzAwLVxcXFx1MzNGRlxcXFx1NERDMC1cXFxcdTRERkZcXFxcdUE0OTAtXFxcXHVBNEM2XFxcXHVBODI4LVxcXFx1QTgyQlxcXFx1QTgzNlxcXFx1QTgzN1xcXFx1QTgzOVxcXFx1QUE3Ny1cXFxcdUFBNzlcXFxcdUZERkRcXFxcdUZGRTRcXFxcdUZGRThcXFxcdUZGRURcXFxcdUZGRUVcXFxcdUZGRkNcXFxcdUZGRkRcIlxyXG5cdH07XHJcblxyXG5cdHZhciBsZXR0ZXIgICAgICA9IHVuaWNvZGVTaG9ydGN1dHNbXCJwe0x9XCJdLFxyXG5cdCAgICBudW1iZXIgICAgICA9IHVuaWNvZGVTaG9ydGN1dHNbXCJwe059XCJdLFxyXG5cdCAgICBpcmlDaGFyICAgICA9IGxldHRlciArIG51bWJlcixcclxuXHQgICAgcGF0aENoYXIgICAgPSBpcmlDaGFyICsgXCIvXFxcXC0rPV8mfiolQHwjLiw6Oyc/IVwiICsgdW5pY29kZVNob3J0Y3V0c1tcInB7U2N9XCJdICsgdW5pY29kZVNob3J0Y3V0c1tcInB7U2t9XCJdICsgdW5pY29kZVNob3J0Y3V0c1tcInB7U299XCJdLFxyXG5cdCAgICBlbmRDaGFyICAgICA9IGlyaUNoYXIgKyBcIi9cXFxcLSs9XyZ+KiU7XCIgKyB1bmljb2RlU2hvcnRjdXRzW1wicHtTY31cIl0sXHJcblx0ICAgIG9jdGV0ICAgICAgID0gXCIoPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XXsyfXxbMS05XVswLTldfFswLTldKVwiLFxyXG5cdCAgICBpcEFkZHIgICAgICA9IFwiKD86XFxcXGJcIiArIG9jdGV0ICsgXCJcXFxcLlwiICsgb2N0ZXQgKyBcIlxcXFwuXCIgKyBvY3RldCArIFwiXFxcXC5cIiArIG9jdGV0ICsgXCJcXFxcYilcIixcclxuXHQgICAgaXJpICAgICAgICAgPSBcIltcIiArIGlyaUNoYXIgKyBcIl0oPzpbXCIgKyBpcmlDaGFyICsgXCJcXFxcLV0qW1wiICsgaXJpQ2hhciArIFwiXSk/XCIsXHJcblx0ICAgIGRvbWFpbiAgICAgID0gXCIoPzpcIiArIGlyaSArIFwiXFxcXC4pK1wiLFxyXG5cdCAgICBndGxkICAgICAgICA9IFwiKD86Tk9SVEhXRVNURVJOTVVUVUFMfFRSQVZFTEVSU0lOU1VSQU5DRXxBTUVSSUNBTkVYUFJFU1N8S0VSUllQUk9QRVJUSUVTfFNBTkRWSUtDT1JPTUFOVHxBRkFNSUxZQ09NUEFOWXxBTUVSSUNBTkZBTUlMWXxCQU5BTkFSRVBVQkxJQ3xDQU5DRVJSRVNFQVJDSHxDT09LSU5HQ0hBTk5FTHxLRVJSWUxPR0lTVElDU3xXRUFUSEVSQ0hBTk5FTHxJTlRFUk5BVElPTkFMfExJRkVJTlNVUkFOQ0V8T1JJRU5URVhQUkVTU3xTUFJFQURCRVRUSU5HfFRSQVZFTENIQU5ORUx8V09MVEVSU0tMVVdFUnxDT05TVFJVQ1RJT058TFBMRklOQU5DSUFMfFBBTVBFUkVEQ0hFRnxTQ0hPTEFSU0hJUFN8VkVSU0lDSEVSVU5HfEFDQ09VTlRBTlRTfEJBUkNMQVlDQVJEfEJMQUNLRlJJREFZfEJMT0NLQlVTVEVSfEJSSURHRVNUT05FfENBTFZJTktMRUlOfENPTlRSQUNUT1JTfENSRURJVFVOSU9OfEVOR0lORUVSSU5HfEVOVEVSUFJJU0VTfEZPT0RORVRXT1JLfElOVkVTVE1FTlRTfEtFUlJZSE9URUxTfExBTUJPUkdISU5JfE1PVE9SQ1lDTEVTfE9MQVlBTkdST1VQfFBIT1RPR1JBUEhZfFBMQVlTVEFUSU9OfFBST0RVQ1RJT05TfFBST0dSRVNTSVZFfFJFRFVNQlJFTExBfFJJR0hUQVRIT01FfFdJTExJQU1ISUxMfEFDQ09VTlRBTlR8QVBBUlRNRU5UU3xBU1NPQ0lBVEVTfEJOUFBBUklCQVN8Qk9FSFJJTkdFUnxDQVBJVEFMT05FfENPTlNVTFRJTkd8Q1JFRElUQ0FSRHxDVUlTSU5FTExBfEVVUk9WSVNJT058RVhUUkFTUEFDRXxGT1VOREFUSU9OfEhFQUxUSENBUkV8SU1NT0JJTElFTnxJTkRVU1RSSUVTfE1BTkFHRU1FTlR8TUlUU1VCSVNISXxOQVRJT05XSURFfE5FWFRESVJFQ1R8T05ZT1VSU0lERXxQUk9QRVJUSUVTfFBST1RFQ1RJT058UFJVREVOVElBTHxSRUFMRVNUQVRFfFJFUFVCTElDQU58UkVTVEFVUkFOVHxTQ0hBRUZGTEVSfFNXSUZUQ09WRVJ8VEFUQU1PVE9SU3xURUNITk9MT0dZfFRFTEVGT05JQ0F8VU5JVkVSU0lUWXxWSVNUQVBSSU5UfFZMQUFOREVSRU58Vk9MS1NXQUdFTnxBQ0NFTlRVUkV8QUxGQVJPTUVPfEFMTEZJTkFOWnxBTVNURVJEQU18QU5BTFlUSUNTfEFRVUFSRUxMRXxCQVJDRUxPTkF8QkxPT01CRVJHfENIUklTVE1BU3xDT01NVU5JVFl8RElSRUNUT1JZfEVEVUNBVElPTnxFUVVJUE1FTlR8RkFJUldJTkRTfEZJTkFOQ0lBTHxGSVJFU1RPTkV8RlJFU0VOSVVTfEZST05URE9PUnxGVUpJWEVST1h8RlVSTklUVVJFfEdPTERQT0lOVHxHT09ESEFORFN8SElTQU1JVFNVfEhPTUVERVBPVHxIT01FR09PRFN8SE9NRVNFTlNFfEhPTkVZV0VMTHxJTlNUSVRVVEV8SU5TVVJBTkNFfEtVT0tHUk9VUHxMQURCUk9LRVN8TEFOQ0FTVEVSfExBTkRST1ZFUnxMSUZFU1RZTEV8TUFSS0VUSU5HfE1BUlNIQUxMU3xNQ0RPTkFMRFN8TUVMQk9VUk5FfE1JQ1JPU09GVHxNT05UQkxBTkN8UEFOQVNPTklDfFBBU1NBR0VOU3xQUkFNRVJJQ0F8UklDSEFSRExJfFNDSk9ITlNPTnxTSEFOR1JJTEF8U09MVVRJT05TfFNUQVRFQkFOS3xTVEFURUZBUk18U1RPQ0tIT0xNfFRSQVZFTEVSU3xWQUNBVElPTlN8WU9ET0JBU0hJfEFCVURIQUJJfEFJUkZPUkNFfEFMTFNUQVRFfEFUVE9STkVZfEJBUkNMQVlTfEJBUkVGT09UfEJBUkdBSU5TfEJPVVRJUVVFfEJSQURFU0NPfEJST0FEV0FZfEJSVVNTRUxTfEJVREFQRVNUfEJVSUxERVJTfEJVU0lORVNTfENBUEVUT1dOfENBVEVSSU5HfENIUllTTEVSfENJUFJJQU5JfENJVFlFQVRTfENMRUFOSU5HfENMSU5JUVVFfENMT1RISU5HfENPTU1CQU5LfENPTVBVVEVSfERFTElWRVJZfERFTE9JVFRFfERFTU9DUkFUfERJQU1PTkRTfERJU0NPVU5UfERJU0NPVkVSfERPV05MT0FEfEVOR0lORUVSfEVSSUNTU09OfEVTVVJBTkNFfEVWRVJCQU5LfEVYQ0hBTkdFfEZFRURCQUNLfEZJREVMSVRZfEZJUk1EQUxFfEZPT1RCQUxMfEZST05USUVSfEdPT0RZRUFSfEdSQUlOR0VSfEdSQVBISUNTfEdVQVJESUFOfEhERkNCQU5LfEhFTFNJTktJfEhPTERJTkdTfElORklOSVRJfElQSVJBTkdBfElTVEFOQlVMfEpQTU9SR0FOfExJR0hUSU5HfExVTkRCRUNLfE1BUlJJT1RUfE1BU0VSQVRJfE1DS0lOU0VZfE1FTU9SSUFMfE1PUlRHQUdFfE1PVklTVEFSfE1VVFVFTExFfE9CU0VSVkVSfFBBUlRORVJTfFBIQVJNQUNZfFBJQ1RVUkVTfFBMVU1CSU5HfFBST1BFUlRZfFJFRFNUT05FfFNBQVJMQU5EfFNBTVNDTFVCfFNFQ1VSSVRZfFNFUlZJQ0VTfFNIT1BQSU5HfFNIT1dUSU1FfFNPRlRCQU5LfFNPRlRXQVJFfFNUQ0dST1VQfFNVUFBMSUVTfFNZTUFOVEVDfFRFTEVDSVRZfFRSQUlOSU5HfFVDT05ORUNUfFZBTkdVQVJEfFZFTlRVUkVTfFZFUklTSUdOfFdPT0RTSURFfFlPS09IQU1BfEFCT0dBRE98QUNBREVNWXxBR0FLSEFOfEFMSUJBQkF8QU5EUk9JRHxBVEhMRVRBfEFVQ1RJT058QVVESUJMRXxBVVNQT1NUfEFWSUFOQ0F8QkFOQU1FWHxCQVVIQVVTfEJFTlRMRVl8QkVTVEJVWXxCT09LSU5HfEJST1RIRVJ8QlVHQVRUSXxDQVBJVEFMfENBUkFWQU58Q0FSRUVSU3xDQVJUSUVSfENIQU5ORUx8Q0hJTlRBSXxDSVRBREVMfENMVUJNRUR8Q09MTEVHRXxDT0xPR05FfENPTUNBU1R8Q09NUEFOWXxDT01QQVJFfENPTlRBQ1R8Q09PS0lOR3xDT1JTSUNBfENPVU5UUll8Q09VUE9OU3xDT1VSU0VTfENSSUNLRVR8Q1JVSVNFU3xERU5USVNUfERJR0lUQUx8RE9NQUlOU3xFWFBPU0VEfEVYUFJFU1N8RkFSTUVSU3xGQVNISU9OfEZFUlJBUkl8RkVSUkVST3xGSU5BTkNFfEZJU0hJTkd8RklUTkVTU3xGTElHSFRTfEZMT1JJU1R8RkxPV0VSU3xGT1JTQUxFfEZST0dBTlN8RlVKSVRTVXxHQUxMRVJZfEdFTlRJTkd8R09EQUREWXxHVUlUQVJTfEhBTUJVUkd8SEFOR09VVHxISVRBQ0hJfEhPTElEQVl8SE9TVElOR3xIT1RFTEVTfEhPVE1BSUx8SFlVTkRBSXxJU0VMRUNUfElTTUFJTEl8SkVXRUxSWXxKVU5JUEVSfEtJVENIRU58S09NQVRTVXxMQUNBSVhBfExBTkNPTUV8TEFOWEVTU3xMQVNBTExFfExBVFJPQkV8TEVDTEVSQ3xMSUFJU09OfExJTUlURUR8TElOQ09MTnxNQVJLRVRTfE1FVExJRkV8TU9OU1RFUnxORVRCQU5LfE5FVEZMSVh8TkVUV09SS3xORVVTVEFSfE9LSU5BV0F8T0xETkFWWXxPUkdBTklDfE9SSUdJTlN8UEFORVJBSXxQSElMSVBTfFBJT05FRVJ8UE9MSVRJRXxSRUFMVE9SfFJFQ0lQRVN8UkVOVEFMU3xSRVZJRVdTfFJFWFJPVEh8U0FNU1VOR3xTQU5EVklLfFNDSE1JRFR8U0NIV0FSWnxTQ0lFTkNFfFNISUtTSEF8U0hSSVJBTXxTSU5HTEVTfFNQSUVHRUx8U1RBUExFU3xTVEFSSFVCfFNUQVRPSUx8U1RPUkFHRXxTVVBQT1JUfFNVUkdFUll8U1lTVEVNU3xURU1BU0VLfFRIRUFURVJ8VEhFQVRSRXxUSUNLRVRTfFRJRkZBTll8VE9TSElCQXxUUkFESU5HfFdBTE1BUlR8V0FOR0dPVXxXQVRDSEVTfFdFQVRIRVJ8V0VCU0lURXxXRURESU5HfFdIT1NXSE98V0lORE9XU3xXSU5ORVJTfFhGSU5JVFl8WUFNQVhVTnxZT1VUVUJFfFpVRVJJQ0h8QUJBUlRIfEFCQk9UVHxBQkJWSUV8QUNUSVZFfEFHRU5DWXxBSVJCVVN8QUlSVEVMfEFMSVBBWXxBTFNBQ0V8QUxTVE9NfEFOUVVBTnxBUkFNQ098QVVUSE9SfEJBWUVSTnxCRUFVVFl8QkVSTElOfEJIQVJUSXxCTEFOQ098Qk9TVElLfEJST0tFUnxDQU1FUkF8Q0FSRUVSfENBU0lOT3xDRU5URVJ8Q0hBTkVMfENIUk9NRXxDSFVSQ0h8Q0lSQ0xFfENMQUlNU3xDTElOSUN8Q09GRkVFfENPTVNFQ3xDT05ET1N8Q09VUE9OfENSRURJVHxEQVRJTkd8REFUU1VOfERFQUxFUnxERUdSRUV8REVOVEFMfERFU0lHTnxESVJFQ1R8RE9DVE9SfERVTkxPUHxEVVBPTlR8RFVSQkFOfEVNRVJDS3xFTkVSR1l8RVNUQVRFfEVWRU5UU3xFWFBFUlR8RkFNSUxZfEZMSUNLUnxGVVRCT0x8R0FMTFVQfEdBUkRFTnxHRU9SR0V8R0lWSU5HfEdMT0JBTHxHT09HTEV8R1JBVElTfEhFQUxUSHxIRVJNRVN8SElQSE9QfEhPQ0tFWXxIVUdIRVN8SU1BTUFUfElOU1VSRXxJTlRVSVR8SkFHVUFSfEpPQlVSR3xKVUVHT1N8S0FVRkVOfEtJTkRFUnxLSU5ETEV8S09TSEVSfExBTkNJQXxMQVRJTk98TEFXWUVSfExFRlJBS3xMSVZJTkd8TE9DS0VSfExPTkRPTnxMVVhVUll8TUFEUklEfE1BSVNPTnxNQUtFVVB8TUFSS0VUfE1BVFRFTHxNT0JJTFl8TU9OQVNIfE1PUk1PTnxNT1NDT1d8TVVTRVVNfE1VVFVBTHxOQUdPWUF8TkFUVVJBfE5JU1NBTnxOSVNTQVl8Tk9SVE9OfE5PV1JVWnxPRkZJQ0V8T0xBWUFOfE9OTElORXxPUkFDTEV8T1JBTkdFfE9UU1VLQXxQRklaRVJ8UEhPVE9TfFBIWVNJT3xQSUFHRVR8UElDVEVUfFFVRUJFQ3xSQUNJTkd8UkVBTFRZfFJFSVNFTnxSRVBBSVJ8UkVQT1JUfFJFVklFV3xST0NIRVJ8Uk9HRVJTfFJZVUtZVXxTQUZFVFl8U0FLVVJBfFNBTk9GSXxTQ0hPT0x8U0NIVUxFfFNFQ1VSRXxTRUxFQ1R8U0hPVUpJfFNPQ0NFUnxTT0NJQUx8U1RSRUFNfFNUVURJT3xTVVBQTFl8U1VaVUtJfFNXQVRDSHxTWURORVl8VEFJUEVJfFRBT0JBT3xUQVJHRVR8VEFUVE9PfFRFTk5JU3xUSUVOREF8VEpNQVhYfFRLTUFYWHxUT1lPVEF8VFJBVkVMfFVOSUNPTXxWSUFKRVN8VklLSU5HfFZJTExBU3xWSVJHSU58VklTSU9OfFZPVElOR3xWT1lBR0V8VlVFTE9TfFdBTFRFUnxXQVJNQU58V0VCQ0FNfFhJSFVBTnxYUEVSSUF8WUFDSFRTfFlBTkRFWHxaQVBQT1N8QUNUT1J8QURVTFR8QUVUTkF8QU1GQU18QU1JQ0F8QVBQTEV8QVJDSEl8QVVESU98QVVUT1N8QVpVUkV8QkFJRFV8QkVBVFN8QklCTEV8QklOR098QkxBQ0t8Qk9BVFN8Qk9PVFN8Qk9TQ0h8QlVJTER8Q0FOT058Q0FSRFN8Q0hBU0V8Q0hFQVB8Q0hMT0V8Q0lTQ098Q0lUSUN8Q0xJQ0t8Q0xPVUR8Q09BQ0h8Q09ERVN8Q1JPV058Q1lNUlV8REFCVVJ8REFOQ0V8REVBTFN8REVMVEF8RE9ER0V8RFJJVkV8RFVCQUl8RUFSVEh8RURFS0F8RU1BSUx8RVBPU1R8RVBTT058RkFJVEh8RkVERVh8RklOQUx8Rk9SRVh8Rk9SVU18R0FMTE98R0FNRVN8R0lGVFN8R0lWRVN8R0xBREV8R0xBU1N8R0xPQk98R01BSUx8R1JFRU58R1JJUEV8R1JPVVB8R1VDQ0l8R1VJREV8SE9NRVN8SE9OREF8SE9SU0V8SE9VU0V8SFlBVFR8SUlORVR8SUtBTk98SU5URUx8SVJJU0h8SkVUWlR8S09FTE58S1lPVE98TEFNRVJ8TEVBU0V8TEVHQUx8TEVYVVN8TElMTFl8TElOREV8TElQU1l8TElYSUx8TE9BTlN8TE9DVVN8TE9UVEV8TE9UVE98TFVQSU58TUFDWVN8TUFOR098TUVESUF8TUlBTUl8TU9ORVl8TU9QQVJ8TU9WSUV8TkFERVh8TkVYVVN8TklLT058TklOSkF8Tk9LSUF8Tk9XVFZ8T01FR0F8T1NBS0F8UEFSSVN8UEFSVFN8UEFSVFl8UEhPVE98UElaWkF8UExBQ0V8UE9LRVJ8UFJBWEl8UFJFU1N8UFJJTUV8UFJPTU98UVVFU1R8UkFESU98UkVIQUJ8UkVJU0V8UklDT0h8Uk9DS1N8Uk9ERU98U0FMT058U0VORVJ8U0VWRU58U0hBUlB8U0hFTEx8U0hPRVN8U0tZUEV8U0xJTkd8U01BUlR8U01JTEV8U09MQVJ8U1BBQ0V8U1RBREF8U1RPUkV8U1RVRFl8U1RZTEV8U1VDS1N8U1dJU1N8VEFUQVJ8VElSRVN8VElST0x8VE1BTEx8VE9EQVl8VE9LWU98VE9PTFN8VE9SQVl8VE9UQUx8VE9VUlN8VFJBREV8VFJVU1R8VFVORVN8VFVTSFV8VUJBTkt8VkVHQVN8VklERU98VklTVEF8Vk9ES0F8V0FMRVN8V0FUQ0h8V0VCRVJ8V0VJQk98V09SS1N8V09STER8WEVST1h8WUFIT098WklQUE98bG9jYWx8b25pb258QUFSUHxBQkxFfEFEQUN8QUVST3xBSUdPfEFLRE58QUxMWXxBTUVYfEFSTVl8QVJQQXxBUlRFfEFTREF8QVNJQXxBVURJfEFVVE98QkFCWXxCQU5EfEJBTkt8QkJWQXxCRUVSfEJFU1R8QklLRXxCSU5HfEJMT0d8QkxVRXxCT0ZBfEJPTkR8Qk9PS3xCVVpafENBRkV8Q0FMTHxDQU1QfENBUkV8Q0FSU3xDQVNBfENBU0h8Q0JSRXxDRVJOfENIQVR8Q0lUSXxDSVRZfENMVUJ8Q09PTHxDT09QfENZT1V8REFURXxEQ0xLfERFQUx8REVMTHxERVNJfERJRVR8RElTSHxET0NTfERPSEF8RFVDS3xEVU5TfERWQUd8RVJOSXxGQUdFfEZBSUx8RkFOU3xGQVJNfEZBU1R8RklBVHxGSURPfEZJTE18RklSRXxGSVNIfEZMSVJ8Rk9SRHxGVU5EfEdBTUV8R0JJWnxHRU5UfEdHRUV8R0lGVHxHTUJIfEdPTER8R09MRnxHT09HfEdVR0V8R1VSVXxIQVVTfEhERkN8SEVMUHxIRVJFfEhHVFZ8SE9TVHxIU0JDfElDQkN8SUVFRXxJTURCfElNTU98SU5GT3xJVEFVfEpBVkF8SkVFUHxKT0JTfEpQUlN8S0RESXxLSVdJfEtQTUd8S1JFRHxMQU5EfExFR098TEdCVHxMSURMfExJRkV8TElLRXxMSU1PfExJTkt8TElWRXxMT0FOfExPRlR8TE9WRXxMVERBfExVWEV8TUFJRnxNRUVUfE1FTUV8TUVOVXxNSU5JfE1JTlR8TU9CSXxNT0RBfE1UUEN8TkFNRXxOQVZZfE5FV1N8TkVYVHxOSUNPfE5JS0V8T0xMT3xPUEVOfFBBR0V8UEFSU3xQQ0NXfFBJQ1N8UElOR3xQSU5LfFBMQVl8UExVU3xQT0hMfFBPUk58UE9TVHxQUk9EfFBST0Z8UVBPTnxSQUlEfFJFQUR8UkVJVHxSRU5UfFJFU1R8UklDSHxST09NfFJTVlB8UlVIUnxTQUZFfFNBTEV8U0FQT3xTQVJMfFNBVkV8U0FYT3xTQ09SfFNDT1R8U0VBVHxTRUVLfFNFWFl8U0hBV3xTSElBfFNIT1B8U0hPV3xTSUxLfFNJTkF8U0lURXxTS0lOfFNOQ0Z8U09IVXxTT05HfFNPTll8U1BPVHxTVEFSfFNVUkZ8VEFMS3xUQVhJfFRFQU18VEVDSHxURVZBfFRJQUF8VElQU3xUT1dOfFRPWVN8VFVCRXxWQU5BfFZJU0F8VklWQXxWSVZPfFZPVEV8Vk9UT3xXQU5HfFdFSVJ8V0lFTnxXSUtJfFdJTkV8V09SS3xYQk9YfFlPR0F8WkFSQXxaRVJPfFpPTkV8ZXhpdHx6a2V5fEFBQXxBQkJ8QUJDfEFDT3xBRFN8QUVHfEFGTHxBSUd8QU5afEFQUHxBUlR8QVdTfEFYQXxCQVJ8QkJDfEJCVHxCQ0d8QkNOfEJFVHxCSUR8QklPfEJJWnxCTVN8Qk1XfEJOTHxCT018Qk9PfEJPVHxCVVl8QlpIfENBQnxDQUx8Q0FNfENBUnxDQVR8Q0JBfENCTnxDQlN8Q0VCfENFT3xDRkF8Q0ZEfENPTXxDUlN8Q1NDfERBRHxEQVl8RERTfERFVnxESEx8RElZfEROUHxET0d8RE9UfERUVnxEVlJ8RUFUfEVDT3xFRFV8RVNRfEVVU3xGQU58RklUfEZMWXxGT098Rk9YfEZSTHxGVFJ8RllJfEdBTHxHQVB8R0ROfEdFQXxHTEV8R01PfEdNWHxHT098R09QfEdPVHxHT1Z8SEJPfEhJVnxIS1R8SE9UfEhPV3xIVEN8SUJNfElDRXxJQ1V8SUZNfElOR3xJTkt8SU5UfElTVHxJVFZ8SVdDfEpDQnxKQ1B8SkxDfEpMTHxKTVB8Sk5KfEpPVHxKT1l8S0ZIfEtJQXxLSU18S1BOfEtSRHxMQVR8TEFXfExEU3xMT0x8TFBMfExURHxNQU58TUJBfE1DRHxNRUR8TUVOfE1FT3xNSUx8TUlUfE1MQnxNTFN8TU1BfE1PRXxNT0l8TU9NfE1PVnxNU0R8TVROfE1UUnxOQUJ8TkJBfE5FQ3xORVR8TkVXfE5GTHxOR098TkhLfE5PV3xOUkF8TlJXfE5UVHxOWUN8T0JJfE9GRnxPTkV8T05HfE9OTHxPT098T1JHfE9UVHxPVkh8UEFZfFBFVHxQSUR8UElOfFBOQ3xQUk98UFJVfFBVQnxQV0N8UVZDfFJFRHxSRU58UklPfFJJUHxSVU58UldFfFNBUHxTQVN8U0JJfFNCU3xTQ0F8U0NCfFNFU3xTRVd8U0VYfFNGUnxTS0l8U0tZfFNPWXxTUkx8U1JUfFNUQ3xUQUJ8VEFYfFRDSXxUREt8VEVMfFRIRHxUSlh8VE9QfFRSVnxUVUl8VFZTfFVCU3xVTk98VU9MfFVQU3xWRVR8VklHfFZJTnxWSVB8V0VEfFdJTnxXTUV8V09XfFdUQ3xXVEZ8WElOfFhYWHxYWVp8WU9VfFlVTnxaSVB8Yml0fGdudXxpMnB8QUN8QUR8QUV8QUZ8QUd8QUl8QUx8QU18QU98QVF8QVJ8QVN8QVR8QVV8QVd8QVh8QVp8QkF8QkJ8QkR8QkV8QkZ8Qkd8Qkh8Qkl8Qkp8Qk18Qk58Qk98QlJ8QlN8QlR8QlZ8Qld8Qll8Qlp8Q0F8Q0N8Q0R8Q0Z8Q0d8Q0h8Q0l8Q0t8Q0x8Q018Q058Q098Q1J8Q1V8Q1Z8Q1d8Q1h8Q1l8Q1p8REV8REp8REt8RE18RE98RFp8RUN8RUV8RUd8RVJ8RVN8RVR8RVV8Rkl8Rkp8Rkt8Rk18Rk98RlJ8R0F8R0J8R0R8R0V8R0Z8R0d8R0h8R0l8R0x8R018R058R1B8R1F8R1J8R1N8R1R8R1V8R1d8R1l8SEt8SE18SE58SFJ8SFR8SFV8SUR8SUV8SUx8SU18SU58SU98SVF8SVJ8SVN8SVR8SkV8Sk18Sk98SlB8S0V8S0d8S0h8S0l8S018S058S1B8S1J8S1d8S1l8S1p8TEF8TEJ8TEN8TEl8TEt8TFJ8TFN8TFR8TFV8TFZ8TFl8TUF8TUN8TUR8TUV8TUd8TUh8TUt8TUx8TU18TU58TU98TVB8TVF8TVJ8TVN8TVR8TVV8TVZ8TVd8TVh8TVl8TVp8TkF8TkN8TkV8TkZ8Tkd8Tkl8Tkx8Tk98TlB8TlJ8TlV8Tlp8T018UEF8UEV8UEZ8UEd8UEh8UEt8UEx8UE18UE58UFJ8UFN8UFR8UFd8UFl8UUF8UkV8Uk98UlN8UlV8Uld8U0F8U0J8U0N8U0R8U0V8U0d8U0h8U0l8U0p8U0t8U0x8U018U058U098U1J8U1R8U1V8U1Z8U1h8U1l8U1p8VEN8VER8VEZ8VEd8VEh8VEp8VEt8VEx8VE18VE58VE98VFJ8VFR8VFZ8VFd8VFp8VUF8VUd8VUt8VVN8VVl8VVp8VkF8VkN8VkV8Vkd8Vkl8Vk58VlV8V0Z8V1N8WUV8WVR8WkF8Wk18WlcpXCIsXHJcblx0ICAgIGhvc3ROYW1lICAgID0gXCIoPzpcIiArIGRvbWFpbiArIGd0bGQgKyBcInxcIiArIGlwQWRkciArIFwiKVwiLFxyXG5cdCAgICB3ZWxsQnJhY2sgICA9IFwiXFxcXFtbXCIgKyBwYXRoQ2hhciArIFwiXSooPzpcXFxcW1tcIiArIHBhdGhDaGFyICsgXCJdKlxcXFxdW1wiICsgcGF0aENoYXIgKyBcIl0qKSpcXFxcXVwiLFxyXG5cdCAgICB3ZWxsUGFyZW4gICA9IFwiXFxcXChbXCIgKyBwYXRoQ2hhciArIFwiXSooPzpcXFxcKFtcIiArIHBhdGhDaGFyICsgXCJdKlxcXFwpW1wiICsgcGF0aENoYXIgKyBcIl0qKSpcXFxcKVwiLFxyXG5cdCAgICB3ZWxsQWxsICAgICA9IHdlbGxQYXJlbiArIFwifFwiICsgd2VsbEJyYWNrLFxyXG5cdCAgICBwYXRoQ29udCAgICA9IFwiKD86W1wiICsgcGF0aENoYXIgKyBcIl0qKD86XCIgKyB3ZWxsQWxsICsgXCJ8W1wiICsgZW5kQ2hhciArIFwiXSkrKStcIixcclxuXHQgICAgcGF0aCAgICAgICAgPSBcIig/OlwiICsgcGF0aENvbnQgKyBcInwvfFxcXFxifCQpXCIsXHJcblx0ICAgIHBvcnQgICAgICAgID0gXCIoPzo6WzAtOV0rKT9cIixcclxuXHQgICAgd2ViVVJMICAgICAgPSBcIig/OlwiICsgaG9zdE5hbWUgKyBwb3J0ICsgXCIvXCIgKyBwYXRoICsgXCIpfCg/OlwiICsgaG9zdE5hbWUgKyBwb3J0ICsgXCIoPzpcXFxcYnwkKSlcIixcclxuXHJcblx0ICAgIHNjaGVtZSAgICAgID0gXCIoaHR0cHM/fGZ0cCk6Ly9cIixcclxuXHQgICAgc3RyaWN0ICAgICAgPSBcIlxcXFxiXCIgKyBzY2hlbWUgKyBwYXRoQ29udCxcclxuXHQgICAgcmVsYXhlZCAgICAgPSBzdHJpY3QgKyBcInxcIiArIHdlYlVSTDtcclxuXHJcblx0dGhpcy5saW5rcmVnZXggICA9IG5ldyBSZWdFeHAocmVsYXhlZCwgXCJnaVwiKTtcclxuXHR0aGlzLl9lbGVtICAgICAgID0gJCgnPGRpdi8+Jyk7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vLyBzdG9sZW4gZnJvbSBhbmd1bGFyLmpzXHJcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvYmxvYi92MS4zLjE0L3NyYy9uZ1Nhbml0aXplL3Nhbml0aXplLmpzI0w0MzVcclxuZGVzdGlueS5mbi5VcmxGb3JtYXR0ZXIucHJvdG90eXBlLmVuY29kZVVybCA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcblx0cmV0dXJuIHZhbHVlLlxyXG5cdFx0cmVwbGFjZSgvJi9nLCAnJmFtcDsnKS5cclxuXHRcdHJlcGxhY2UoL1tcXHVEODAwLVxcdURCRkZdW1xcdURDMDAtXFx1REZGRl0vZywgZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0dmFyIGhpID0gdmFsdWUuY2hhckNvZGVBdCgwKTtcclxuXHRcdFx0dmFyIGxvdyA9IHZhbHVlLmNoYXJDb2RlQXQoMSk7XHJcblx0XHRcdHJldHVybiAnJiMnICsgKCgoaGkgLSAweEQ4MDApICogMHg0MDApICsgKGxvdyAtIDB4REMwMCkgKyAweDEwMDAwKSArICc7JztcclxuXHRcdH0pLlxyXG5cdFx0cmVwbGFjZSgvKFteXFwjLX58IHwhXSkvZywgZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0cmV0dXJuICcmIycgKyB2YWx1ZS5jaGFyQ29kZUF0KDApICsgJzsnO1xyXG5cdFx0fSkuXHJcblx0XHRyZXBsYWNlKC88L2csICcmbHQ7JykuXHJcblx0XHRyZXBsYWNlKC8+L2csICcmZ3Q7Jyk7XHJcbn07XHJcblxyXG5kZXN0aW55LmZuLlVybEZvcm1hdHRlci5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24oc3RyKSB7XHJcblx0aWYgKCFzdHIpIHJldHVybjtcclxuXHR2YXIgc2VsZiAgICAgICA9IHRoaXMsXHJcblx0ICAgIGV4dHJhY2xhc3MgPSAnJztcclxuXHJcblx0aWYoL1xcYig/Ok5TRkwpXFxiL2kudGVzdChzdHIpKVxyXG5cdFx0ZXh0cmFjbGFzcyA9ICcgbnNmbC1saW5rJztcclxuXHRlbHNlIGlmKC9cXGIoPzpOU0ZXfFNQT0lMRVIpXFxiL2kudGVzdChzdHIpKVxyXG5cdFx0ZXh0cmFjbGFzcyA9ICcgbnNmdy1saW5rJztcclxuXHJcblx0cmV0dXJuIHN0ci5yZXBsYWNlKHNlbGYubGlua3JlZ2V4LCBmdW5jdGlvbih1cmwsIHNjaGVtZSkge1xyXG5cdFx0c2NoZW1lID0gc2NoZW1lPyAnJzogJ2h0dHA6Ly8nO1xyXG5cdFx0dmFyIGRlY29kZWRVcmwgPSBzZWxmLl9lbGVtLmh0bWwodXJsKS50ZXh0KCksXHJcblx0XHQgICAgbSAgICAgICAgICA9IGRlY29kZWRVcmwubWF0Y2goc2VsZi5saW5rcmVnZXgpO1xyXG5cdFx0aWYgKCFtKVxyXG5cdFx0XHRyZXR1cm4gdXJsO1xyXG5cclxuXHRcdHVybCA9IHNlbGYuZW5jb2RlVXJsKG1bMF0pO1xyXG5cdFx0dmFyIGV4dHJhID0gc2VsZi5lbmNvZGVVcmwoZGVjb2RlZFVybC5zdWJzdHJpbmcobVswXS5sZW5ndGgpKTtcclxuXHRcdHJldHVybiAnPGEgdGFyZ2V0PVwiX2JsYW5rXCIgY2xhc3M9XCJleHRlcm5hbGxpbmsnICsgZXh0cmFjbGFzcyArICdcIiBocmVmPVwiJyArIHNjaGVtZSArIHVybCArICdcIiByZWw9XCJub2ZvbGxvd1wiPicgKyB1cmwgKyAnPC9hPicgKyBleHRyYTtcclxuXHR9KTtcclxufTtcclxuXHJcbn0pKGpRdWVyeSk7XHJcbiIsIkNoYXRNZW51ID0gKGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAdHlwZSB7QXJyYXk8Q2hhdE1lbnU+fVxyXG4gICAgICovXHJcbiAgICB2YXIgbWVudXMgPSBbXTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB1aVxyXG4gICAgICogQHBhcmFtIGNoYXRcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gY2xzKHVpLCBjaGF0KSB7XHJcblxyXG4gICAgICAgIHZhciBzY3JvbGxQbHVnaW4gPSBudWxsO1xyXG5cclxuICAgICAgICB0aGlzLnVpICAgICAgPSB1aTtcclxuICAgICAgICB0aGlzLmNoYXQgICAgPSBjaGF0O1xyXG4gICAgICAgIHRoaXMuYnRuICAgICA9IG51bGw7XHJcbiAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zaG93biAgID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMub24gPSBmdW5jdGlvbihuYW1lLCBmbil7XHJcbiAgICAgICAgICAgICQodGhpcykub24obmFtZSwgZm4pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc2hvdyA9IGZ1bmN0aW9uKGJ0bil7XHJcbiAgICAgICAgICAgIGlmKHRoaXMudmlzaWJsZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBpZighdGhpcy5zaG93bikgJCh0aGlzKS50cmlnZ2VySGFuZGxlcignaW5pdCcpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5zaG93biA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuYnRuID0gYnRuO1xyXG5cclxuICAgICAgICAgICAgJCh0aGlzLmJ0bikuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAkKHRoaXMudWkpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgJCh0aGlzKS50cmlnZ2VySGFuZGxlcignc2hvdycpO1xyXG5cclxuICAgICAgICAgICAgJCh0aGlzLnVpKS5maW5kKCcuc2Nyb2xsYWJsZScpLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGlmKCFzY3JvbGxQbHVnaW4pXHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsUGx1Z2luID0gJCh0aGlzKS5uYW5vU2Nyb2xsZXIoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlUmVzaXplOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2ZW50UGFnZVNjcm9sbGluZzogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pWzBdLm5hbm9zY3JvbGxlcjtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxQbHVnaW4ucmVzZXQoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5oaWRlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgaWYodGhpcy52aXNpYmxlKXtcclxuICAgICAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzLmJ0bikucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzLnVpKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnRyaWdnZXJIYW5kbGVyKCdoaWRlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnRvZ2dsZSA9IGZ1bmN0aW9uKGJ0bil7XHJcbiAgICAgICAgICAgIHZhciB3YXNWaXNpYmxlID0gdGhpcy52aXNpYmxlO1xyXG4gICAgICAgICAgICBDaGF0TWVudS5jbG9zZU1lbnVzKG51bGwpO1xyXG4gICAgICAgICAgICBpZighd2FzVmlzaWJsZSkgdGhpcy5zaG93KGJ0bik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWRyYXcgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBpZihzY3JvbGxQbHVnaW4pIHNjcm9sbFBsdWdpbi5yZXNldCgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMudWkub24oJ2NsaWNrJywgJy5jbG9zZScsIHRoaXMuaGlkZS5iaW5kKHRoaXMpKTtcclxuICAgICAgICBtZW51cy5wdXNoKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGNscy5jbG9zZU1lbnVzID0gZnVuY3Rpb24oKXtcclxuICAgICAgICBmb3IodmFyIGk9MDsgaTxtZW51cy5sZW5ndGg7ICsraSlcclxuICAgICAgICAgICAgbWVudXNbaV0uaGlkZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gY2xzO1xyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oJCl7XHJcblxyXG4gICAgQ2hhdEd1aSA9IGZ1bmN0aW9uKGVuZ2luZSwgb3B0aW9ucyl7XHJcbiAgICAgICAgdGhpcy51aSA9ICQoJyNkZXN0aW55Y2hhdCcpO1xyXG4gICAgICAgIHRoaXMuZW5naW5lID0gZW5naW5lO1xyXG4gICAgICAgICQuZXh0ZW5kKHRoaXMsIG9wdGlvbnMpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmluaXQoKTtcclxuICAgIH07XHJcblxyXG4gICAgJC5leHRlbmQoQ2hhdEd1aS5wcm90b3R5cGUsIHtcclxuXHJcbiAgICAgICAgbG9hZGVkICAgICAgICAgICAgIDogZmFsc2UsXHJcbiAgICAgICAgbWF4bGluZXMgICAgICAgICAgIDogNTAwLCAvLyBsZWdhY3kgLSBzZXQgdmlhIHBocFxyXG5cclxuICAgICAgICBzY3JvbGxQbHVnaW4gICAgICAgOiBudWxsLFxyXG4gICAgICAgIGF1dG9Db21wbGV0ZVBsdWdpbiA6IG51bGwsXHJcbiAgICAgICAgdWkgICAgICAgICAgICAgICAgIDogbnVsbCxcclxuICAgICAgICBsaW5lcyAgICAgICAgICAgICAgOiBudWxsLFxyXG4gICAgICAgIG91dHB1dCAgICAgICAgICAgICA6IG51bGwsXHJcbiAgICAgICAgaW5wdXQgICAgICAgICAgICAgIDogbnVsbCxcclxuICAgICAgICB1c2VyTWVzc2FnZXMgICAgICAgOiBbXSxcclxuICAgICAgICBmb2N1c2VkVXNlcnMgICAgICAgOiBbXSxcclxuXHJcbiAgICAgICAgaW5wdXRoaXN0b3J5ICAgICAgIDogW10sXHJcbiAgICAgICAgY3VycmVudGhpc3RvcnlsaW5lIDogLTEsXHJcbiAgICAgICAgc3RvcmVkaW5wdXRsaW5lICAgIDogbnVsbCxcclxuXHJcbiAgICAgICAgYmFja2xvZyAgICAgICAgICAgIDogW10sXHJcbiAgICAgICAgYmFja2xvZ0xvYWRpbmcgICAgIDogZmFsc2UsXHJcblxyXG4gICAgICAgIGhpZ2hsaWdodHJlZ2V4ICAgICA6IHt9LFxyXG4gICAgICAgIGxhc3RNZXNzYWdlICAgICAgICA6IG51bGwsXHJcblxyXG4gICAgICAgIGVtb3RpY29ucyAgICAgICAgICA6IFtdLFxyXG4gICAgICAgIHR3aXRjaGVtb3RlcyAgICAgICA6IFtdLFxyXG4gICAgICAgIGZvcm1hdHRlcnMgICAgICAgICA6IFtdLFxyXG5cclxuICAgICAgICBwbWNvdW50bnVtICAgICAgICAgOiAwLFxyXG4gICAgICAgIHBtY291bnQgICAgICAgICAgICA6IG51bGwsXHJcblxyXG4gICAgICAgIHN0eWxlc2hlZXQgICAgICAgICA6IG51bGwsXHJcblxyXG4gICAgICAgIHByZWZlcmVuY2VzIDoge1xyXG4gICAgICAgICAgICAnc2hvd3RpbWUnIDoge1xyXG4gICAgICAgICAgICAgICAgJ3ZhbHVlJyAgOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICdkZWZhdWx0JzogZmFsc2VcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2hpZGVmbGFpcmljb25zJyA6IHtcclxuICAgICAgICAgICAgICAgICd2YWx1ZScgIDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAnZGVmYXVsdCc6IGZhbHNlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICd0aW1lc3RhbXBmb3JtYXQnIDoge1xyXG4gICAgICAgICAgICAgICAgJ3ZhbHVlJyAgOiAnSEg6bW0nLFxyXG4gICAgICAgICAgICAgICAgJ2RlZmF1bHQnOiAnSEg6bW0nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdtYXhsaW5lcycgOiB7XHJcbiAgICAgICAgICAgICAgICAndmFsdWUnICA6IDUwMCxcclxuICAgICAgICAgICAgICAgICdkZWZhdWx0JzogNTAwXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdhbGxvd05vdGlmaWNhdGlvbnMnIDoge1xyXG4gICAgICAgICAgICAgICAgJ3ZhbHVlJyAgOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICdkZWZhdWx0JzogZmFsc2VcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2hpZ2hsaWdodCc6IHtcclxuICAgICAgICAgICAgICAgICd2YWx1ZScgIDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICdkZWZhdWx0JzogdHJ1ZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnY3VzdG9taGlnaGxpZ2h0Jzoge1xyXG4gICAgICAgICAgICAgICAgJ3ZhbHVlJyAgOiBbXSxcclxuICAgICAgICAgICAgICAgICdkZWZhdWx0JzogW11cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2hpZ2hsaWdodG5pY2tzJzoge1xyXG4gICAgICAgICAgICAgICAgJ3ZhbHVlJyAgOiB7fSxcclxuICAgICAgICAgICAgICAgICdkZWZhdWx0Jzoge31cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHRyaWdnZXI6IGZ1bmN0aW9uKG5hbWUsIGRhdGEpe1xyXG4gICAgICAgICAgICAkKHRoaXMpLnRyaWdnZXIobmFtZSwgZGF0YSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgb246IGZ1bmN0aW9uKG5hbWUsIGZuKXtcclxuICAgICAgICAgICAgJCh0aGlzKS5vbihuYW1lLCBmbik7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgaW5pdDogZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgIC8vIGxvY2FsIHZhciBmb3IgdGhpcyBpbnN0YW5jZVxyXG4gICAgICAgICAgICB2YXIgY2hhdCA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAvLyBsb2NhbCBlbGVtZW50cyBzdG9yZWQgaW4gdmFycyB0byBub3QgaGF2ZSB0byBnZXQgdGhlIGVsZW1lbnRzIHZpYSBxdWVyeSBlYWNoIHRpbWVcclxuICAgICAgICAgICAgdGhpcy5wbWNvdW50ICAgID0gdGhpcy51aS5maW5kKCcjY2hhdC1wbS1jb3VudDpmaXJzdCcpLmVxKDApO1xyXG4gICAgICAgICAgICB0aGlzLmxpbmVzICAgICAgPSB0aGlzLnVpLmZpbmQoJyNjaGF0LWxpbmVzOmZpcnN0JykuZXEoMCk7XHJcbiAgICAgICAgICAgIHRoaXMub3V0cHV0ICAgICA9IHRoaXMudWkuZmluZCgnI2NoYXQtb3V0cHV0OmZpcnN0JykuZXEoMCk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXQgICAgICA9IHRoaXMudWkuZmluZCgnI2NoYXQtaW5wdXQgLmlucHV0OmZpcnN0JykuZXEoMCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3R5bGVzaGVldCA9ICQoJyNjaGF0LXN0eWxlcycpWzBdWydzaGVldCddO1xyXG5cclxuICAgICAgICAgICAgLy8gTWVzc2FnZSBmb3JtYXR0ZXJzXHJcbiAgICAgICAgICAgIHRoaXMuZm9ybWF0dGVycy5wdXNoKG5ldyBkZXN0aW55LmZuLlVybEZvcm1hdHRlcih0aGlzKSk7XHJcbiAgICAgICAgICAgIHRoaXMuZm9ybWF0dGVycy5wdXNoKG5ldyBkZXN0aW55LmZuLkVtb3RlRm9ybWF0dGVyKHRoaXMpKTtcclxuICAgICAgICAgICAgdGhpcy5mb3JtYXR0ZXJzLnB1c2gobmV3IGRlc3RpbnkuZm4uTWVudGlvbmVkVXNlckZvcm1hdHRlcih0aGlzKSk7XHJcbiAgICAgICAgICAgIHRoaXMuZm9ybWF0dGVycy5wdXNoKG5ldyBkZXN0aW55LmZuLkdyZWVuVGV4dEZvcm1hdHRlcih0aGlzKSk7XHJcblxyXG4gICAgICAgICAgICAvLyBMZWdhY3lcclxuICAgICAgICAgICAgdGhpcy5wcmVmZXJlbmNlcy5tYXhsaW5lcy52YWx1ZSA9IHRoaXMubWF4bGluZXM7XHJcbiAgICAgICAgICAgIHRoaXMucHJlZmVyZW5jZXMubWF4bGluZXMuZGVmYXVsdCA9IHRoaXMubWF4bGluZXM7XHJcblxyXG4gICAgICAgICAgICAvLyBTY3JvbGxiYXIgcGx1Z2luXHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsUGx1Z2luID0gdGhpcy5vdXRwdXQubmFub1Njcm9sbGVyKHtcclxuICAgICAgICAgICAgICAgIGRpc2FibGVSZXNpemU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBwcmV2ZW50UGFnZVNjcm9sbGluZzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHNsaWRlck1pbkhlaWdodDogNDAsXHJcbiAgICAgICAgICAgICAgICB0YWJJbmRleDogMVxyXG4gICAgICAgICAgICB9KVswXS5uYW5vc2Nyb2xsZXI7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsUGx1Z2luLmlzU2Nyb2xsZWRUb0JvdHRvbSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKHRoaXMuY29udGVudFNjcm9sbFRvcCA+PSB0aGlzLm1heFNjcm9sbFRvcCAtIDMwKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGxQbHVnaW4udXBkYXRlQW5kU2Nyb2xsID0gZnVuY3Rpb24oc2Nyb2xsQm90dG9tKXtcclxuICAgICAgICAgICAgICAgIGlmKCF0aGlzLmlzQWN0aXZlKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0KCk7XHJcbiAgICAgICAgICAgICAgICBpZihzY3JvbGxCb3R0b20pIHRoaXMuc2Nyb2xsQm90dG9tKDApO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gTG9jYWwgc3RvcmVkXHJcbiAgICAgICAgICAgIHRoaXMubG9hZFByZWZlcmVuY2VzKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZEhpZ2hsaWdodGVycygpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRJbnB1dEhpc3RvcnkoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEF1dG8gY29tcGxldGVcclxuICAgICAgICAgICAgdGhpcy5hdXRvQ29tcGxldGVQbHVnaW4gPSBuZXcgQ2hhdEF1dG9Db21wbGV0ZSh0aGlzLmlucHV0LCB0aGlzLmVtb3RpY29ucy5jb25jYXQodGhpcy50d2l0Y2hlbW90ZXMpKTtcclxuXHJcbiAgICAgICAgICAgIC8vIENoYXQgc2V0dGluZ3NcclxuICAgICAgICAgICAgdmFyIGNoYXRTZXR0aW5nc1VpID0gdGhpcy51aS5maW5kKCcjY2hhdC1zZXR0aW5nczpmaXJzdCcpLmVxKDApLFxyXG4gICAgICAgICAgICAgICAgY2hhdFNldHRpbmdzTWVudSA9IG5ldyBDaGF0TWVudShjaGF0U2V0dGluZ3NVaSwgY2hhdCk7XHJcbiAgICAgICAgICAgIHZhciBjaGF0U2V0dGluZ3NOb3RpZmljYXRpb25UZXh0ID0gdGhpcy51aS5maW5kKCcjY2hhdC1zZXR0aW5ncy1ub3RpZmljYXRpb24tcGVybWlzc2lvbnMnKTtcclxuICAgICAgICAgICAgdmFyIHVwZGF0ZUNoYXRTZXR0aW5nc05vdGlmaWNhdGlvblRleHQgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgY2hhdFNldHRpbmdzTm90aWZpY2F0aW9uVGV4dC50ZXh0KFwiKFBlcm1pc3Npb24gXCIrIChOb3RpZmljYXRpb24ucGVybWlzc2lvbiA9PT0gXCJkZWZhdWx0XCIgPyBcInJlcXVpcmVkXCI6Tm90aWZpY2F0aW9uLnBlcm1pc3Npb24pICtcIilcIik7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBjaGF0U2V0dGluZ3NVaS5vbigna2V5cHJlc3MgYmx1cicsICdpbnB1dFtuYW1lPWN1c3RvbWhpZ2hsaWdodF0nLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIga2V5Y29kZSA9IGUua2V5Q29kZSA/IGUua2V5Q29kZSA6IGUud2hpY2g7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5Y29kZSAmJiBrZXljb2RlICE9IDEzKSAvLyBub3QgZW50ZXJcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSAkKHRoaXMpLnZhbCgpLnRyaW0oKS5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IGRhdGEubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhW2ldID0gZGF0YVtpXS50cmltKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhW2ldKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnNwbGljZShpLCAxKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2hhdC5zZXRQcmVmZXJlbmNlKCdjdXN0b21oaWdobGlnaHQnLCBkYXRhICk7XHJcbiAgICAgICAgICAgICAgICBjaGF0LmxvYWRIaWdobGlnaHRlcnMoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNoYXRTZXR0aW5nc1VpLm9uKCdjaGFuZ2UnLCAnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJywgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lICAgID0gJCh0aGlzKS5hdHRyKCduYW1lJyksXHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZCA9ICQodGhpcykuaXMoJzpjaGVja2VkJyk7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2gobmFtZSl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Nob3d0aW1lJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhdC5zZXRQcmVmZXJlbmNlKG5hbWUsIGNoZWNrZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGF0LnNjcm9sbFBsdWdpbi51cGRhdGVBbmRTY3JvbGwoY2hhdC5zY3JvbGxQbHVnaW4uaXNTY3JvbGxlZFRvQm90dG9tKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaGlkZWZsYWlyaWNvbnMnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGF0LnNldFByZWZlcmVuY2UobmFtZSwgY2hlY2tlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXQuc2Nyb2xsUGx1Z2luLnVwZGF0ZUFuZFNjcm9sbChjaGF0LnNjcm9sbFBsdWdpbi5pc1Njcm9sbGVkVG9Cb3R0b20oKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdoaWdobGlnaHQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGF0LnNldFByZWZlcmVuY2UobmFtZSwgY2hlY2tlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdhbGxvd05vdGlmaWNhdGlvbnMnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihjaGVja2VkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXQubm90aWZpY2F0aW9uUGVybWlzc2lvbigpLnRoZW4oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ2hhdFNldHRpbmdzTm90aWZpY2F0aW9uVGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGF0LnNldFByZWZlcmVuY2UobmFtZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDaGF0U2V0dGluZ3NOb3RpZmljYXRpb25UZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXQuc2V0UHJlZmVyZW5jZShuYW1lLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXQuc2V0UHJlZmVyZW5jZShuYW1lLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjaGF0U2V0dGluZ3NNZW51Lm9uKCdzaG93JywgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGNoYXRTZXR0aW5nc1VpLmZpbmQoJ2lucHV0W25hbWU9Y3VzdG9taGlnaGxpZ2h0XScpLnZhbCggY2hhdC5nZXRQcmVmZXJlbmNlKCdjdXN0b21oaWdobGlnaHQnKS5qb2luKCcsICcpICk7XHJcbiAgICAgICAgICAgICAgICBjaGF0U2V0dGluZ3NVaS5maW5kKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuYW1lICA9ICQodGhpcykuYXR0cignbmFtZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykucHJvcCgnY2hlY2tlZCcsIGNoYXQuZ2V0UHJlZmVyZW5jZShuYW1lKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmKE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uICE9PSBcImdyYW50ZWRcIilcclxuICAgICAgICAgICAgICAgICAgICBjaGF0U2V0dGluZ3NVaS5maW5kKCdpbnB1dFtuYW1lPVwiYWxsb3dOb3RpZmljYXRpb25zXCJdJykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUNoYXRTZXR0aW5nc05vdGlmaWNhdGlvblRleHQoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIGNoYXRFbW90ZXNVaSA9IHRoaXMudWkuZmluZCgnI2NoYXQtZW1vdGUtbGlzdDpmaXJzdCcpLmVxKDApLFxyXG4gICAgICAgICAgICAgICAgY2hhdEVtb3Rlc1VpTWVudSA9IG5ldyBDaGF0TWVudShjaGF0RW1vdGVzVWksIGNoYXQpO1xyXG5cclxuICAgICAgICAgICAgY2hhdEVtb3Rlc1VpTWVudS5vbignaW5pdCcsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGVtb3RlcyA9IGNoYXRFbW90ZXNVaS5maW5kKCcjZGVzdGlueS1lbW90ZXMnKSxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1vdGVzID0gY2hhdEVtb3Rlc1VpLmZpbmQoJyN0d2l0Y2gtZW1vdGVzJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBpPTA7aTxjaGF0LmVtb3RpY29ucy5sZW5ndGg7aSsrKVxyXG4gICAgICAgICAgICAgICAgICAgIGRlbW90ZXMuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiZW1vdGVcIj48c3BhbiB0aXRsZT1cIicrY2hhdC5lbW90aWNvbnNbaV0rJ1wiIGNsYXNzPVwiY2hhdC1lbW90ZSBjaGF0LWVtb3RlLScrY2hhdC5lbW90aWNvbnNbaV0rJ1wiPicrY2hhdC5lbW90aWNvbnNbaV0rJzwvc3Bhbj48L2Rpdj4nKTtcclxuICAgICAgICAgICAgICAgIGZvcih2YXIgeD0wO3g8Y2hhdC50d2l0Y2hlbW90ZXMubGVuZ3RoO3grKylcclxuICAgICAgICAgICAgICAgICAgICB0ZW1vdGVzLmFwcGVuZCgnPGRpdiBjbGFzcz1cImVtb3RlXCI+PHNwYW4gdGl0bGU9XCInK2NoYXQudHdpdGNoZW1vdGVzW3hdKydcIiBjbGFzcz1cImNoYXQtZW1vdGUgY2hhdC1lbW90ZS0nK2NoYXQudHdpdGNoZW1vdGVzW3hdKydcIj4nK2NoYXQudHdpdGNoZW1vdGVzW3hdKyc8L3NwYW4+PC9kaXY+Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgY2hhdEVtb3Rlc1VpLm9uKCdjbGljaycsICcuY2hhdC1lbW90ZScsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGNoYXQuaW5wdXQudmFsKCkudHJpbSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYXQuaW5wdXQudmFsKCB2YWx1ZSArICgodmFsdWUgPT0gXCJcIikgPyBcIlwiOlwiIFwiKSAgKyAgJCh0aGlzKS50ZXh0KCkgKyBcIiBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhdC5pbnB1dC5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICB2YXIgcG1Qb3B1cFVpID0gdGhpcy51aS5maW5kKCcjY2hhdC1wbS1ub3RpZmljYXRpb246Zmlyc3QnKS5lcSgwKSxcclxuICAgICAgICAgICAgICAgIHBtUG9wdXBVaU1lbnUgPSBuZXcgQ2hhdE1lbnUocG1Qb3B1cFVpLCBjaGF0KTtcclxuXHJcbiAgICAgICAgICAgIHBtUG9wdXBVaS5vbignY2xpY2snLCAnLnVzZXItbGlzdC1saW5rJywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgICAgICBDaGF0TWVudS5jbG9zZU1lbnVzKGNoYXQpO1xyXG4gICAgICAgICAgICAgICAgdXNlckxpc3RVaU1lbnUuc2hvdyhwbVBvcHVwVWlNZW51LmJ0bik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBwbVBvcHVwVWkub24oJ2NsaWNrJywgJyNtYXJrcmVhZC1wcml2bXNnJywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgICAgICBjaGF0LnNldFVucmVhZE1lc3NhZ2VDb3VudCgwKTtcclxuICAgICAgICAgICAgICAgIENoYXRNZW51LmNsb3NlTWVudXMoY2hhdCk7XHJcbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvcHJvZmlsZS9tZXNzYWdlcy9vcGVuYWxsJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBwbVBvcHVwVWkub24oJ2NsaWNrJywgJyNpbmJveC1wcml2bXNnJywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgICAgICBjaGF0LnNldFVucmVhZE1lc3NhZ2VDb3VudCgwKTtcclxuICAgICAgICAgICAgICAgIENoYXRNZW51LmNsb3NlTWVudXMoY2hhdCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciB1c2VyTGlzdFVpID0gdGhpcy51aS5maW5kKCcjY2hhdC11c2VyLWxpc3Q6Zmlyc3QnKS5lcSgwKSxcclxuICAgICAgICAgICAgICAgIHVzZXJMaXN0VWlNZW51ID0gbmV3IENoYXRNZW51KHVzZXJMaXN0VWksIGNoYXQpO1xyXG5cclxuICAgICAgICAgICAgdXNlckxpc3RVaU1lbnUuZ3JvdXBzID0gdXNlckxpc3RVaS5maW5kKCcjY2hhdC1ncm91cHMnKTtcclxuICAgICAgICAgICAgdXNlckxpc3RVaU1lbnUuY2xlYXJBbGwgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgdXNlckxpc3RVaU1lbnUuZ3JvdXBzLmZpbmQoJ2xpJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHVzZXJMaXN0VWlNZW51LnNvcnRCeU5hbWUgPSBmdW5jdGlvbihhLGIpe1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgnZGF0YS11c2VybmFtZScpLmxvY2FsZUNvbXBhcmUoYi5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgnZGF0YS11c2VybmFtZScpKTtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2goZSl7fVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB1c2VyTGlzdFVpTWVudS5zb3J0VXNlcnMgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgdXNlckxpc3RVaU1lbnUuZ3JvdXBzLmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1c2VycyA9ICQodGhpcykuZmluZCgnbGknKS5nZXQoKTtcclxuICAgICAgICAgICAgICAgICAgICB1c2Vycy5zb3J0KHVzZXJMaXN0VWlNZW51LnNvcnRCeU5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpPHVzZXJzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2Vyc1tpXS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHVzZXJzW2ldKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB1c2VyTGlzdFVpLm9uKCdjbGljaycsICcudXNlcicsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBjaGF0LnRvZ2dsZVVzZXJGb2N1cyh0aGlzLnRleHRDb250ZW50KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHVzZXJMaXN0VWkuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGhlYWRlciA9IHVzZXJMaXN0VWkuZmluZCgnaDUgc3BhbicpLFxyXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwcyA9IHVzZXJMaXN0VWlNZW51Lmdyb3VwcyxcclxuICAgICAgICAgICAgICAgICAgICBncm91cDEgPSAkKCc8dWwgaWQ9XCJjaGF0LWdyb3VwMVwiPicpLmFwcGVuZFRvKGdyb3VwcyksXHJcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXAyID0gJCgnPHVsIGlkPVwiY2hhdC1ncm91cDJcIj4nKS5hcHBlbmRUbyhncm91cHMpLFxyXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwMyA9ICQoJzx1bCBpZD1cImNoYXQtZ3JvdXAzXCI+JykuYXBwZW5kVG8oZ3JvdXBzKSxcclxuICAgICAgICAgICAgICAgICAgICBncm91cDQgPSAkKCc8dWwgaWQ9XCJjaGF0LWdyb3VwNFwiPicpLmFwcGVuZFRvKGdyb3VwcyksXHJcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA1ID0gJCgnPHVsIGlkPVwiY2hhdC1ncm91cDVcIj4nKS5hcHBlbmRUbyhncm91cHMpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciB1cGRhdGVDb3VudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSBPYmplY3Qua2V5cyhjaGF0LmVuZ2luZS51c2VycykubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlci50ZXh0KG4pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHZhciBoYXNVc2VyID0gZnVuY3Rpb24odXNlcm5hbWUpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1c2VyTGlzdFVpLmZpbmQoJ2FbZGF0YS11c2VybmFtZT1cIicrdXNlcm5hbWUrJ1wiXScpLmxlbmd0aCA+IDA7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlbW92ZVVzZXIgPSBmdW5jdGlvbih1c2VybmFtZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJMaXN0VWkuZmluZCgnYVtkYXRhLXVzZXJuYW1lPVwiJyt1c2VybmFtZSsnXCJdJykuY2xvc2VzdCgnbGknKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB2YXIgYWRkVXNlciA9IGZ1bmN0aW9uKHVzZXJuYW1lKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdSA9IGNoYXQuZW5naW5lLnVzZXJzW3VzZXJuYW1lXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbSA9ICc8bGk+PGEgZGF0YS11c2VybmFtZT1cIicrdS51c2VybmFtZSsnXCIgY2xhc3M9XCJ1c2VyICcrIHUuZmVhdHVyZXMuam9pbignICcpICsnXCI+Jyt1LnVzZXJuYW1lKyc8L2E+PC9saT4nO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHUuaGFzRmVhdHVyZShkZXN0aW55LlVzZXJGZWF0dXJlcy5CT1QpIHx8IHUuaGFzRmVhdHVyZShkZXN0aW55LlVzZXJGZWF0dXJlcy5CT1QyKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXA1LmFwcGVuZChlbGVtKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh1Lmhhc0ZlYXR1cmUoZGVzdGlueS5Vc2VyRmVhdHVyZXMuQURNSU4pIHx8IHUuaGFzRmVhdHVyZShkZXN0aW55LlVzZXJGZWF0dXJlcy5WSVApKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cDEuYXBwZW5kKGVsZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYodS5oYXNGZWF0dXJlKGRlc3RpbnkuVXNlckZlYXR1cmVzLkJST0FEQ0FTVEVSKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXAyLmFwcGVuZChlbGVtKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKHUuaGFzRmVhdHVyZShkZXN0aW55LlVzZXJGZWF0dXJlcy5TVUJTQ1JJQkVSKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXAzLmFwcGVuZChlbGVtKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwNC5hcHBlbmQoZWxlbSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgY2hhdC5vbignam9pbicsIGZ1bmN0aW9uKGUsIGRhdGEpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHVzZXJMaXN0VWlNZW51LnZpc2libGUgJiYgIWhhc1VzZXIoZGF0YS5uaWNrKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFVzZXIoZGF0YS5uaWNrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ291bnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlckxpc3RVaU1lbnUuc29ydFVzZXJzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJMaXN0VWlNZW51LnJlZHJhdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgY2hhdC5vbigncXVpdCcsIGZ1bmN0aW9uKGUsIGRhdGEpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHVzZXJMaXN0VWlNZW51LnZpc2libGUgJiYgaGFzVXNlcihkYXRhLm5pY2spKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlVXNlcihkYXRhLm5pY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVDb3VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyTGlzdFVpTWVudS5yZWRyYXcoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHVzZXJMaXN0VWlNZW51Lm9uKCdzaG93JywgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICB1c2VyTGlzdFVpTWVudS5jbGVhckFsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNvdW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yKHZhciB1c2VybmFtZSBpbiBjaGF0LmVuZ2luZS51c2Vycykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhdC5lbmdpbmUudXNlcnMuaGFzT3duUHJvcGVydHkodXNlcm5hbWUpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkVXNlcih1c2VybmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJMaXN0VWlNZW51LnNvcnRVc2VycygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJMaXN0VWlNZW51LnJlZHJhdygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy51aS5maW5kKCcjY2hhdC11c2Vycy1idG4nKS5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgICAgIGlmKGNoYXQucG1jb3VudG51bSA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAgcG1Qb3B1cFVpTWVudS50b2dnbGUodGhpcyk7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgdXNlckxpc3RVaU1lbnUudG9nZ2xlKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy51aS5maW5kKCcjY2hhdC1zZXR0aW5ncy1idG4nKS5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgICAgIGNoYXRTZXR0aW5nc01lbnUudG9nZ2xlKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy51aS5maW5kKCcjZW1vdGljb24tYnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgICAgICBjaGF0RW1vdGVzVWlNZW51LnRvZ2dsZSh0aGlzKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxpbmVzLm9uKCdtb3VzZWRvd24nLCAnLnVzZXItbXNnIGEudXNlcicsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICAgICAgdmFyIHVzZXJuYW1lID0gJCh0aGlzKS5jbG9zZXN0KCcudXNlci1tc2cnKS5kYXRhKCd1c2VybmFtZScpO1xyXG4gICAgICAgICAgICAgICAgY2hhdC50b2dnbGVVc2VyRm9jdXModXNlcm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGluZXMub24oJ21vdXNlZG93bicsICcudXNlci1tc2cgLmNoYXQtdXNlcicsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciB1c2VybmFtZTEgPSAkKHRoaXMpLmNsb3Nlc3QoJy51c2VyLW1zZycpLmRhdGEoJ3VzZXJuYW1lJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdXNlcm5hbWUyID0gdGhpcy50ZXh0Q29udGVudC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgY2hhdC5hZGRVc2VyRm9jdXModXNlcm5hbWUxKTtcclxuICAgICAgICAgICAgICAgIGNoYXQudG9nZ2xlVXNlckZvY3VzKHVzZXJuYW1lMik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gQmluZCB0byB1c2VyIGlucHV0IHN1Ym1pdFxyXG4gICAgICAgICAgICB0aGlzLnVpLm9uKCdzdWJtaXQnLCAnZm9ybSNjaGF0LWlucHV0JywgZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgICAgICBjaGF0LnNlbmQoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBDbG9zZSBhbGwgbWVudXMgYW5kIHBlcmZvcm0gYSBzY3JvbGxcclxuICAgICAgICAgICAgdGhpcy5pbnB1dC5vbigna2V5ZG93biBtb3VzZWRvd24nLCAkLnByb3h5KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBDaGF0TWVudS5jbG9zZU1lbnVzKHRoaXMpO1xyXG4gICAgICAgICAgICB9LCB0aGlzKSk7XHJcblxyXG4gICAgICAgICAgICAvLyBDbG9zZSBhbGwgbWVudXMgaWYgc29tZW9uZSBjbGlja3Mgb24gYW55IG1lc3NhZ2VzXHJcbiAgICAgICAgICAgIHRoaXMub3V0cHV0Lm9uKCdtb3VzZWRvd24nLCAkLnByb3h5KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBDaGF0TWVudS5jbG9zZU1lbnVzKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgY2hhdC5jbGVhclVzZXJGb2N1cygpO1xyXG4gICAgICAgICAgICB9LCB0aGlzKSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgc2Nyb2xsTm90aWZ5ID0gY2hhdC51aS5maW5kKCcjY2hhdC1zY3JvbGwtbm90aWZ5Jyk7XHJcbiAgICAgICAgICAgIHNjcm9sbE5vdGlmeS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGNoYXQuc2Nyb2xsUGx1Z2luLnVwZGF0ZUFuZFNjcm9sbCh0cnVlKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjaGF0Lm91dHB1dC5kZWJvdW5jZShcInNjcm9sbGVkXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsTm90aWZ5LnRvZ2dsZSghY2hhdC5zY3JvbGxQbHVnaW4uaXNTY3JvbGxlZFRvQm90dG9tKCkpO1xyXG4gICAgICAgICAgICB9LCAxMDApO1xyXG5cclxuICAgICAgICAgICAgY2hhdC5vdXRwdXQuZGVib3VuY2UoXCJzY3JvbGxlbmRcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxOb3RpZnkuaGlkZSgpO1xyXG4gICAgICAgICAgICB9LCAxMDApO1xyXG5cclxuICAgICAgICAgICAgdmFyIGZuVXBkYXRlU2Nyb2xsVmFsdWVzID0gY2hhdC5zY3JvbGxQbHVnaW4udXBkYXRlU2Nyb2xsVmFsdWVzO1xyXG4gICAgICAgICAgICBjaGF0LnNjcm9sbFBsdWdpbi51cGRhdGVTY3JvbGxWYWx1ZXMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGZuVXBkYXRlU2Nyb2xsVmFsdWVzLmNhbGwodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIGNoYXQub3V0cHV0LnRyaWdnZXIoJ3Njcm9sbGVkJyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vIEVuZCBTY3JvbGxiYXJcclxuXHJcbiAgICAgICAgICAgIC8vIFRoZSBsb2dpbiBjbGlja1xyXG4gICAgICAgICAgICB0aGlzLnVpLmZpbmQoJyNjaGF0LWxvZ2luLW1zZyBhW2hyZWY9XCIvbG9naW5cIl0nKS5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYod2luZG93LnNlbGYgIT09IHdpbmRvdy50b3Ape1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cucGFyZW50LmxvY2F0aW9uLmhyZWYgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKSArICc/Zm9sbG93PScgKyBlbmNvZGVVUklDb21wb25lbnQod2luZG93LnBhcmVudC5sb2NhdGlvbi5wYXRobmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJCh0aGlzKS5hdHRyKCdocmVmJykgKyAnP2ZvbGxvdz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyB3aGVuIGNsaWNraW5nIG9uIFwibm90aGluZ1wiIG1vdmUgdGhlIGZvY3VzIHRvIHRoZSBpbnB1dFxyXG4gICAgICAgICAgICB2YXIgbW91c2VEb3duQ29vcmRzO1xyXG4gICAgICAgICAgICB2YXIgZm9jdXNUaW1lcjtcclxuICAgICAgICAgICAgdGhpcy5saW5lcy5vbignY2xpY2sgbW91c2Vkb3duIGtleWRvd24nLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29vcmRzID0gZS5jbGllbnRYICsgJy0nICsgZS5jbGllbnRZO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoKGUudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NsaWNrJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vdXNlRG93bkNvb3JkcyAhPT0gY29vcmRzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXNUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGNoYXQuaW5wdXQuZm9jdXMoKTsgfSwgNTAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbW91c2Vkb3duJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW91c2VEb3duQ29vcmRzID0gY29vcmRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdrZXlkb3duJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvY3VzVGltZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChmb2N1c1RpbWVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzVGltZXIgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIFByaXZhdGUgbWVzc2FnZSBvbmNsaWNrXHJcbiAgICAgICAgICAgIHRoaXMubGluZXMub24oJ2NsaWNrJywgJy5tYXJrLWFzLXJlYWQnLCBmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlRWwgICAgICA9ICQodGhpcykuY2xvc2VzdCgnLnByaXZhdGUtbWVzc2FnZScpLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgICAgICAgID0gbWVzc2FnZUVsLmRhdGEoJ21lc3NhZ2UnKSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWNuU2VuZCA9IG1lc3NhZ2UudWkuZmluZCgnLmljb24tbWFpbC1zZW5kJyksXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUFjdGlvbnMgPSBtZXNzYWdlLnVpLmZpbmQoJy5tZXNzYWdlLWFjdGlvbnMnKTtcclxuICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9wcm9maWxlL21lc3NhZ2VzLycrIGVuY29kZVVSSUNvbXBvbmVudChtZXNzYWdlLm1lc3NhZ2VpZCkgKycvb3BlbicsXHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWNuU2VuZC5hdHRyKCdjbGFzcycsICdpY29uLW1haWwtb3Blbi1kb2N1bWVudCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlQWN0aW9ucy5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhdC5zZXRVbnJlYWRNZXNzYWdlQ291bnQoZGF0YS51bnJlYWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIHNob3VsZCBiZSBtb3ZlZCBzb21ld2hlcmUgYmV0dGVyXHJcbiAgICAgICAgICAgICQod2luZG93KS5vbih7XHJcbiAgICAgICAgICAgICAgICAncmVzaXplLmNoYXQnOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYXQucmVzaXplKCk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgJ2ZvY3VzLmNoYXQnOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYXQuaW5wdXQuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAnbG9hZC5jaGF0JzogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICBjaGF0LmlucHV0LmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhdC5sb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGFkZFVzZXJGb2N1c1J1bGU6IGZ1bmN0aW9uKHVzZXJuYW1lKXtcclxuICAgICAgICAgICAgdGhpcy5zdHlsZXNoZWV0Lmluc2VydFJ1bGUoJy51c2VyLW1zZ1tkYXRhLXVzZXJuYW1lPVwiJyArIHVzZXJuYW1lICsgJ1wiXXtvcGFjaXR5OjEgIWltcG9ydGFudDt9JywgdGhpcy5mb2N1c2VkVXNlcnMubGVuZ3RoKTsgLy8gbWF4IDQyOTQ5NjcyOTVcclxuICAgICAgICAgICAgdGhpcy5mb2N1c2VkVXNlcnMucHVzaCh1c2VybmFtZSk7XHJcbiAgICAgICAgICAgIHRoaXMudWkudG9nZ2xlQ2xhc3MoJ2ZvY3VzLXVzZXInLCB0aGlzLmZvY3VzZWRVc2Vycy5sZW5ndGggPiAwKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICByZW1vdmVVc2VyRm9jdXNSdWxlOiBmdW5jdGlvbih1c2VybmFtZSwgaW5kZXgpe1xyXG4gICAgICAgICAgICB0aGlzLnN0eWxlc2hlZXQuZGVsZXRlUnVsZShpbmRleCk7XHJcbiAgICAgICAgICAgIHRoaXMuZm9jdXNlZFVzZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgIHRoaXMudWkudG9nZ2xlQ2xhc3MoJ2ZvY3VzLXVzZXInLCB0aGlzLmZvY3VzZWRVc2Vycy5sZW5ndGggPiAwKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBjbGVhclVzZXJGb2N1czogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgZm9yKHZhciBpPXRoaXMuZm9jdXNlZFVzZXJzLmxlbmd0aC0xOyBpPj0wOyAtLWkpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVVzZXJGb2N1c1J1bGUodGhpcy5mb2N1c2VkVXNlcnNbaV0sIGkpO1xyXG4gICAgICAgICAgICB0aGlzLnVpLnRvZ2dsZUNsYXNzKCdmb2N1cy11c2VyJywgZmFsc2UpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGFkZFVzZXJGb2N1czogZnVuY3Rpb24odXNlcm5hbWUpe1xyXG4gICAgICAgICAgICBpZih1c2VybmFtZSAmJiB0aGlzLmZvY3VzZWRVc2Vycy5pbmRleE9mKHVzZXJuYW1lKSA9PT0gLTEpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFVzZXJGb2N1c1J1bGUodXNlcm5hbWUpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHJlbW92ZVVzZXJGb2N1czogZnVuY3Rpb24odXNlcm5hbWUpe1xyXG4gICAgICAgICAgICBpZighdXNlcm5hbWUpIHJldHVybjtcclxuICAgICAgICAgICAgdXNlcm5hbWUgPSB1c2VybmFtZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmZvY3VzZWRVc2Vycy5pbmRleE9mKHVzZXJuYW1lKTtcclxuICAgICAgICAgICAgaWYoaW5kZXggIT09IC0xKSB0aGlzLnJlbW92ZVVzZXJGb2N1c1J1bGUodXNlcm5hbWUsIGluZGV4KTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICB0b2dnbGVVc2VyRm9jdXM6IGZ1bmN0aW9uKHVzZXJuYW1lKSB7XHJcbiAgICAgICAgICAgIGlmKCF1c2VybmFtZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICB1c2VybmFtZSA9IHVzZXJuYW1lLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuZm9jdXNlZFVzZXJzLmluZGV4T2YodXNlcm5hbWUpO1xyXG4gICAgICAgICAgICBpZihpbmRleCA9PT0gLTEpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFVzZXJGb2N1cyh1c2VybmFtZSk7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlVXNlckZvY3VzKHVzZXJuYW1lLCBpbmRleCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgbG9hZEJhY2tsb2c6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLmJhY2tsb2dMb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYodGhpcy5iYWNrbG9nLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhY2tsb2dMb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdGhpcy5iYWNrbG9nLmxlbmd0aDsgaSA8IGo7IGkrKylcclxuICAgICAgICAgICAgICAgIHRoaXMuZW5naW5lLmRpc3BhdGNoQmFja2xvZyh0aGlzLmJhY2tsb2dbaV0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wdXQobmV3IENoYXRVSU1lc3NhZ2UoJzxoci8+JykpO1xyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbFBsdWdpbi51cGRhdGVBbmRTY3JvbGwodHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuYmFja2xvZ0xvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvLyBBZGQgYSBtZXNzYWdlIHRvIHRoZSBVSVxyXG4gICAgICAgIHB1dDogZnVuY3Rpb24obWVzc2FnZSwgc3RhdGUpe1xyXG4gICAgICAgICAgICBpZihtZXNzYWdlIGluc3RhbmNlb2YgQ2hhdFVzZXJNZXNzYWdlKXtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMubGFzdE1lc3NhZ2UgJiYgdGhpcy5sYXN0TWVzc2FnZS51c2VyICYmIG1lc3NhZ2UudXNlciAmJiB0aGlzLmxhc3RNZXNzYWdlLnVzZXIudXNlcm5hbWUgPT0gbWVzc2FnZS51c2VyLnVzZXJuYW1lKVxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudWkgPSAkKG1lc3NhZ2UuYWRkb25IdG1sKCkpOyAvL3NhbWUgcGVyc29uIGNvbnNlY3V0aXZlbHlcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnVpID0gJChtZXNzYWdlLmh0bWwoKSk7IC8vZGlmZmVyZW50IHBlcnNvblxyXG5cclxuICAgICAgICAgICAgICAgIGlmKG1lc3NhZ2UudXNlciAmJiB0aGlzLmVuZ2luZS51c2VyICYmIHRoaXMuZW5naW5lLnVzZXIudXNlcm5hbWUgPT0gbWVzc2FnZS51c2VyLnVzZXJuYW1lKVxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudWkuYWRkQ2xhc3MoJ293bi1tc2cnKTtcclxuICAgICAgICAgICAgfWVsc2VcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2UudWkgPSAkKG1lc3NhZ2UuaHRtbCgpKTtcclxuXHJcbiAgICAgICAgICAgIG1lc3NhZ2UudWkuZGF0YSgnbWVzc2FnZScsIG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICBtZXNzYWdlLnVpLmFwcGVuZFRvKHRoaXMubGluZXMpO1xyXG5cclxuICAgICAgICAgICAgaWYoc3RhdGUgIT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZS5zdGF0dXMoc3RhdGUpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5sYXN0TWVzc2FnZSA9IG1lc3NhZ2U7XHJcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8vIEFkZCBhIG1lc3NhZ2VcclxuICAgICAgICBwdXNoOiBmdW5jdGlvbihtZXNzYWdlLCBzdGF0ZSl7XHJcbiAgICAgICAgICAgIC8vIEdldCB0aGUgc2Nyb2xsIHBvc2l0aW9uIGJlZm9yZSBhZGRpbmcgdGhlIG5ldyBsaW5lIC8gcmVtb3Zpbmcgb2xkIGxpbmVzXHJcbiAgICAgICAgICAgIHZhciB3YXNTY3JvbGxlZEJvdHRvbSA9IHRoaXMuc2Nyb2xsUGx1Z2luLmlzU2Nyb2xsZWRUb0JvdHRvbSgpLFxyXG4gICAgICAgICAgICAgICAgbGluZXMgPSB0aGlzLmxpbmVzLmNoaWxkcmVuKCksXHJcbiAgICAgICAgICAgICAgICBtYXhsaW5lcyA9IHRoaXMuZ2V0UHJlZmVyZW5jZSgnbWF4bGluZXMnKTtcclxuICAgICAgICAgICAgLy8gUmlkIGV4Y2VzcyBsaW5lcyBpZiB0aGUgdXNlciBpcyBzY3JvbGxlZCB0byB0aGUgYm90dG9tXHJcbiAgICAgICAgICAgIHZhciBsaW5lQ291bnQgPSBsaW5lcy5sZW5ndGg7XHJcbiAgICAgICAgICAgIGlmKHdhc1Njcm9sbGVkQm90dG9tICYmIGxpbmVDb3VudCA+PSBtYXhsaW5lcyl7XHJcbiAgICAgICAgICAgICAgICB2YXIgdW53YW50ZWRsaW5lcyA9IGxpbmVzLnNsaWNlKDAsIGxpbmVDb3VudCAtIG1heGxpbmVzKTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSB1bndhbnRlZGxpbmVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh1bndhbnRlZGxpbmVzW2ldKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy51c2VyTWVzc2FnZXMucHVzaChtZXNzYWdlKTtcclxuICAgICAgICAgICAgdGhpcy5wdXQobWVzc2FnZSwgc3RhdGUpO1xyXG5cclxuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIGEgcmVzZXQgaGFzIGJlZW4gY2FsbGVkIGF0IGxlYXN0IG9uY2Ugd2hlbiB0aGUgc2Nyb2xsIHNob3VsZCBiZSBlbmFibGVkLCBidXQgaXNudCB5ZXRcclxuICAgICAgICAgICAgaWYodGhpcy5zY3JvbGxQbHVnaW4uY29udGVudC5zY3JvbGxIZWlnaHQgPiB0aGlzLnNjcm9sbFBsdWdpbi5lbC5jbGllbnRIZWlnaHQgJiYgIXRoaXMuc2Nyb2xsUGx1Z2luLmlzQWN0aXZlKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxQbHVnaW4ucmVzZXQoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFJlc2V0IGFuZCBvciBzY3JvbGwgYm90dG9tXHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsUGx1Z2luLnVwZGF0ZUFuZFNjcm9sbCh3YXNTY3JvbGxlZEJvdHRvbSk7XHJcbiAgICAgICAgICAgIC8vIEhhbmRsZSBoaWdobGlnaHQgLyBhbmQgaWYgaGlnaGxpZ2h0ZWQsIG5vdGlmaWNhdGlvblxyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZUhpZ2hsaWdodChtZXNzYWdlKTtcclxuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2VuZDogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdmFyIHN0ciA9IHRoaXMuaW5wdXQudmFsKCkudHJpbSgpO1xyXG4gICAgICAgICAgICBpZihzdHIgIT0gJycpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dC52YWwoJycpLmZvY3VzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5lbmdpbmUudXNlciA9PSBudWxsIHx8ICF0aGlzLmVuZ2luZS51c2VyLnVzZXJuYW1lKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnB1c2gobmV3IENoYXRFcnJvck1lc3NhZ2UodGhpcy5lbmdpbmUuZXJyb3JzdHJpbmdzLm5lZWRsb2dpbikpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gKHN0ci5zdWJzdHJpbmcoMCwgNCkgPT09ICcvbWUgJykgPyBzdHIuc3Vic3RyaW5nKDQpIDogc3RyO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgYW4gZW1vdGljb24gc3BhbSwgZW1pdCB0aGUgbWVzc2FnZSBidXQgZG9uJ3QgYWRkIHRoZSBsaW5lIGltbWVkaWF0ZWx5XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5lbW90aWNvbnMuaW5kZXhPZihtZXNzYWdlKSAhPT0gLTEgJiYgdGhpcy5lbmdpbmUucHJldmlvdXNlbW90ZSAmJiB0aGlzLmVuZ2luZS5wcmV2aW91c2Vtb3RlLm1lc3NhZ2UgPT0gbWVzc2FnZSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmdpbmUuZW1pdCgnTVNHJywge2RhdGE6IHN0cn0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzdHIuc3Vic3RyaW5nKDAsIDEpID09PSAnLycpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5naW5lLmhhbmRsZUNvbW1hbmQoc3RyLnN1YnN0cmluZygxKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTm9ybWFsIHVzZXIgbWVzc2FnZSwgZW1pdFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wdXNoKG5ldyBDaGF0VXNlck1lc3NhZ2Uoc3RyLCB0aGlzLmVuZ2luZS51c2VyKSwgKCF0aGlzLmVuZ2luZS5jb25uZWN0ZWQpID8gJ3Vuc2VudCcgOiAncGVuZGluZycpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbmdpbmUuZW1pdCgnTVNHJywge2RhdGE6IHN0cn0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuaW5zZXJ0SW5wdXRIaXN0b3J5KHN0cik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRoaXN0b3J5bGluZSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hdXRvQ29tcGxldGVQbHVnaW4ubWFya0xhc3RDb21wbGV0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN0ciA9IG51bGw7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGxQbHVnaW4udXBkYXRlQW5kU2Nyb2xsKHRoaXMuc2Nyb2xsUGx1Z2luLmlzU2Nyb2xsZWRUb0JvdHRvbSgpKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2V0dXBJbnB1dEhpc3Rvcnk6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHZhciBtb2RpZmllcnByZXNzZWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGNoYXQgPSB0aGlzO1xyXG4gICAgICAgICAgICAkKHRoaXMuaW5wdXQpLm9uKCdrZXl1cCcsIGZ1bmN0aW9uKGUpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZS5zaGlmdEtleSB8fCBlLm1ldGFLZXkgfHwgZS5jdHJsS2V5KVxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGlmaWVycHJlc3NlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKChlLmtleUNvZGUgIT0gMzggJiYgZS5rZXlDb2RlICE9IDQwKSB8fCBtb2RpZmllcnByZXNzZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBtb2RpZmllcnByZXNzZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG51bSAgPSBlLmtleUNvZGUgPT0gMzg/IC0xOiAxOyAvLyBpZiB1cCBhcnJvdyB3ZSBzdWJ0cmFjdCBvdGhlcndpc2UgYWRkXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaWYgdXAgYXJyb3cgYW5kIHdlIGFyZSBub3QgY3VycmVudGx5IHNob3dpbmcgYW55IGxpbmVzIGZyb20gdGhlIGhpc3RvcnlcclxuICAgICAgICAgICAgICAgIGlmIChjaGF0LmN1cnJlbnRoaXN0b3J5bGluZSA8IDAgJiYgZS5rZXlDb2RlID09IDM4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2V0IHRoZSBjdXJyZW50IGxpbmUgdG8gdGhlIGVuZCBpZiB0aGUgaGlzdG9yeSwgZG8gbm90IHN1YnRyYWN0IDFcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGF0J3MgZG9uZSBsYXRlclxyXG4gICAgICAgICAgICAgICAgICAgIGNoYXQuY3VycmVudGhpc3RvcnlsaW5lID0gY2hhdC5pbnB1dGhpc3RvcnkubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHN0b3JlIHRoZSB0eXBlZCBpbiBtZXNzYWdlIHNvIHRoYXQgd2UgY2FuIGdvIGJhY2sgdG8gaXRcclxuICAgICAgICAgICAgICAgICAgICBjaGF0LnN0b3JlZGlucHV0bGluZSA9IGNoYXQuaW5wdXQudmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGF0LmN1cnJlbnRoaXN0b3J5bGluZSA8PSAwKSAvLyBub3RoaW5nIGluIHRoZSBoaXN0b3J5LCBiYWlsIG91dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGF0LmN1cnJlbnRoaXN0b3J5bGluZSA8IDAgJiYgZS5rZXlDb2RlID09IDQwKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gZG93biBhcnJvdywgYnV0IG5vdGhpbmcgdG8gc2hvd1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGNoYXQuY3VycmVudGhpc3RvcnlsaW5lICsgbnVtO1xyXG4gICAgICAgICAgICAgICAgLy8gb3V0IG9mIGJvdW5kc1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IGNoYXQuaW5wdXRoaXN0b3J5Lmxlbmd0aCB8fCBpbmRleCA8IDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZG93biBhcnJvdyB3YXMgcHJlc3NlZCB0byBnZXQgYmFjayB0byB0aGUgb3JpZ2luYWwgbGluZSwgcmVzZXRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gY2hhdC5pbnB1dGhpc3RvcnkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXQuaW5wdXQudmFsKGNoYXQuc3RvcmVkaW5wdXRsaW5lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhdC5jdXJyZW50aGlzdG9yeWxpbmUgPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNoYXQuY3VycmVudGhpc3RvcnlsaW5lID0gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICBjaGF0LmlucHV0LnZhbChjaGF0LmlucHV0aGlzdG9yeVtpbmRleF0pO1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgbG9hZElucHV0SGlzdG9yeTogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRoaXN0b3J5ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2VbJ2lucHV0aGlzdG9yeSddIHx8ICdbXScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXR1cElucHV0SGlzdG9yeSgpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGluc2VydElucHV0SGlzdG9yeTogZnVuY3Rpb24obWVzc2FnZSl7XHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXRoaXN0b3J5LnB1c2gobWVzc2FnZSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlucHV0aGlzdG9yeS5sZW5ndGggPiAyMClcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRoaXN0b3J5LnNoaWZ0KCk7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZVsnaW5wdXRoaXN0b3J5J10gPSBKU09OLnN0cmluZ2lmeSh0aGlzLmlucHV0aGlzdG9yeSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgcmVzb2x2ZU1lc3NhZ2U6IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICBmb3IodmFyIGk9MDsgaTx0aGlzLnVzZXJNZXNzYWdlcy5sZW5ndGg7ICsraSl7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLnVzZXJNZXNzYWdlc1tpXS5tZXNzYWdlID09IGRhdGEuZGF0YSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSB0aGlzLnVzZXJNZXNzYWdlcy5zcGxpY2UoaSwgMSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdGF0dXMoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBub3RpZmljYXRpb25QZXJtaXNzaW9uOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAgJC5EZWZlcnJlZCgpO1xyXG4gICAgICAgICAgICBzd2l0Y2goTm90aWZpY2F0aW9uLnBlcm1pc3Npb24pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKGZ1bmN0aW9uKHBlcm1pc3Npb24pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2gocGVybWlzc2lvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImdyYW50ZWRcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHBlcm1pc3Npb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QocGVybWlzc2lvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJncmFudGVkXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShOb3RpZmljYXRpb24ucGVybWlzc2lvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGVuaWVkXCI6XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChOb3RpZmljYXRpb24ucGVybWlzc2lvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2UoKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzaG93Tm90aWZpY2F0aW9uOiBmdW5jdGlvbihtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgIGlmKE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uID09PSBcImdyYW50ZWRcIil7XHJcbiAgICAgICAgICAgICAgICB2YXIgbiA9IG5ldyBOb3RpZmljYXRpb24oIG1lc3NhZ2UudXNlci51c2VybmFtZSsnIHNhaWQgLi4uJywge1xyXG4gICAgICAgICAgICAgICAgICAgIGJvZHkgOiBtZXNzYWdlLm1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgdGFnICA6IG1lc3NhZ2UudGltZXN0YW1wLnVuaXgoKSxcclxuICAgICAgICAgICAgICAgICAgICBpY29uIDogZGVzdGlueS5jZG4rJy9jaGF0L2ltZy9ub3RpZnlpY29uLnBuZycsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlyICA6IFwiYXV0b1wiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQobi5jbG9zZS5iaW5kKG4pLCA1MDAwKTtcclxuICAgICAgICAgICAgICAgIG4ub25jbGljayA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdG9kbyBvcGVuIGNoYXQgYXQgc3BlY2lmaWMgbGluZVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGxvYWRIaWdobGlnaHRlcnM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5lbmdpbmUudXNlciAmJiB0aGlzLmVuZ2luZS51c2VyLnVzZXJuYW1lKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5oaWdobGlnaHRyZWdleC51c2VyID0gbmV3IFJlZ0V4cChcIlxcXFxiQD8oPzpcIit0aGlzLmVuZ2luZS51c2VyLnVzZXJuYW1lK1wiKVxcXFxiXCIsIFwiaVwiKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBoaWdobGlnaHRzID0gdGhpcy5nZXRQcmVmZXJlbmNlKCdjdXN0b21oaWdobGlnaHQnKTtcclxuICAgICAgICAgICAgaWYgKGhpZ2hsaWdodHMubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gaGlnaGxpZ2h0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcclxuICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHRzW2ldID0gaGlnaGxpZ2h0c1tpXS5yZXBsYWNlKC9bXFwtXFxbXFxdXFwvXFx7XFx9XFwoXFwpXFwqXFwrXFw/XFwuXFxcXFxcXlxcJFxcfF0vZywgXCJcXFxcJCZcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpZ2hsaWdodHJlZ2V4LmN1c3RvbSA9IG5ldyBSZWdFeHAoXCJcXFxcYig/OlwiK2hpZ2hsaWdodHMuam9pbihcInxcIikrXCIpXFxcXGJcIiwgXCJpXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgcmVuZXdIaWdobGlnaHQ6IGZ1bmN0aW9uKG5pY2ssIGRvaGlnaGxpZ2h0KXtcclxuICAgICAgICAgICAgaWYgKGRvaGlnaGxpZ2h0KXtcclxuICAgICAgICAgICAgICAgIHRoaXMubGluZXMuY2hpbGRyZW4oJ2RpdltkYXRhLXVzZXJuYW1lPVwiJytuaWNrLnRvTG93ZXJDYXNlKCkrJ1wiXScpLmFkZENsYXNzKFwiaGlnaGxpZ2h0XCIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5saW5lcy5jaGlsZHJlbignZGl2W2RhdGEtdXNlcm5hbWU9XCInK25pY2sudG9Mb3dlckNhc2UoKSsnXCJdJykucmVtb3ZlQ2xhc3MoXCJoaWdobGlnaHRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBoYW5kbGVIaWdobGlnaHQ6IGZ1bmN0aW9uKG1lc3NhZ2Upe1xyXG4gICAgICAgICAgICBpZiAoIW1lc3NhZ2UudXNlciB8fCAhbWVzc2FnZS51c2VyLnVzZXJuYW1lIHx8IG1lc3NhZ2UudXNlci51c2VybmFtZSA9PSB0aGlzLmVuZ2luZS51c2VyLnVzZXJuYW1lIHx8ICF0aGlzLmdldFByZWZlcmVuY2UoJ2hpZ2hsaWdodCcpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgaWYobWVzc2FnZS51c2VyLmhhc0ZlYXR1cmUoZGVzdGlueS5Vc2VyRmVhdHVyZXMuQk9UKSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHZhciBuaWNrcyA9IHRoaXMuZ2V0UHJlZmVyZW5jZSgnaGlnaGxpZ2h0bmlja3MnKTtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgbmlja3NbbWVzc2FnZS51c2VyLnVzZXJuYW1lLnRvTG93ZXJDYXNlKCldIHx8IG5pY2tzW21lc3NhZ2UudXNlci51c2VybmFtZV0gfHxcclxuICAgICAgICAgICAgICAgICh0aGlzLmhpZ2hsaWdodHJlZ2V4LnVzZXIgJiYgdGhpcy5oaWdobGlnaHRyZWdleC51c2VyLnRlc3QobWVzc2FnZS5tZXNzYWdlKSkgfHxcclxuICAgICAgICAgICAgICAgICh0aGlzLmhpZ2hsaWdodHJlZ2V4LmN1c3RvbSAmJiB0aGlzLmhpZ2hsaWdodHJlZ2V4LmN1c3RvbS50ZXN0KG1lc3NhZ2UubWVzc2FnZSkpXHJcbiAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZS51aS5hZGRDbGFzcygnaGlnaGxpZ2h0Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5nZXRQcmVmZXJlbmNlKCdhbGxvd05vdGlmaWNhdGlvbnMnKSAmJiAhdGhpcy5oYXNGb2N1cygpICYmICF0aGlzLmJhY2tsb2dMb2FkaW5nKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd05vdGlmaWNhdGlvbihtZXNzYWdlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2V0UHJlZmVyZW5jZTogZnVuY3Rpb24oa2V5LCB2YWx1ZSl7XHJcbiAgICAgICAgICAgIHRoaXMucHJlZmVyZW5jZXNba2V5XS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB0aGlzLmFwcGx5UHJlZmVyZW5jZXNDc3MoKTtcclxuICAgICAgICAgICAgdGhpcy5zYXZlUHJlZmVyZW5jZXMoKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBnZXRQcmVmZXJlbmNlOiBmdW5jdGlvbihrZXkpe1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcmVmZXJlbmNlc1trZXldLnZhbHVlIHx8IG51bGw7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgbG9hZFByZWZlcmVuY2VzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHZhciBwcmVmZXJlbmNlcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlWydjaGF0b3B0aW9ucyddIHx8ICd7fScpO1xyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBrZXkgaW4gcHJlZmVyZW5jZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJlZmVyZW5jZXMuaGFzT3duUHJvcGVydHkoa2V5KSAmJiB0aGlzLnByZWZlcmVuY2VzLmhhc093blByb3BlcnR5KGtleSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJlZmVyZW5jZXNba2V5XS52YWx1ZSA9IHByZWZlcmVuY2VzW2tleV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5UHJlZmVyZW5jZXNDc3MoKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoaWdub3JlZCkge31cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzYXZlUHJlZmVyZW5jZXM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHByZWZlcmVuY2VzID0ge307XHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGtleSBpbiB0aGlzLnByZWZlcmVuY2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJlZmVyZW5jZXMuaGFzT3duUHJvcGVydHkoa2V5KSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlZmVyZW5jZXNba2V5XSA9IHRoaXMucHJlZmVyZW5jZXNba2V5XS52YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZVsnY2hhdG9wdGlvbnMnXSA9IEpTT04uc3RyaW5naWZ5KHByZWZlcmVuY2VzKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoaWdub3JlZCkge31cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBhcHBseVByZWZlcmVuY2VzQ3NzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZm9yKHZhciBrZXkgaW4gdGhpcy5wcmVmZXJlbmNlcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucHJlZmVyZW5jZXMuaGFzT3duUHJvcGVydHkoa2V5KSAmJiB0eXBlb2YgdGhpcy5wcmVmZXJlbmNlc1trZXldLnZhbHVlID09PSAnYm9vbGVhbicpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51aS50b2dnbGVDbGFzcygncHJlZi0nICsga2V5LCB0aGlzLnByZWZlcmVuY2VzW2tleV0udmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgcmVtb3ZlVXNlck1lc3NhZ2VzOiBmdW5jdGlvbih1c2VybmFtZSkge1xyXG4gICAgICAgICAgICB0aGlzLmxpbmVzLmNoaWxkcmVuKCdkaXZbZGF0YS11c2VybmFtZT1cIicrdXNlcm5hbWUudG9Mb3dlckNhc2UoKSsnXCJdJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsUGx1Z2luLnJlc2V0KCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2V0VW5yZWFkTWVzc2FnZUNvdW50OiBmdW5jdGlvbihuKXtcclxuICAgICAgICAgICAgdGhpcy5wbWNvdW50bnVtID0gTWF0aC5tYXgoMCwgbik7XHJcbiAgICAgICAgICAgIHRoaXMucG1jb3VudC50b2dnbGVDbGFzcygnaGlkZGVuJywgIXRoaXMucG1jb3VudG51bSkudGV4dCh0aGlzLnBtY291bnRudW0pO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGhhc0ZvY3VzOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbnB1dC5pcygnOmZvY3VzJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIENoYXRVc2VyID0gZnVuY3Rpb24gY2xzKGFyZ3Mpe1xyXG4gICAgICAgIGFyZ3MgPSBhcmdzIHx8IHt9O1xyXG4gICAgICAgIHRoaXMubmljayAgICAgPSBhcmdzLm5pY2sgfHwgJyc7XHJcbiAgICAgICAgdGhpcy51c2VybmFtZSA9IGFyZ3MubmljayB8fCAnJztcclxuICAgICAgICB0aGlzLmZlYXR1cmVzID0gYXJncy5mZWF0dXJlcyB8fCBbXTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBDaGF0VXNlci5wcm90b3R5cGUuaGFzQW55RmVhdHVyZXMgPSBmdW5jdGlvbigvKiAuLi4gKi8pe1xyXG4gICAgICAgIGZvcih2YXIgaT0wOyBpPGFyZ3VtZW50cy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuZmVhdHVyZXMuaW5kZXhPZihhcmd1bWVudHNbaV0pICE9PSAtMSlcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgQ2hhdFVzZXIucHJvdG90eXBlLmhhc0ZlYXR1cmUgPSBmdW5jdGlvbihmZWF0dXJlKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5oYXNBbnlGZWF0dXJlcyhmZWF0dXJlKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gVUkgTUVTU0FHRSAtIGFiaWxpdHkgdG8gc2VuZCBIVE1MIG1hcmt1cCB0byB0aGUgY2hhdFxyXG4gICAgQ2hhdFVJTWVzc2FnZSA9IGZ1bmN0aW9uKGh0bWwpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLmluaXQoaHRtbCk7XHJcbiAgICB9O1xyXG4gICAgQ2hhdFVJTWVzc2FnZS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKGh0bWwpe1xyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IGh0bWw7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgQ2hhdFVJTWVzc2FnZS5wcm90b3R5cGUuaHRtbCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcCh0aGlzLndyYXBNZXNzYWdlKCkpO1xyXG4gICAgfTtcclxuICAgIENoYXRVSU1lc3NhZ2UucHJvdG90eXBlLndyYXAgPSBmdW5jdGlvbihodG1sKXtcclxuICAgICAgICByZXR1cm4gJzxkaXYgY2xhc3M9XCJ1aS1tc2dcIj4nK2h0bWwrJzwvZGl2Pic7XHJcbiAgICB9O1xyXG4gICAgQ2hhdFVJTWVzc2FnZS5wcm90b3R5cGUud3JhcE1lc3NhZ2UgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2U7XHJcbiAgICB9O1xyXG4gICAgLy8gRU5EIFVJIE1FU1NBR0VcclxuXHJcbiAgICAvLyBCQVNFIE1FU1NBR0VcclxuICAgIENoYXRNZXNzYWdlID0gZnVuY3Rpb24obWVzc2FnZSwgdGltZXN0YW1wKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5pbml0KG1lc3NhZ2UsIHRpbWVzdGFtcCk7XHJcbiAgICB9O1xyXG4gICAgQ2hhdE1lc3NhZ2UucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbihtZXNzYWdlLCB0aW1lc3RhbXApe1xyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XHJcbiAgICAgICAgdGhpcy50aW1lc3RhbXAgPSBtb21lbnQudXRjKHRpbWVzdGFtcCkubG9jYWwoKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0gbnVsbDtcclxuICAgICAgICB0aGlzLnR5cGUgPSAnY2hhdCc7XHJcbiAgICAgICAgdGhpcy50aW1lc3RhbXBmb3JtYXQgPSBkZXN0aW55LmNoYXQuZ3VpLmdldFByZWZlcmVuY2UoJ3RpbWVzdGFtcGZvcm1hdCcpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIENoYXRNZXNzYWdlLnByb3RvdHlwZS5zdGF0dXMgPSBmdW5jdGlvbihzdGF0ZSl7XHJcbiAgICAgICAgaWYodGhpcy51aSl7XHJcbiAgICAgICAgICAgIGlmKHN0YXRlKVxyXG4gICAgICAgICAgICAgICAgdGhpcy51aS5hZGRDbGFzcyhzdGF0ZSk7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHRoaXMudWkucmVtb3ZlQ2xhc3ModGhpcy5zdGF0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBDaGF0TWVzc2FnZS5wcm90b3R5cGUud3JhcFRpbWUgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIHJldHVybiAnPHRpbWUgdGl0bGU9XCInK3RoaXMudGltZXN0YW1wLmZvcm1hdCgnTU1NTSBEbyBZWVlZLCBoOm1tOnNzIGEnKSsnXCIgZGF0ZXRpbWU9XCInK3RoaXMudGltZXN0YW1wLmZvcm1hdCgnTU1NTSBEbyBZWVlZLCBoOm1tOnNzIGEnKSsnXCI+JytcclxuICAgICAgICAgICAgdGhpcy50aW1lc3RhbXAuZm9ybWF0KHRoaXMudGltZXN0YW1wZm9ybWF0KStcclxuICAgICAgICAgICAgJzwvdGltZT4nO1xyXG4gICAgfTtcclxuICAgIENoYXRNZXNzYWdlLnByb3RvdHlwZS53cmFwTWVzc2FnZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgcmV0dXJuICQoJzxzcGFuIGNsYXNzPVwibXNnXCIvPicpLnRleHQodGhpcy5tZXNzYWdlKS5nZXQoMCkub3V0ZXJIVE1MO1xyXG4gICAgfTtcclxuICAgIENoYXRNZXNzYWdlLnByb3RvdHlwZS5odG1sID0gZnVuY3Rpb24oKXtcclxuICAgICAgICByZXR1cm4gdGhpcy53cmFwKHRoaXMud3JhcFRpbWUoKSArICcgJyArIHRoaXMud3JhcE1lc3NhZ2UoKSk7XHJcbiAgICB9O1xyXG4gICAgQ2hhdE1lc3NhZ2UucHJvdG90eXBlLndyYXAgPSBmdW5jdGlvbihjb250ZW50KXtcclxuICAgICAgICByZXR1cm4gJzxkaXYgY2xhc3M9XCInK3RoaXMudHlwZSsnLW1zZ1wiPicrY29udGVudCsnPC9kaXY+JztcclxuICAgIH07XHJcbiAgICAvLyBFTkQgQkFTRSBNRVNTQUdFXHJcblxyXG4gICAgLy8gRVJST1IgTUVTU0FHRVxyXG4gICAgQ2hhdEVycm9yTWVzc2FnZSA9IGZ1bmN0aW9uKGVycm9yLCB0aW1lc3RhbXApe1xyXG4gICAgICAgIHRoaXMuaW5pdChlcnJvciwgdGltZXN0YW1wKTtcclxuICAgICAgICB0aGlzLnR5cGUgPSAnZXJyb3InO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgICQuZXh0ZW5kKENoYXRFcnJvck1lc3NhZ2UucHJvdG90eXBlLCBDaGF0TWVzc2FnZS5wcm90b3R5cGUpO1xyXG4gICAgQ2hhdEVycm9yTWVzc2FnZS5wcm90b3R5cGUuaHRtbCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud3JhcCh0aGlzLndyYXBUaW1lKCkgKyAnIDxpIGNsYXNzPVwiaWNvbi1lcnJvclwiPjwvaT4gJyArIHRoaXMud3JhcE1lc3NhZ2UoKSk7XHJcbiAgICB9O1xyXG4gICAgLy8gRU5EIEVSUk9SIE1FU1NBR0VcclxuXHJcbiAgICAvLyBJTkZPIC8gSEVMUCBNRVNTQUdFXHJcbiAgICBDaGF0SW5mb01lc3NhZ2UgPSBmdW5jdGlvbihtZXNzYWdlLCB0aW1lc3RhbXApe1xyXG4gICAgICAgIHRoaXMuaW5pdChtZXNzYWdlLCB0aW1lc3RhbXApO1xyXG4gICAgICAgIHRoaXMudHlwZSA9ICdpbmZvJztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAkLmV4dGVuZChDaGF0SW5mb01lc3NhZ2UucHJvdG90eXBlLCBDaGF0TWVzc2FnZS5wcm90b3R5cGUpO1xyXG4gICAgQ2hhdEluZm9NZXNzYWdlLnByb3RvdHlwZS5odG1sID0gZnVuY3Rpb24oKXtcclxuICAgICAgICByZXR1cm4gdGhpcy53cmFwKHRoaXMud3JhcFRpbWUoKSArICcgPGkgY2xhc3M9XCJpY29uLWluZm9cIj48L2k+ICcgKyB0aGlzLndyYXBNZXNzYWdlKCkpO1xyXG4gICAgfTtcclxuICAgIENoYXRJbmZvTWVzc2FnZS5wcm90b3R5cGUud3JhcE1lc3NhZ2UgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciBlbGVtICAgICA9ICQoJzxzcGFuIGNsYXNzPVwibXNnXCIvPicpLnRleHQodGhpcy5tZXNzYWdlKSxcclxuICAgICAgICAgICAgZW5jb2RlZCAgPSBlbGVtLmh0bWwoKTtcclxuXHJcbiAgICAgICAgZm9yKHZhciBpPTA7IGk8ZGVzdGlueS5jaGF0Lmd1aS5mb3JtYXR0ZXJzLmxlbmd0aDsgKytpKVxyXG4gICAgICAgICAgICBlbmNvZGVkID0gZGVzdGlueS5jaGF0Lmd1aS5mb3JtYXR0ZXJzW2ldLmZvcm1hdChlbmNvZGVkLCBudWxsLCB0aGlzLm1lc3NhZ2UpO1xyXG5cclxuICAgICAgICBlbGVtLmh0bWwoZW5jb2RlZCk7XHJcbiAgICAgICAgcmV0dXJuIGVsZW0uZ2V0KDApLm91dGVySFRNTDtcclxuICAgIH07XHJcbiAgICAvLyBFTkQgSU5GTyBNRVNTQUdFXHJcblxyXG4gICAgLy8gQ09NTUFORCBNRVNTQUdFXHJcbiAgICBDaGF0Q29tbWFuZE1lc3NhZ2UgPSBmdW5jdGlvbihtZXNzYWdlLCB0aW1lc3RhbXApe1xyXG4gICAgICAgIHRoaXMuaW5pdChtZXNzYWdlLCB0aW1lc3RhbXApO1xyXG4gICAgICAgIHRoaXMudHlwZSA9ICdjb21tYW5kJztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAkLmV4dGVuZChDaGF0Q29tbWFuZE1lc3NhZ2UucHJvdG90eXBlLCBDaGF0TWVzc2FnZS5wcm90b3R5cGUpO1xyXG4gICAgQ2hhdENvbW1hbmRNZXNzYWdlLnByb3RvdHlwZS5odG1sID0gZnVuY3Rpb24oKXtcclxuICAgICAgICByZXR1cm4gdGhpcy53cmFwKHRoaXMud3JhcFRpbWUoKSArICcgPGkgY2xhc3M9XCJpY29uLWNvbW1hbmRcIj48L2k+ICcgKyB0aGlzLndyYXBNZXNzYWdlKCkpO1xyXG4gICAgfTtcclxuICAgIC8vIEVORCBDT01NQU5EIE1FU1NBR0VcclxuXHJcbiAgICAvLyBTVEFUVVMgTUVTU0FHRVxyXG4gICAgQ2hhdFN0YXR1c01lc3NhZ2UgPSBmdW5jdGlvbihtZXNzYWdlLCB0aW1lc3RhbXApe1xyXG4gICAgICAgIHRoaXMuaW5pdChtZXNzYWdlLCB0aW1lc3RhbXApO1xyXG4gICAgICAgIHRoaXMudHlwZSA9ICdzdGF0dXMnO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgICQuZXh0ZW5kKENoYXRTdGF0dXNNZXNzYWdlLnByb3RvdHlwZSwgQ2hhdE1lc3NhZ2UucHJvdG90eXBlKTtcclxuICAgIENoYXRTdGF0dXNNZXNzYWdlLnByb3RvdHlwZS5odG1sID0gZnVuY3Rpb24oKXtcclxuICAgICAgICByZXR1cm4gdGhpcy53cmFwKHRoaXMud3JhcFRpbWUoKSArICcgPGkgY2xhc3M9XCJpY29uLXN0YXR1c1wiPjwvaT4gJyArIHRoaXMud3JhcE1lc3NhZ2UoKSk7XHJcbiAgICB9O1xyXG4gICAgLy8gRU5EIFNUQVRVUyBNRVNTQUdFXHJcblxyXG4gICAgLy8gQlJPQURDQVNUIE1FU1NBR0VcclxuICAgIENoYXRCcm9hZGNhc3RNZXNzYWdlID0gZnVuY3Rpb24obWVzc2FnZSwgdGltZXN0YW1wKXtcclxuICAgICAgICB0aGlzLmluaXQobWVzc2FnZSwgdGltZXN0YW1wKTtcclxuICAgICAgICB0aGlzLnR5cGUgPSAnYnJvYWRjYXN0JztcclxuICAgICAgICB0aGlzLnVzZXIgPSB7ZmVhdHVyZXM6IFtudWxsXX07IC8vIHNvIHRoYXQgZ2xvYmFsIGVtb3RlcyBhcmUgaW4gZWZmZWN0XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgJC5leHRlbmQoQ2hhdEJyb2FkY2FzdE1lc3NhZ2UucHJvdG90eXBlLCBDaGF0TWVzc2FnZS5wcm90b3R5cGUpO1xyXG4gICAgQ2hhdEJyb2FkY2FzdE1lc3NhZ2UucHJvdG90eXBlLmh0bWwgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLndyYXAodGhpcy53cmFwVGltZSgpICsgJyAnICsgdGhpcy53cmFwTWVzc2FnZSgpKTtcclxuICAgIH07XHJcbiAgICBDaGF0QnJvYWRjYXN0TWVzc2FnZS5wcm90b3R5cGUud3JhcE1lc3NhZ2UgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciBlbGVtICAgICA9ICQoJzxzcGFuIGNsYXNzPVwibXNnXCIvPicpLnRleHQodGhpcy5tZXNzYWdlKSxcclxuICAgICAgICAgICAgZW5jb2RlZCAgPSBlbGVtLmh0bWwoKTtcclxuXHJcbiAgICAgICAgZm9yKHZhciBpPTA7IGk8ZGVzdGlueS5jaGF0Lmd1aS5mb3JtYXR0ZXJzLmxlbmd0aDsgKytpKVxyXG4gICAgICAgICAgICBlbmNvZGVkID0gZGVzdGlueS5jaGF0Lmd1aS5mb3JtYXR0ZXJzW2ldLmZvcm1hdChlbmNvZGVkLCBudWxsLCB0aGlzLm1lc3NhZ2UpO1xyXG5cclxuICAgICAgICBlbGVtLmh0bWwoZW5jb2RlZCk7XHJcbiAgICAgICAgcmV0dXJuIGVsZW0uZ2V0KDApLm91dGVySFRNTDtcclxuICAgIH07XHJcbiAgICAvLyBFTkQgQlJPQURDQVNUIE1FU1NBR0VcclxuXHJcbiAgICAvLyBVU0VSIE1FU1NBR0VcclxuICAgIENoYXRVc2VyTWVzc2FnZSA9IGZ1bmN0aW9uKG1lc3NhZ2UsIHVzZXIsIHRpbWVzdGFtcCl7XHJcbiAgICAgICAgdGhpcy5pbml0KG1lc3NhZ2UsIHRpbWVzdGFtcCk7XHJcbiAgICAgICAgdGhpcy50eXBlID0gJ3VzZXInO1xyXG4gICAgICAgIHRoaXMudXNlciA9IHVzZXI7XHJcbiAgICAgICAgdGhpcy5wcmVwYXJlTWVzc2FnZSgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgICQuZXh0ZW5kKENoYXRVc2VyTWVzc2FnZS5wcm90b3R5cGUsIENoYXRNZXNzYWdlLnByb3RvdHlwZSk7XHJcbiAgICBDaGF0VXNlck1lc3NhZ2UucHJvdG90eXBlLnByZXBhcmVNZXNzYWdlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5pc1NsYXNoTWUgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy5tZXNzYWdlLnN1YnN0cmluZygwLCA0KSA9PT0gJy9tZSAnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNTbGFzaE1lID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gdGhpcy5tZXNzYWdlLnN1YnN0cmluZyg0KTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubWVzc2FnZS5zdWJzdHJpbmcoMCwgMikgPT09ICcvLycpXHJcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IHRoaXMubWVzc2FnZS5zdWJzdHJpbmcoMSk7XHJcbiAgICB9O1xyXG4gICAgQ2hhdFVzZXJNZXNzYWdlLnByb3RvdHlwZS53cmFwID0gZnVuY3Rpb24oaHRtbCwgY3NzKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudXNlciAmJiB0aGlzLnVzZXIudXNlcm5hbWUpXHJcbiAgICAgICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz1cIicrdGhpcy50eXBlKyctbXNnJysoKGNzcykgPyAnICcrY3NzOicnKSsnXCIgZGF0YS11c2VybmFtZT1cIicrdGhpcy51c2VyLnVzZXJuYW1lLnRvTG93ZXJDYXNlKCkrJ1wiPicraHRtbCsnPC9kaXY+JztcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz1cIicrdGhpcy50eXBlKyctbXNnJysoKGNzcykgPyAnICcrY3NzOicnKSsnXCI+JytodG1sKyc8L2Rpdj4nO1xyXG4gICAgfTtcclxuXHJcbiAgICBDaGF0VXNlck1lc3NhZ2UucHJvdG90eXBlLmdldEZlYXR1cmVIVE1MID0gZnVuY3Rpb24odXNlcil7XHJcbiAgICAgICAgdmFyIGljb25zID0gJyc7XHJcblxyXG4gICAgICAgIGlmKHVzZXIuaGFzRmVhdHVyZShkZXN0aW55LlVzZXJGZWF0dXJlcy5TVUJTQ1JJQkVSVDQpKVxyXG4gICAgICAgICAgICBpY29ucyArPSAnPGkgY2xhc3M9XCJpY29uLXN1YnNjcmliZXJ0NFwiIHRpdGxlPVwiU3Vic2NyaWJlciAoVDQpXCIvPic7XHJcbiAgICAgICAgZWxzZSBpZih1c2VyLmhhc0ZlYXR1cmUoZGVzdGlueS5Vc2VyRmVhdHVyZXMuU1VCU0NSSUJFUlQzKSlcclxuICAgICAgICAgICAgaWNvbnMgKz0gJzxpIGNsYXNzPVwiaWNvbi1zdWJzY3JpYmVydDNcIiB0aXRsZT1cIlN1YnNjcmliZXIgKFQzKVwiLz4nO1xyXG4gICAgICAgIGVsc2UgaWYodXNlci5oYXNGZWF0dXJlKGRlc3RpbnkuVXNlckZlYXR1cmVzLlNVQlNDUklCRVJUMikpXHJcbiAgICAgICAgICAgIGljb25zICs9ICc8aSBjbGFzcz1cImljb24tc3Vic2NyaWJlcnQyXCIgdGl0bGU9XCJTdWJzY3JpYmVyIChUMilcIi8+JztcclxuICAgICAgICBlbHNlIGlmKHVzZXIuaGFzRmVhdHVyZShkZXN0aW55LlVzZXJGZWF0dXJlcy5TVUJTQ1JJQkVSVDEpKVxyXG4gICAgICAgICAgICBpY29ucyArPSAnPGkgY2xhc3M9XCJpY29uLXN1YnNjcmliZXJcIiB0aXRsZT1cIlN1YnNjcmliZXIgKFQxKVwiLz4nO1xyXG4gICAgICAgIGVsc2UgaWYoIXVzZXIuaGFzRmVhdHVyZShkZXN0aW55LlVzZXJGZWF0dXJlcy5TVUJTQ1JJQkVSVDApICYmIHVzZXIuaGFzRmVhdHVyZShkZXN0aW55LlVzZXJGZWF0dXJlcy5TVUJTQ1JJQkVSKSlcclxuICAgICAgICAgICAgaWNvbnMgKz0gJzxpIGNsYXNzPVwiaWNvbi1zdWJzY3JpYmVyXCIgdGl0bGU9XCJTdWJzY3JpYmVyIChUMSlcIi8+JztcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1c2VyLmZlYXR1cmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCh1c2VyLmZlYXR1cmVzW2ldKXtcclxuICAgICAgICAgICAgICAgIGNhc2UgZGVzdGlueS5Vc2VyRmVhdHVyZXMuU1VCU0NSSUJFUlQwIDpcclxuICAgICAgICAgICAgICAgICAgICBpY29ucyArPSAnPGkgY2xhc3M9XCJpY29uLW1pbml0d2l0Y2hcIiB0aXRsZT1cIlR3aXRjaCBzdWJzY3JpYmVyXCIvPic7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGRlc3RpbnkuVXNlckZlYXR1cmVzLkJPVCA6XHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbnMgKz0gJzxpIGNsYXNzPVwiaWNvbi1ib3RcIiB0aXRsZT1cIkJvdFwiLz4nO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBkZXN0aW55LlVzZXJGZWF0dXJlcy5CT1QyIDpcclxuICAgICAgICAgICAgICAgICAgICBpY29ucyArPSAnPGkgY2xhc3M9XCJpY29uLWJvdDJcIiB0aXRsZT1cIkJvdFwiLz4nO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBkZXN0aW55LlVzZXJGZWF0dXJlcy5OT1RBQkxFIDpcclxuICAgICAgICAgICAgICAgICAgICBpY29ucyArPSAnPGkgY2xhc3M9XCJpY29uLW5vdGFibGVcIiB0aXRsZT1cIk5vdGFibGVcIi8+JztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgZGVzdGlueS5Vc2VyRmVhdHVyZXMuVFJVU1RFRCA6XHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbnMgKz0gJzxpIGNsYXNzPVwiaWNvbi10cnVzdGVkXCIgdGl0bGU9XCJUcnVzdGVkXCIvPic7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGRlc3RpbnkuVXNlckZlYXR1cmVzLkNPTlRSSUJVVE9SIDpcclxuICAgICAgICAgICAgICAgICAgICBpY29ucyArPSAnPGkgY2xhc3M9XCJpY29uLWNvbnRyaWJ1dG9yXCIgdGl0bGU9XCJDb250cmlidXRvclwiLz4nO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBkZXN0aW55LlVzZXJGZWF0dXJlcy5DT01QQ0hBTExFTkdFIDpcclxuICAgICAgICAgICAgICAgICAgICBpY29ucyArPSAnPGkgY2xhc3M9XCJpY29uLWNvbXBjaGFsbGVuZ2VcIiB0aXRsZT1cIkNvbXBvc2l0aW9uIFdpbm5lclwiLz4nO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBkZXN0aW55LlVzZXJGZWF0dXJlcy5FVkUgOlxyXG4gICAgICAgICAgICAgICAgICAgIGljb25zICs9ICc8aSBjbGFzcz1cImljb24tZXZlXCIgdGl0bGU9XCJFdmVcIi8+JztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgZGVzdGlueS5Vc2VyRmVhdHVyZXMuU0MyIDpcclxuICAgICAgICAgICAgICAgICAgICBpY29ucyArPSAnPGkgY2xhc3M9XCJpY29uLXNjMlwiIHRpdGxlPVwiU3RhcmNyYWZ0IDJcIi8+JztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgZGVzdGlueS5Vc2VyRmVhdHVyZXMuQlJPQURDQVNURVIgOlxyXG4gICAgICAgICAgICAgICAgICAgIGljb25zICs9ICc8aSBjbGFzcz1cImljb24tYnJvYWRjYXN0ZXJcIiB0aXRsZT1cIkJyb2FkY2FzdGVyXCIvPic7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBpY29ucztcclxuICAgIH07XHJcblxyXG4gICAgQ2hhdFVzZXJNZXNzYWdlLnByb3RvdHlwZS53cmFwVXNlciA9IGZ1bmN0aW9uKHVzZXIpe1xyXG4gICAgICAgIHJldHVybiAoKHRoaXMuaXNTbGFzaE1lKSA/ICcnOnRoaXMuZ2V0RmVhdHVyZUhUTUwodXNlcikpICsnIDxhIGNsYXNzPVwidXNlciAnKyB1c2VyLmZlYXR1cmVzLmpvaW4oJyAnKSArJ1wiPicgK3VzZXIudXNlcm5hbWUrJzwvYT4nO1xyXG4gICAgfTtcclxuICAgIENoYXRVc2VyTWVzc2FnZS5wcm90b3R5cGUud3JhcE1lc3NhZ2UgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciBlbGVtICAgICA9ICQoJzxzcGFuIGNsYXNzPVwibXNnXCIvPicpLnRleHQodGhpcy5tZXNzYWdlKSxcclxuICAgICAgICAgICAgZW5jb2RlZCAgPSBlbGVtLmh0bWwoKTtcclxuXHJcbiAgICAgICAgaWYodGhpcy5pc1NsYXNoTWUpXHJcbiAgICAgICAgICAgIGVsZW0uYWRkQ2xhc3MoJ2Vtb3RlJyk7XHJcblxyXG4gICAgICAgIGZvcih2YXIgaT0wOyBpPGRlc3RpbnkuY2hhdC5ndWkuZm9ybWF0dGVycy5sZW5ndGg7ICsraSlcclxuICAgICAgICAgICAgZW5jb2RlZCA9IGRlc3RpbnkuY2hhdC5ndWkuZm9ybWF0dGVyc1tpXS5mb3JtYXQoZW5jb2RlZCwgdGhpcy51c2VyLCB0aGlzLm1lc3NhZ2UpO1xyXG5cclxuICAgICAgICBlbGVtLmh0bWwoZW5jb2RlZCk7XHJcbiAgICAgICAgcmV0dXJuIGVsZW0uZ2V0KDApLm91dGVySFRNTDtcclxuICAgIH07XHJcbiAgICBDaGF0VXNlck1lc3NhZ2UucHJvdG90eXBlLmh0bWwgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLndyYXAodGhpcy53cmFwVGltZSgpICsgJyAnICsgKCghdGhpcy5pc1NsYXNoTWUpID8gJycgOiAnKicpICsgdGhpcy53cmFwVXNlcih0aGlzLnVzZXIpICsgKCghdGhpcy5pc1NsYXNoTWUpID8gJzogJyA6ICcgJykgKyB0aGlzLndyYXBNZXNzYWdlKCkpO1xyXG4gICAgfTtcclxuICAgIENoYXRVc2VyTWVzc2FnZS5wcm90b3R5cGUuYWRkb25IdG1sID0gZnVuY3Rpb24oKXtcclxuICAgICAgICBpZih0aGlzLmlzU2xhc2hNZSlcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMud3JhcCh0aGlzLndyYXBUaW1lKCkgKyAnIConICsgdGhpcy53cmFwVXNlcih0aGlzLnVzZXIpICsgJyAnICsgdGhpcy53cmFwTWVzc2FnZSgpKTtcclxuICAgICAgICByZXR1cm4gdGhpcy53cmFwKHRoaXMud3JhcFRpbWUoKSArICcgPHNwYW4gY2xhc3M9XCJjb250aW51ZVwiPiZndDs8L3NwYW4+ICcgKyB0aGlzLndyYXBNZXNzYWdlKCksICdjb250aW51ZScpO1xyXG4gICAgfTtcclxuICAgIC8vIEVORCBVU0VSIE1FU1NBR0VcclxuXHJcbiAgICAvLyBQUklWQVRFIE1FU1NBR0VcclxuICAgIENoYXRVc2VyUHJpdmF0ZU1lc3NhZ2UgPSBmdW5jdGlvbihkYXRhLCB1c2VyLCBtZXNzYWdlaWQsIHRpbWVzdGFtcCl7XHJcbiAgICAgICAgdGhpcy5pbml0KGRhdGEsIHRpbWVzdGFtcCk7XHJcbiAgICAgICAgdGhpcy50eXBlID0gJ3VzZXInO1xyXG4gICAgICAgIHRoaXMudXNlciA9IHVzZXI7XHJcbiAgICAgICAgdGhpcy5tZXNzYWdlaWQgPSBtZXNzYWdlaWQ7XHJcbiAgICAgICAgdGhpcy5wcmVwYXJlTWVzc2FnZSgpO1xyXG4gICAgICAgIHRoaXMuaXNTbGFzaE1lID0gZmFsc2U7IC8vIG1ha2Ugc3VyZSBhIHByaXZhdGUgbWVzc2FnZSBpcyBuZXZlciByZWZvcm1hdHRlZCB0byAvbWVcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAkLmV4dGVuZChDaGF0VXNlclByaXZhdGVNZXNzYWdlLnByb3RvdHlwZSwgQ2hhdFVzZXJNZXNzYWdlLnByb3RvdHlwZSk7XHJcbiAgICBDaGF0VXNlclByaXZhdGVNZXNzYWdlLnByb3RvdHlwZS53cmFwID0gZnVuY3Rpb24oaHRtbCwgY3NzKSB7XHJcbiAgICAgICAgcmV0dXJuICcnICtcclxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCInK3RoaXMudHlwZSsnLW1zZycrKChjc3MpID8gJyAnK2NzczonJykrJyBwcml2YXRlLW1lc3NhZ2VcIiBkYXRhLW1lc3NhZ2VpZD1cIicrdGhpcy5tZXNzYWdlaWQrJ1wiIGRhdGEtdXNlcm5hbWU9XCInK3RoaXMudXNlci51c2VybmFtZS50b0xvd2VyQ2FzZSgpKydcIj4nK1xyXG4gICAgICAgICAgICBodG1sK1xyXG4gICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJtZXNzYWdlLWFjdGlvbnNcIj4nK1xyXG4gICAgICAgICAgICAnPGEgaHJlZj1cIiNcIiBjbGFzcz1cIm1hcmstYXMtcmVhZFwiPk1hcmsgYXMgcmVhZCA8aSBjbGFzcz1cImZhIGZhLWNoZWNrLXNxdWFyZS1vXCI+PC9pPjwvYT4nK1xyXG4gICAgICAgICAgICAnPC9zcGFuPicrXHJcbiAgICAgICAgICAgICc8aSBjbGFzcz1cInNwZWVjaC1hcnJvd1wiPjwvaT4nK1xyXG4gICAgICAgICAgICAnPC9kaXY+JztcclxuICAgIH07XHJcbiAgICBDaGF0VXNlclByaXZhdGVNZXNzYWdlLnByb3RvdHlwZS53cmFwVXNlciA9IGZ1bmN0aW9uKHVzZXIpe1xyXG4gICAgICAgIHJldHVybiAnIDxpIGNsYXNzPVwiaWNvbi1tYWlsLXNlbmRcIiB0aXRsZT1cIlJlY2VpdmVkIE1lc3NhZ2VcIj48L2k+IDxhIGNsYXNzPVwidXNlclwiPicgK3VzZXIudXNlcm5hbWUrJzwvYT4nO1xyXG4gICAgfTtcclxuICAgIC8vIEVORCBQUklWQVRFIE1FU1NBR0VcclxuXHJcbiAgICAvLyBFTU9URSBDT1VOVFxyXG4gICAgQ2hhdEVtb3RlTWVzc2FnZSA9IGZ1bmN0aW9uKGVtb3RlLCB0aW1lc3RhbXApe1xyXG4gICAgICAgIHRoaXMuaW5pdChlbW90ZSwgdGltZXN0YW1wKTtcclxuICAgICAgICB0aGlzLmVtb3RlY291bnQgPSAxO1xyXG4gICAgICAgIHRoaXMuZW1vdGVjb3VudHVpID0gbnVsbDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICAkLmV4dGVuZChDaGF0RW1vdGVNZXNzYWdlLnByb3RvdHlwZSwgQ2hhdE1lc3NhZ2UucHJvdG90eXBlKTtcclxuICAgIENoYXRFbW90ZU1lc3NhZ2UucHJvdG90eXBlLmdldEVtb3RlQ291bnRMYWJlbCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgcmV0dXJuIFwiPGkgY2xhc3M9J2NvdW50Jz5cIiArIHRoaXMuZW1vdGVjb3VudCArIFwiPC9pPjxpIGNsYXNzPSd4Jz5YPC9pPiBDLUMtQy1DT01CT1wiO1xyXG4gICAgfTtcclxuICAgIENoYXRFbW90ZU1lc3NhZ2UucHJvdG90eXBlLmh0bWwgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLndyYXAodGhpcy53cmFwVGltZSgpICsgJyAnICsgdGhpcy53cmFwTWVzc2FnZSgpICsgJzxzcGFuIGNsYXNzPVwiZW1vdGVjb3VudFwiPicrIHRoaXMuZ2V0RW1vdGVDb3VudExhYmVsKCkgKyc8c3Bhbj4nKTtcclxuICAgIH07XHJcbiAgICBDaGF0RW1vdGVNZXNzYWdlLnByb3RvdHlwZS53cmFwTWVzc2FnZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIGVsZW0gICAgID0gJCgnPHNwYW4gY2xhc3M9XCJtc2dcIi8+JykudGV4dCh0aGlzLm1lc3NhZ2UpLFxyXG4gICAgICAgICAgICBlbmNvZGVkICA9IGVsZW0uaHRtbCgpO1xyXG5cclxuICAgICAgICBmb3IodmFyIGk9MDsgaTxkZXN0aW55LmNoYXQuZ3VpLmZvcm1hdHRlcnMubGVuZ3RoOyArK2kpXHJcbiAgICAgICAgICAgIGVuY29kZWQgPSBkZXN0aW55LmNoYXQuZ3VpLmZvcm1hdHRlcnNbaV0uZm9ybWF0KGVuY29kZWQsIG51bGwsIHRoaXMubWVzc2FnZSk7XHJcblxyXG4gICAgICAgIGVsZW0uaHRtbChlbmNvZGVkKTtcclxuICAgICAgICByZXR1cm4gZWxlbS5nZXQoMCkub3V0ZXJIVE1MO1xyXG4gICAgfTtcclxuICAgIENoYXRFbW90ZU1lc3NhZ2UucHJvdG90eXBlLmluY0Vtb3RlQ291bnQgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICsrdGhpcy5lbW90ZWNvdW50O1xyXG5cclxuICAgICAgICB2YXIgc3RlcENsYXNzID0gJyc7XHJcbiAgICAgICAgaWYodGhpcy5lbW90ZWNvdW50ID49IDUwKVxyXG4gICAgICAgICAgICBzdGVwQ2xhc3MgPSAnIHg1MCc7XHJcbiAgICAgICAgZWxzZSBpZih0aGlzLmVtb3RlY291bnQgPj0gMzApXHJcbiAgICAgICAgICAgIHN0ZXBDbGFzcyA9ICcgeDMwJztcclxuICAgICAgICBlbHNlIGlmKHRoaXMuZW1vdGVjb3VudCA+PSAyMClcclxuICAgICAgICAgICAgc3RlcENsYXNzID0gJyB4MjAnO1xyXG4gICAgICAgIGVsc2UgaWYodGhpcy5lbW90ZWNvdW50ID49IDEwKVxyXG4gICAgICAgICAgICBzdGVwQ2xhc3MgPSAnIHgxMCc7XHJcbiAgICAgICAgZWxzZSBpZih0aGlzLmVtb3RlY291bnQgPj0gNSlcclxuICAgICAgICAgICAgc3RlcENsYXNzID0gJyB4NSc7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuZW1vdGVjb3VudHVpID09IG51bGwpXHJcbiAgICAgICAgICAgIHRoaXMuZW1vdGVjb3VudHVpID0gdGhpcy51aS5maW5kKCcuZW1vdGVjb3VudCcpO1xyXG5cclxuICAgICAgICB0aGlzLmVtb3RlY291bnR1aS5kZXRhY2goKS5hdHRyKCdjbGFzcycsICdlbW90ZWNvdW50JyArIHN0ZXBDbGFzcykuaHRtbCh0aGlzLmdldEVtb3RlQ291bnRMYWJlbCgpKS5hcHBlbmRUbyh0aGlzLnVpKTtcclxuICAgIH07XHJcbiAgICAvLyBFTkQgRU1PVEUgQ09VTlRcclxuXHJcbn0pKGpRdWVyeSk7XHJcbiJdfQ==
